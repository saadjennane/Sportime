(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Fg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bg={exports:{}},tc={},Vg={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=Symbol.for("react.element"),Bj=Symbol.for("react.portal"),Vj=Symbol.for("react.fragment"),$j=Symbol.for("react.strict_mode"),Uj=Symbol.for("react.profiler"),Gj=Symbol.for("react.provider"),Wj=Symbol.for("react.context"),Yj=Symbol.for("react.forward_ref"),Hj=Symbol.for("react.suspense"),qj=Symbol.for("react.memo"),Kj=Symbol.for("react.lazy"),Np=Symbol.iterator;function Xj(e){return e===null||typeof e!="object"?null:(e=Np&&e[Np]||e["@@iterator"],typeof e=="function"?e:null)}var $g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ug=Object.assign,Gg={};function xa(e,t,n){this.props=e,this.context=t,this.refs=Gg,this.updater=n||$g}xa.prototype.isReactComponent={};xa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wg(){}Wg.prototype=xa.prototype;function lm(e,t,n){this.props=e,this.context=t,this.refs=Gg,this.updater=n||$g}var cm=lm.prototype=new Wg;cm.constructor=lm;Ug(cm,xa.prototype);cm.isPureReactComponent=!0;var kp=Array.isArray,Yg=Object.prototype.hasOwnProperty,dm={current:null},Hg={key:!0,ref:!0,__self:!0,__source:!0};function qg(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Yg.call(t,r)&&!Hg.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Gi,type:e,key:i,ref:o,props:a,_owner:dm.current}}function Qj(e,t){return{$$typeof:Gi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function um(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gi}function Jj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sp=/\/+/g;function Gc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jj(""+e.key):t.toString(36)}function Xo(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gi:case Bj:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Gc(o,0):r,kp(a)?(n="",e!=null&&(n=e.replace(Sp,"$&/")+"/"),Xo(a,t,n,"",function(d){return d})):a!=null&&(um(a)&&(a=Qj(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Sp,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",kp(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Gc(i,l);o+=Xo(i,t,n,c,a)}else if(c=Xj(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Gc(i,l++),o+=Xo(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vo(e,t,n){if(e==null)return e;var r=[],a=0;return Xo(e,r,"","",function(i){return t.call(n,i,a++)}),r}function Zj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ct={current:null},Qo={transition:null},ew={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Qo,ReactCurrentOwner:dm};function Kg(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:vo,forEach:function(e,t,n){vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vo(e,function(){t++}),t},toArray:function(e){return vo(e,function(t){return t})||[]},only:function(e){if(!um(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=xa;ce.Fragment=Vj;ce.Profiler=Uj;ce.PureComponent=lm;ce.StrictMode=$j;ce.Suspense=Hj;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ew;ce.act=Kg;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ug({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=dm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Yg.call(t,c)&&!Hg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Gi,type:e.type,key:a,ref:i,props:r,_owner:o}};ce.createContext=function(e){return e={$$typeof:Wj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Gj,_context:e},e.Consumer=e};ce.createElement=qg;ce.createFactory=function(e){var t=qg.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:Yj,render:e}};ce.isValidElement=um;ce.lazy=function(e){return{$$typeof:Kj,_payload:{_status:-1,_result:e},_init:Zj}};ce.memo=function(e,t){return{$$typeof:qj,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Qo.transition;Qo.transition={};try{e()}finally{Qo.transition=t}};ce.unstable_act=Kg;ce.useCallback=function(e,t){return Ct.current.useCallback(e,t)};ce.useContext=function(e){return Ct.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Ct.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Ct.current.useEffect(e,t)};ce.useId=function(){return Ct.current.useId()};ce.useImperativeHandle=function(e,t,n){return Ct.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return Ct.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Ct.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Ct.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return Ct.current.useReducer(e,t,n)};ce.useRef=function(e){return Ct.current.useRef(e)};ce.useState=function(e){return Ct.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return Ct.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return Ct.current.useTransition()};ce.version="18.3.1";Vg.exports=ce;var h=Vg.exports;const Qe=Fg(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=h,nw=Symbol.for("react.element"),sw=Symbol.for("react.fragment"),rw=Object.prototype.hasOwnProperty,aw=tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iw={key:!0,ref:!0,__self:!0,__source:!0};function Xg(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)rw.call(t,r)&&!iw.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:nw,type:e,key:i,ref:o,props:a,_owner:aw.current}}tc.Fragment=sw;tc.jsx=Xg;tc.jsxs=Xg;Bg.exports=tc;var s=Bg.exports,Qg={exports:{}},qt={},Jg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,F){var E=R.length;R.push(F);e:for(;0<E;){var Y=E-1>>>1,H=R[Y];if(0<a(H,F))R[Y]=F,R[E]=H,E=Y;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],E=R.pop();if(E!==F){R[0]=E;e:for(var Y=0,H=R.length,Q=H>>>1;Y<Q;){var X=2*(Y+1)-1,le=R[X],K=X+1,oe=R[K];if(0>a(le,E))K<H&&0>a(oe,le)?(R[Y]=oe,R[K]=E,Y=K):(R[Y]=le,R[X]=E,Y=X);else if(K<H&&0>a(oe,E))R[Y]=oe,R[K]=E,Y=K;else break e}}return F}function a(R,F){var E=R.sortIndex-F.sortIndex;return E!==0?E:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,f=3,p=!1,y=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var F=n(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=R)r(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(d)}}function w(R){if(v=!1,b(R),!y)if(n(c)!==null)y=!0,V(N);else{var F=n(d);F!==null&&z(w,F.startTime-R)}}function N(R,F){y=!1,v&&(v=!1,x(_),_=-1),p=!0;var E=f;try{for(b(F),m=n(c);m!==null&&(!(m.expirationTime>F)||R&&!C());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,f=m.priorityLevel;var H=Y(m.expirationTime<=F);F=e.unstable_now(),typeof H=="function"?m.callback=H:m===n(c)&&r(c),b(F)}else r(c);m=n(c)}if(m!==null)var Q=!0;else{var X=n(d);X!==null&&z(w,X.startTime-F),Q=!1}return Q}finally{m=null,f=E,p=!1}}var S=!1,k=null,_=-1,O=5,T=-1;function C(){return!(e.unstable_now()-T<O)}function D(){if(k!==null){var R=e.unstable_now();T=R;var F=!0;try{F=k(!0,R)}finally{F?P():(S=!1,k=null)}}else S=!1}var P;if(typeof g=="function")P=function(){g(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,I=B.port2;B.port1.onmessage=D,P=function(){I.postMessage(null)}}else P=function(){j(D,0)};function V(R){k=R,S||(S=!0,P())}function z(R,F){_=j(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,V(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var E=f;f=F;try{return R()}finally{f=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var E=f;f=R;try{return F()}finally{f=E}},e.unstable_scheduleCallback=function(R,F,E){var Y=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?Y+E:Y):E=Y,R){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=E+H,R={id:u++,callback:F,priorityLevel:R,startTime:E,expirationTime:H,sortIndex:-1},E>Y?(R.sortIndex=E,t(d,R),n(c)===null&&R===n(d)&&(v?(x(_),_=-1):v=!0,z(w,E-Y))):(R.sortIndex=H,t(c,R),y||p||(y=!0,V(N))),R},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(R){var F=f;return function(){var E=f;f=F;try{return R.apply(this,arguments)}finally{f=E}}}})(Zg);Jg.exports=Zg;var ow=Jg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=h,Wt=ow;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ey=new Set,yi={};function xr(e,t){ta(e,t),ta(e+"Capture",t)}function ta(e,t){for(yi[e]=t,e=0;e<t.length;e++)ey.add(t[e])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gd=Object.prototype.hasOwnProperty,cw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_p={},Cp={};function dw(e){return Gd.call(Cp,e)?!0:Gd.call(_p,e)?!1:cw.test(e)?Cp[e]=!0:(_p[e]=!0,!1)}function uw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mw(e,t,n,r){if(t===null||typeof t>"u"||uw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mt(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new Mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new Mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new Mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new Mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new Mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new Mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new Mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new Mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new Mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var mm=/[\-:]([a-z])/g;function fm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mm,fm);ct[t]=new Mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mm,fm);ct[t]=new Mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mm,fm);ct[t]=new Mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new Mt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new Mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function pm(e,t,n,r){var a=ct.hasOwnProperty(t)?ct[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mw(t,n,a,r)&&(n=null),r||a===null?dw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var os=lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bo=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),Wd=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ny=Symbol.for("react.context"),xm=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Hd=Symbol.for("react.suspense_list"),gm=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),sy=Symbol.for("react.offscreen"),Mp=Symbol.iterator;function Da(e){return e===null||typeof e!="object"?null:(e=Mp&&e[Mp]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Wc;function Ya(e){if(Wc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wc=t&&t[1]||""}return`
`+Wc+e}var Yc=!1;function Hc(e,t){if(!e||Yc)return"";Yc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ya(e):""}function fw(e){switch(e.tag){case 5:return Ya(e.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 2:case 15:return e=Hc(e.type,!1),e;case 11:return e=Hc(e.type.render,!1),e;case 1:return e=Hc(e.type,!0),e;default:return""}}function qd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Mr:return"Portal";case Wd:return"Profiler";case hm:return"StrictMode";case Yd:return"Suspense";case Hd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ny:return(e.displayName||"Context")+".Consumer";case ty:return(e._context.displayName||"Context")+".Provider";case xm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gm:return t=e.displayName||null,t!==null?t:qd(e.type)||"Memo";case ys:t=e._payload,e=e._init;try{return qd(e(t))}catch{}}return null}function pw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qd(t);case 8:return t===hm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ry(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hw(e){var t=ry(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jo(e){e._valueTracker||(e._valueTracker=hw(e))}function ay(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ry(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kd(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Es(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&pm(e,"checked",t,!1)}function Xd(e,t){iy(e,t);var n=Es(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qd(e,t.type,Es(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qd(e,t,n){(t!=="number"||pl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ha=Array.isArray;function Yr(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Es(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Jd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Ha(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Es(n)}}function oy(e,t){var n=Es(t.value),r=Es(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ly(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ly(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wo,cy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wo=wo||document.createElement("div"),wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xw=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(e){xw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Za[t]=Za[e]})});function dy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Za.hasOwnProperty(e)&&Za[e]?(""+t).trim():t+"px"}function uy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=dy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var gw=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eu(e,t){if(t){if(gw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function tu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function ym(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var su=null,Hr=null,qr=null;function Ap(e){if(e=Hi(e)){if(typeof su!="function")throw Error($(280));var t=e.stateNode;t&&(t=ic(t),su(e.stateNode,e.type,t))}}function my(e){Hr?qr?qr.push(e):qr=[e]:Hr=e}function fy(){if(Hr){var e=Hr,t=qr;if(qr=Hr=null,Ap(e),t)for(e=0;e<t.length;e++)Ap(t[e])}}function py(e,t){return e(t)}function hy(){}var qc=!1;function xy(e,t,n){if(qc)return e(t,n);qc=!0;try{return py(e,t,n)}finally{qc=!1,(Hr!==null||qr!==null)&&(hy(),fy())}}function bi(e,t){var n=e.stateNode;if(n===null)return null;var r=ic(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var ru=!1;if(ts)try{var La={};Object.defineProperty(La,"passive",{get:function(){ru=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{ru=!1}function yw(e,t,n,r,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var ei=!1,hl=null,xl=!1,au=null,vw={onError:function(e){ei=!0,hl=e}};function bw(e,t,n,r,a,i,o,l,c){ei=!1,hl=null,yw.apply(vw,arguments)}function jw(e,t,n,r,a,i,o,l,c){if(bw.apply(this,arguments),ei){if(ei){var d=hl;ei=!1,hl=null}else throw Error($(198));xl||(xl=!0,au=d)}}function gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ep(e){if(gr(e)!==e)throw Error($(188))}function ww(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ep(a),e;if(i===r)return Ep(a),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function yy(e){return e=ww(e),e!==null?vy(e):null}function vy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vy(e);if(t!==null)return t;e=e.sibling}return null}var by=Wt.unstable_scheduleCallback,Ip=Wt.unstable_cancelCallback,Nw=Wt.unstable_shouldYield,kw=Wt.unstable_requestPaint,Ge=Wt.unstable_now,Sw=Wt.unstable_getCurrentPriorityLevel,vm=Wt.unstable_ImmediatePriority,jy=Wt.unstable_UserBlockingPriority,gl=Wt.unstable_NormalPriority,_w=Wt.unstable_LowPriority,wy=Wt.unstable_IdlePriority,nc=null,On=null;function Cw(e){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(nc,e,void 0,(e.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Pw,Mw=Math.log,Tw=Math.LN2;function Pw(e){return e>>>=0,e===0?32:31-(Mw(e)/Tw|0)|0}var No=64,ko=4194304;function qa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=qa(l):(i&=o,i!==0&&(r=qa(i)))}else o=n&~a,o!==0?r=qa(o):i!==0&&(r=qa(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Sn(t),a=1<<n,r|=e[n],t&=~a;return r}function Dw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Sn(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=Dw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function iu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ny(){var e=No;return No<<=1,!(No&4194240)&&(No=64),e}function Kc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Sn(t),e[t]=n}function Aw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Sn(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function bm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Sn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var be=0;function ky(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sy,jm,_y,Cy,My,ou=!1,So=[],_s=null,Cs=null,Ms=null,ji=new Map,wi=new Map,js=[],Ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rp(e,t){switch(e){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Aa(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Hi(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Iw(e,t,n,r,a){switch(t){case"focusin":return _s=Aa(_s,e,t,n,r,a),!0;case"dragenter":return Cs=Aa(Cs,e,t,n,r,a),!0;case"mouseover":return Ms=Aa(Ms,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ji.set(i,Aa(ji.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,wi.set(i,Aa(wi.get(i)||null,e,t,n,r,a)),!0}return!1}function Ty(e){var t=Zs(e.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=gy(n),t!==null){e.blockedOn=t,My(e.priority,function(){_y(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nu=r,n.target.dispatchEvent(r),nu=null}else return t=Hi(n),t!==null&&jm(t),e.blockedOn=n,!1;t.shift()}return!0}function Op(e,t,n){Jo(e)&&n.delete(t)}function Rw(){ou=!1,_s!==null&&Jo(_s)&&(_s=null),Cs!==null&&Jo(Cs)&&(Cs=null),Ms!==null&&Jo(Ms)&&(Ms=null),ji.forEach(Op),wi.forEach(Op)}function Ea(e,t){e.blockedOn===t&&(e.blockedOn=null,ou||(ou=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,Rw)))}function Ni(e){function t(a){return Ea(a,e)}if(0<So.length){Ea(So[0],e);for(var n=1;n<So.length;n++){var r=So[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_s!==null&&Ea(_s,e),Cs!==null&&Ea(Cs,e),Ms!==null&&Ea(Ms,e),ji.forEach(t),wi.forEach(t),n=0;n<js.length;n++)r=js[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<js.length&&(n=js[0],n.blockedOn===null);)Ty(n),n.blockedOn===null&&js.shift()}var Kr=os.ReactCurrentBatchConfig,vl=!0;function Ow(e,t,n,r){var a=be,i=Kr.transition;Kr.transition=null;try{be=1,wm(e,t,n,r)}finally{be=a,Kr.transition=i}}function zw(e,t,n,r){var a=be,i=Kr.transition;Kr.transition=null;try{be=4,wm(e,t,n,r)}finally{be=a,Kr.transition=i}}function wm(e,t,n,r){if(vl){var a=lu(e,t,n,r);if(a===null)ad(e,t,r,bl,n),Rp(e,r);else if(Iw(a,e,t,n,r))r.stopPropagation();else if(Rp(e,r),t&4&&-1<Ew.indexOf(e)){for(;a!==null;){var i=Hi(a);if(i!==null&&Sy(i),i=lu(e,t,n,r),i===null&&ad(e,t,r,bl,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else ad(e,t,r,null,n)}}var bl=null;function lu(e,t,n,r){if(bl=null,e=ym(r),e=Zs(e),e!==null)if(t=gr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bl=e,null}function Py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sw()){case vm:return 1;case jy:return 4;case gl:case _w:return 16;case wy:return 536870912;default:return 16}default:return 16}}var Ns=null,Nm=null,Zo=null;function Dy(){if(Zo)return Zo;var e,t=Nm,n=t.length,r,a="value"in Ns?Ns.value:Ns.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Zo=a.slice(e,1<r?1-r:void 0)}function el(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _o(){return!0}function zp(){return!1}function Kt(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_o:zp,this.isPropagationStopped=zp,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),t}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},km=Kt(ga),Yi=Oe({},ga,{view:0,detail:0}),Fw=Kt(Yi),Xc,Qc,Ia,sc=Oe({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ia&&(Ia&&e.type==="mousemove"?(Xc=e.screenX-Ia.screenX,Qc=e.screenY-Ia.screenY):Qc=Xc=0,Ia=e),Xc)},movementY:function(e){return"movementY"in e?e.movementY:Qc}}),Fp=Kt(sc),Bw=Oe({},sc,{dataTransfer:0}),Vw=Kt(Bw),$w=Oe({},Yi,{relatedTarget:0}),Jc=Kt($w),Uw=Oe({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Gw=Kt(Uw),Ww=Oe({},ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yw=Kt(Ww),Hw=Oe({},ga,{data:0}),Bp=Kt(Hw),qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xw[e])?!!t[e]:!1}function Sm(){return Qw}var Jw=Oe({},Yi,{key:function(e){if(e.key){var t=qw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=el(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(e){return e.type==="keypress"?el(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?el(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zw=Kt(Jw),e2=Oe({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vp=Kt(e2),t2=Oe({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),n2=Kt(t2),s2=Oe({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),r2=Kt(s2),a2=Oe({},sc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i2=Kt(a2),o2=[9,13,27,32],_m=ts&&"CompositionEvent"in window,ti=null;ts&&"documentMode"in document&&(ti=document.documentMode);var l2=ts&&"TextEvent"in window&&!ti,Ly=ts&&(!_m||ti&&8<ti&&11>=ti),$p=" ",Up=!1;function Ay(e,t){switch(e){case"keyup":return o2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ey(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function c2(e,t){switch(e){case"compositionend":return Ey(t);case"keypress":return t.which!==32?null:(Up=!0,$p);case"textInput":return e=t.data,e===$p&&Up?null:e;default:return null}}function d2(e,t){if(Pr)return e==="compositionend"||!_m&&Ay(e,t)?(e=Dy(),Zo=Nm=Ns=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ly&&t.locale!=="ko"?null:t.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u2[e.type]:t==="textarea"}function Iy(e,t,n,r){my(r),t=jl(t,"onChange"),0<t.length&&(n=new km("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ni=null,ki=null;function m2(e){Yy(e,0)}function rc(e){var t=Ar(e);if(ay(t))return e}function f2(e,t){if(e==="change")return t}var Ry=!1;if(ts){var Zc;if(ts){var ed="oninput"in document;if(!ed){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),ed=typeof Wp.oninput=="function"}Zc=ed}else Zc=!1;Ry=Zc&&(!document.documentMode||9<document.documentMode)}function Yp(){ni&&(ni.detachEvent("onpropertychange",Oy),ki=ni=null)}function Oy(e){if(e.propertyName==="value"&&rc(ki)){var t=[];Iy(t,ki,e,ym(e)),xy(m2,t)}}function p2(e,t,n){e==="focusin"?(Yp(),ni=t,ki=n,ni.attachEvent("onpropertychange",Oy)):e==="focusout"&&Yp()}function h2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rc(ki)}function x2(e,t){if(e==="click")return rc(t)}function g2(e,t){if(e==="input"||e==="change")return rc(t)}function y2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:y2;function Si(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Gd.call(t,a)||!Cn(e[a],t[a]))return!1}return!0}function Hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qp(e,t){var n=Hp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hp(n)}}function zy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fy(){for(var e=window,t=pl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function Cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function v2(e){var t=Fy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zy(n.ownerDocument.documentElement,n)){if(r!==null&&Cm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=qp(n,i);var o=qp(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var b2=ts&&"documentMode"in document&&11>=document.documentMode,Dr=null,cu=null,si=null,du=!1;function Kp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;du||Dr==null||Dr!==pl(r)||(r=Dr,"selectionStart"in r&&Cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),si&&Si(si,r)||(si=r,r=jl(cu,"onSelect"),0<r.length&&(t=new km("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dr)))}function Co(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lr={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionend:Co("Transition","TransitionEnd")},td={},By={};ts&&(By=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function ac(e){if(td[e])return td[e];if(!Lr[e])return e;var t=Lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in By)return td[e]=t[n];return e}var Vy=ac("animationend"),$y=ac("animationiteration"),Uy=ac("animationstart"),Gy=ac("transitionend"),Wy=new Map,Xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(e,t){Wy.set(e,t),xr(t,[e])}for(var nd=0;nd<Xp.length;nd++){var sd=Xp[nd],j2=sd.toLowerCase(),w2=sd[0].toUpperCase()+sd.slice(1);zs(j2,"on"+w2)}zs(Vy,"onAnimationEnd");zs($y,"onAnimationIteration");zs(Uy,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(Gy,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function Qp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jw(r,t,void 0,e),e.currentTarget=null}function Yy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Qp(a,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Qp(a,l,d),i=c}}}if(xl)throw e=au,xl=!1,au=null,e}function Ce(e,t){var n=t[hu];n===void 0&&(n=t[hu]=new Set);var r=e+"__bubble";n.has(r)||(Hy(t,e,2,!1),n.add(r))}function rd(e,t,n){var r=0;t&&(r|=4),Hy(n,e,r,t)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function _i(e){if(!e[Mo]){e[Mo]=!0,ey.forEach(function(n){n!=="selectionchange"&&(N2.has(n)||rd(n,!1,e),rd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mo]||(t[Mo]=!0,rd("selectionchange",!1,t))}}function Hy(e,t,n,r){switch(Py(t)){case 1:var a=Ow;break;case 4:a=zw;break;default:a=wm}n=a.bind(null,t,n,e),a=void 0,!ru||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ad(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Zs(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}xy(function(){var d=i,u=ym(n),m=[];e:{var f=Wy.get(e);if(f!==void 0){var p=km,y=e;switch(e){case"keypress":if(el(n)===0)break e;case"keydown":case"keyup":p=Zw;break;case"focusin":y="focus",p=Jc;break;case"focusout":y="blur",p=Jc;break;case"beforeblur":case"afterblur":p=Jc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=n2;break;case Vy:case $y:case Uy:p=Gw;break;case Gy:p=r2;break;case"scroll":p=Fw;break;case"wheel":p=i2;break;case"copy":case"cut":case"paste":p=Yw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Vp}var v=(t&4)!==0,j=!v&&e==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var g=d,b;g!==null;){b=g;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,x!==null&&(w=bi(g,x),w!=null&&v.push(Ci(g,w,b)))),j)break;g=g.return}0<v.length&&(f=new p(f,y,null,n,u),m.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==nu&&(y=n.relatedTarget||n.fromElement)&&(Zs(y)||y[ns]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=d,y=y?Zs(y):null,y!==null&&(j=gr(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(v=Fp,w="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Vp,w="onPointerLeave",x="onPointerEnter",g="pointer"),j=p==null?f:Ar(p),b=y==null?f:Ar(y),f=new v(w,g+"leave",p,n,u),f.target=j,f.relatedTarget=b,w=null,Zs(u)===d&&(v=new v(x,g+"enter",y,n,u),v.target=b,v.relatedTarget=j,w=v),j=w,p&&y)t:{for(v=p,x=y,g=0,b=v;b;b=Sr(b))g++;for(b=0,w=x;w;w=Sr(w))b++;for(;0<g-b;)v=Sr(v),g--;for(;0<b-g;)x=Sr(x),b--;for(;g--;){if(v===x||x!==null&&v===x.alternate)break t;v=Sr(v),x=Sr(x)}v=null}else v=null;p!==null&&Jp(m,f,p,v,!1),y!==null&&j!==null&&Jp(m,j,y,v,!0)}}e:{if(f=d?Ar(d):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=f2;else if(Gp(f))if(Ry)N=g2;else{N=h2;var S=p2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=x2);if(N&&(N=N(e,d))){Iy(m,N,n,u);break e}S&&S(e,f,d),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Qd(f,"number",f.value)}switch(S=d?Ar(d):window,e){case"focusin":(Gp(S)||S.contentEditable==="true")&&(Dr=S,cu=d,si=null);break;case"focusout":si=cu=Dr=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,Kp(m,n,u);break;case"selectionchange":if(b2)break;case"keydown":case"keyup":Kp(m,n,u)}var k;if(_m)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Pr?Ay(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Ly&&n.locale!=="ko"&&(Pr||_!=="onCompositionStart"?_==="onCompositionEnd"&&Pr&&(k=Dy()):(Ns=u,Nm="value"in Ns?Ns.value:Ns.textContent,Pr=!0)),S=jl(d,_),0<S.length&&(_=new Bp(_,e,null,n,u),m.push({event:_,listeners:S}),k?_.data=k:(k=Ey(n),k!==null&&(_.data=k)))),(k=l2?c2(e,n):d2(e,n))&&(d=jl(d,"onBeforeInput"),0<d.length&&(u=new Bp("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=k))}Yy(m,t)})}function Ci(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jl(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=bi(e,n),i!=null&&r.unshift(Ci(e,i,a)),i=bi(e,t),i!=null&&r.push(Ci(e,i,a))),e=e.return}return r}function Sr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jp(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=bi(n,i),c!=null&&o.unshift(Ci(n,c,l))):a||(c=bi(n,i),c!=null&&o.push(Ci(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var k2=/\r\n?/g,S2=/\u0000|\uFFFD/g;function Zp(e){return(typeof e=="string"?e:""+e).replace(k2,`
`).replace(S2,"")}function To(e,t,n){if(t=Zp(t),Zp(e)!==t&&n)throw Error($(425))}function wl(){}var uu=null,mu=null;function fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,_2=typeof clearTimeout=="function"?clearTimeout:void 0,eh=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof eh<"u"?function(e){return eh.resolve(null).then(e).catch(M2)}:pu;function M2(e){setTimeout(function(){throw e})}function id(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Ni(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Ni(t)}function Ts(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function th(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ya=Math.random().toString(36).slice(2),In="__reactFiber$"+ya,Mi="__reactProps$"+ya,ns="__reactContainer$"+ya,hu="__reactEvents$"+ya,T2="__reactListeners$"+ya,P2="__reactHandles$"+ya;function Zs(e){var t=e[In];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ns]||n[In]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=th(e);e!==null;){if(n=e[In])return n;e=th(e)}return t}e=n,n=e.parentNode}return null}function Hi(e){return e=e[In]||e[ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function ic(e){return e[Mi]||null}var xu=[],Er=-1;function Fs(e){return{current:e}}function Me(e){0>Er||(e.current=xu[Er],xu[Er]=null,Er--)}function ke(e,t){Er++,xu[Er]=e.current,e.current=t}var Is={},yt=Fs(Is),Et=Fs(!1),lr=Is;function na(e,t){var n=e.type.contextTypes;if(!n)return Is;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function It(e){return e=e.childContextTypes,e!=null}function Nl(){Me(Et),Me(yt)}function nh(e,t,n){if(yt.current!==Is)throw Error($(168));ke(yt,t),ke(Et,n)}function qy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error($(108,pw(e)||"Unknown",a));return Oe({},n,r)}function kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Is,lr=yt.current,ke(yt,e),ke(Et,Et.current),!0}function sh(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=qy(e,t,lr),r.__reactInternalMemoizedMergedChildContext=e,Me(Et),Me(yt),ke(yt,e)):Me(Et),ke(Et,n)}var Kn=null,oc=!1,od=!1;function Ky(e){Kn===null?Kn=[e]:Kn.push(e)}function D2(e){oc=!0,Ky(e)}function Bs(){if(!od&&Kn!==null){od=!0;var e=0,t=be;try{var n=Kn;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kn=null,oc=!1}catch(a){throw Kn!==null&&(Kn=Kn.slice(e+1)),by(vm,Bs),a}finally{be=t,od=!1}}return null}var Ir=[],Rr=0,Sl=null,_l=0,an=[],on=0,cr=null,Xn=1,Qn="";function Hs(e,t){Ir[Rr++]=_l,Ir[Rr++]=Sl,Sl=e,_l=t}function Xy(e,t,n){an[on++]=Xn,an[on++]=Qn,an[on++]=cr,cr=e;var r=Xn;e=Qn;var a=32-Sn(r)-1;r&=~(1<<a),n+=1;var i=32-Sn(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Xn=1<<32-Sn(t)+a|n<<a|r,Qn=i+e}else Xn=1<<i|n<<a|r,Qn=e}function Mm(e){e.return!==null&&(Hs(e,1),Xy(e,1,0))}function Tm(e){for(;e===Sl;)Sl=Ir[--Rr],Ir[Rr]=null,_l=Ir[--Rr],Ir[Rr]=null;for(;e===cr;)cr=an[--on],an[on]=null,Qn=an[--on],an[on]=null,Xn=an[--on],an[on]=null}var Ut=null,$t=null,Pe=!1,Nn=null;function Qy(e,t){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ut=e,$t=Ts(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ut=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cr!==null?{id:Xn,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ut=e,$t=null,!0):!1;default:return!1}}function gu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yu(e){if(Pe){var t=$t;if(t){var n=t;if(!rh(e,t)){if(gu(e))throw Error($(418));t=Ts(n.nextSibling);var r=Ut;t&&rh(e,t)?Qy(r,n):(e.flags=e.flags&-4097|2,Pe=!1,Ut=e)}}else{if(gu(e))throw Error($(418));e.flags=e.flags&-4097|2,Pe=!1,Ut=e}}}function ah(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ut=e}function Po(e){if(e!==Ut)return!1;if(!Pe)return ah(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fu(e.type,e.memoizedProps)),t&&(t=$t)){if(gu(e))throw Jy(),Error($(418));for(;t;)Qy(e,t),t=Ts(t.nextSibling)}if(ah(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$t=Ts(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=Ut?Ts(e.stateNode.nextSibling):null;return!0}function Jy(){for(var e=$t;e;)e=Ts(e.nextSibling)}function sa(){$t=Ut=null,Pe=!1}function Pm(e){Nn===null?Nn=[e]:Nn.push(e)}var L2=os.ReactCurrentBatchConfig;function Ra(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Do(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ih(e){var t=e._init;return t(e._payload)}function Zy(e){function t(x,g){if(e){var b=x.deletions;b===null?(x.deletions=[g],x.flags|=16):b.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function a(x,g){return x=As(x,g),x.index=0,x.sibling=null,x}function i(x,g,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<g?(x.flags|=2,g):b):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,b,w){return g===null||g.tag!==6?(g=pd(b,x.mode,w),g.return=x,g):(g=a(g,b),g.return=x,g)}function c(x,g,b,w){var N=b.type;return N===Tr?u(x,g,b.props.children,w,b.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ys&&ih(N)===g.type)?(w=a(g,b.props),w.ref=Ra(x,g,b),w.return=x,w):(w=ol(b.type,b.key,b.props,null,x.mode,w),w.ref=Ra(x,g,b),w.return=x,w)}function d(x,g,b,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=hd(b,x.mode,w),g.return=x,g):(g=a(g,b.children||[]),g.return=x,g)}function u(x,g,b,w,N){return g===null||g.tag!==7?(g=ar(b,x.mode,w,N),g.return=x,g):(g=a(g,b),g.return=x,g)}function m(x,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pd(""+g,x.mode,b),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case bo:return b=ol(g.type,g.key,g.props,null,x.mode,b),b.ref=Ra(x,null,g),b.return=x,b;case Mr:return g=hd(g,x.mode,b),g.return=x,g;case ys:var w=g._init;return m(x,w(g._payload),b)}if(Ha(g)||Da(g))return g=ar(g,x.mode,b,null),g.return=x,g;Do(x,g)}return null}function f(x,g,b,w){var N=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(x,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bo:return b.key===N?c(x,g,b,w):null;case Mr:return b.key===N?d(x,g,b,w):null;case ys:return N=b._init,f(x,g,N(b._payload),w)}if(Ha(b)||Da(b))return N!==null?null:u(x,g,b,w,null);Do(x,b)}return null}function p(x,g,b,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(b)||null,l(g,x,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bo:return x=x.get(w.key===null?b:w.key)||null,c(g,x,w,N);case Mr:return x=x.get(w.key===null?b:w.key)||null,d(g,x,w,N);case ys:var S=w._init;return p(x,g,b,S(w._payload),N)}if(Ha(w)||Da(w))return x=x.get(b)||null,u(g,x,w,N,null);Do(g,w)}return null}function y(x,g,b,w){for(var N=null,S=null,k=g,_=g=0,O=null;k!==null&&_<b.length;_++){k.index>_?(O=k,k=null):O=k.sibling;var T=f(x,k,b[_],w);if(T===null){k===null&&(k=O);break}e&&k&&T.alternate===null&&t(x,k),g=i(T,g,_),S===null?N=T:S.sibling=T,S=T,k=O}if(_===b.length)return n(x,k),Pe&&Hs(x,_),N;if(k===null){for(;_<b.length;_++)k=m(x,b[_],w),k!==null&&(g=i(k,g,_),S===null?N=k:S.sibling=k,S=k);return Pe&&Hs(x,_),N}for(k=r(x,k);_<b.length;_++)O=p(k,x,_,b[_],w),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?_:O.key),g=i(O,g,_),S===null?N=O:S.sibling=O,S=O);return e&&k.forEach(function(C){return t(x,C)}),Pe&&Hs(x,_),N}function v(x,g,b,w){var N=Da(b);if(typeof N!="function")throw Error($(150));if(b=N.call(b),b==null)throw Error($(151));for(var S=N=null,k=g,_=g=0,O=null,T=b.next();k!==null&&!T.done;_++,T=b.next()){k.index>_?(O=k,k=null):O=k.sibling;var C=f(x,k,T.value,w);if(C===null){k===null&&(k=O);break}e&&k&&C.alternate===null&&t(x,k),g=i(C,g,_),S===null?N=C:S.sibling=C,S=C,k=O}if(T.done)return n(x,k),Pe&&Hs(x,_),N;if(k===null){for(;!T.done;_++,T=b.next())T=m(x,T.value,w),T!==null&&(g=i(T,g,_),S===null?N=T:S.sibling=T,S=T);return Pe&&Hs(x,_),N}for(k=r(x,k);!T.done;_++,T=b.next())T=p(k,x,_,T.value,w),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?_:T.key),g=i(T,g,_),S===null?N=T:S.sibling=T,S=T);return e&&k.forEach(function(D){return t(x,D)}),Pe&&Hs(x,_),N}function j(x,g,b,w){if(typeof b=="object"&&b!==null&&b.type===Tr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bo:e:{for(var N=b.key,S=g;S!==null;){if(S.key===N){if(N=b.type,N===Tr){if(S.tag===7){n(x,S.sibling),g=a(S,b.props.children),g.return=x,x=g;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ys&&ih(N)===S.type){n(x,S.sibling),g=a(S,b.props),g.ref=Ra(x,S,b),g.return=x,x=g;break e}n(x,S);break}else t(x,S);S=S.sibling}b.type===Tr?(g=ar(b.props.children,x.mode,w,b.key),g.return=x,x=g):(w=ol(b.type,b.key,b.props,null,x.mode,w),w.ref=Ra(x,g,b),w.return=x,x=w)}return o(x);case Mr:e:{for(S=b.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(x,g.sibling),g=a(g,b.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=hd(b,x.mode,w),g.return=x,x=g}return o(x);case ys:return S=b._init,j(x,g,S(b._payload),w)}if(Ha(b))return y(x,g,b,w);if(Da(b))return v(x,g,b,w);Do(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(x,g.sibling),g=a(g,b),g.return=x,x=g):(n(x,g),g=pd(b,x.mode,w),g.return=x,x=g),o(x)):n(x,g)}return j}var ra=Zy(!0),e0=Zy(!1),Cl=Fs(null),Ml=null,Or=null,Dm=null;function Lm(){Dm=Or=Ml=null}function Am(e){var t=Cl.current;Me(Cl),e._currentValue=t}function vu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xr(e,t){Ml=e,Dm=Or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(Dm!==e)if(e={context:e,memoizedValue:t,next:null},Or===null){if(Ml===null)throw Error($(308));Or=e,Ml.dependencies={lanes:0,firstContext:e}}else Or=Or.next=e;return t}var er=null;function Em(e){er===null?er=[e]:er.push(e)}function t0(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Em(t)):(n.next=a.next,a.next=n),t.interleaved=n,ss(e,r)}function ss(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vs=!1;function Im(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ss(e,n)}return a=r.interleaved,a===null?(t.next=t,Em(r)):(t.next=a.next,a.next=t),r.interleaved=t,ss(e,n)}function tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bm(e,n)}}function oh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tl(e,t,n,r){var a=e.updateQueue;vs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(f=t,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){m=y.call(p,m,f);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(p,m,f):y,f==null)break e;m=Oe({},m,f);break e;case 2:vs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ur|=o,e.lanes=o,e.memoizedState=m}}function lh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error($(191,a));a.call(r)}}}var qi={},zn=Fs(qi),Ti=Fs(qi),Pi=Fs(qi);function tr(e){if(e===qi)throw Error($(174));return e}function Rm(e,t){switch(ke(Pi,t),ke(Ti,e),ke(zn,qi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zd(t,e)}Me(zn),ke(zn,t)}function aa(){Me(zn),Me(Ti),Me(Pi)}function s0(e){tr(Pi.current);var t=tr(zn.current),n=Zd(t,e.type);t!==n&&(ke(Ti,e),ke(zn,n))}function Om(e){Ti.current===e&&(Me(zn),Me(Ti))}var Ee=Fs(0);function Pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ld=[];function zm(){for(var e=0;e<ld.length;e++)ld[e]._workInProgressVersionPrimary=null;ld.length=0}var nl=os.ReactCurrentDispatcher,cd=os.ReactCurrentBatchConfig,dr=0,Re=null,Ke=null,tt=null,Dl=!1,ri=!1,Di=0,A2=0;function mt(){throw Error($(321))}function Fm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function Bm(e,t,n,r,a,i){if(dr=i,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=e===null||e.memoizedState===null?O2:z2,e=n(r,a),ri){i=0;do{if(ri=!1,Di=0,25<=i)throw Error($(301));i+=1,tt=Ke=null,t.updateQueue=null,nl.current=F2,e=n(r,a)}while(ri)}if(nl.current=Ll,t=Ke!==null&&Ke.next!==null,dr=0,tt=Ke=Re=null,Dl=!1,t)throw Error($(300));return e}function Vm(){var e=Di!==0;return Di=0,e}function En(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Re.memoizedState=tt=e:tt=tt.next=e,tt}function un(){if(Ke===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=tt===null?Re.memoizedState:tt.next;if(t!==null)tt=t,Ke=e;else{if(e===null)throw Error($(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},tt===null?Re.memoizedState=tt=e:tt=tt.next=e}return tt}function Li(e,t){return typeof t=="function"?t(e):t}function dd(e){var t=un(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=Ke,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((dr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Re.lanes|=u,ur|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Cn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Re.lanes|=i,ur|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ud(e){var t=un(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Cn(i,t.memoizedState)||(At=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function r0(){}function a0(e,t){var n=Re,r=un(),a=t(),i=!Cn(r.memoizedState,a);if(i&&(r.memoizedState=a,At=!0),r=r.queue,$m(l0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Ai(9,o0.bind(null,n,r,a,t),void 0,null),st===null)throw Error($(349));dr&30||i0(n,t,a)}return a}function i0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function o0(e,t,n,r){t.value=n,t.getSnapshot=r,c0(t)&&d0(e)}function l0(e,t,n){return n(function(){c0(t)&&d0(e)})}function c0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function d0(e){var t=ss(e,1);t!==null&&_n(t,e,1,-1)}function ch(e){var t=En();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},t.queue=e,e=e.dispatch=R2.bind(null,Re,e),[t.memoizedState,e]}function Ai(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function u0(){return un().memoizedState}function sl(e,t,n,r){var a=En();Re.flags|=e,a.memoizedState=Ai(1|t,n,void 0,r===void 0?null:r)}function lc(e,t,n,r){var a=un();r=r===void 0?null:r;var i=void 0;if(Ke!==null){var o=Ke.memoizedState;if(i=o.destroy,r!==null&&Fm(r,o.deps)){a.memoizedState=Ai(t,n,i,r);return}}Re.flags|=e,a.memoizedState=Ai(1|t,n,i,r)}function dh(e,t){return sl(8390656,8,e,t)}function $m(e,t){return lc(2048,8,e,t)}function m0(e,t){return lc(4,2,e,t)}function f0(e,t){return lc(4,4,e,t)}function p0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function h0(e,t,n){return n=n!=null?n.concat([e]):null,lc(4,4,p0.bind(null,t,e),n)}function Um(){}function x0(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function g0(e,t){var n=un();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function y0(e,t,n){return dr&21?(Cn(n,t)||(n=Ny(),Re.lanes|=n,ur|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function E2(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=cd.transition;cd.transition={};try{e(!1),t()}finally{be=n,cd.transition=r}}function v0(){return un().memoizedState}function I2(e,t,n){var r=Ls(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b0(e))j0(t,n);else if(n=t0(e,t,n,r),n!==null){var a=St();_n(n,e,r,a),w0(n,t,r)}}function R2(e,t,n){var r=Ls(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b0(e))j0(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Cn(l,o)){var c=t.interleaved;c===null?(a.next=a,Em(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=t0(e,t,a,r),n!==null&&(a=St(),_n(n,e,r,a),w0(n,t,r))}}function b0(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function j0(e,t){ri=Dl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function w0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bm(e,n)}}var Ll={readContext:dn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},O2={readContext:dn,useCallback:function(e,t){return En().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:dh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sl(4194308,4,p0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var n=En();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=En();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=I2.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=En();return e={current:e},t.memoizedState=e},useState:ch,useDebugValue:Um,useDeferredValue:function(e){return En().memoizedState=e},useTransition:function(){var e=ch(!1),t=e[0];return e=E2.bind(null,e[1]),En().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,a=En();if(Pe){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),st===null)throw Error($(349));dr&30||i0(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,dh(l0.bind(null,r,i,e),[e]),r.flags|=2048,Ai(9,o0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=En(),t=st.identifierPrefix;if(Pe){var n=Qn,r=Xn;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Di++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=A2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z2={readContext:dn,useCallback:x0,useContext:dn,useEffect:$m,useImperativeHandle:h0,useInsertionEffect:m0,useLayoutEffect:f0,useMemo:g0,useReducer:dd,useRef:u0,useState:function(){return dd(Li)},useDebugValue:Um,useDeferredValue:function(e){var t=un();return y0(t,Ke.memoizedState,e)},useTransition:function(){var e=dd(Li)[0],t=un().memoizedState;return[e,t]},useMutableSource:r0,useSyncExternalStore:a0,useId:v0,unstable_isNewReconciler:!1},F2={readContext:dn,useCallback:x0,useContext:dn,useEffect:$m,useImperativeHandle:h0,useInsertionEffect:m0,useLayoutEffect:f0,useMemo:g0,useReducer:ud,useRef:u0,useState:function(){return ud(Li)},useDebugValue:Um,useDeferredValue:function(e){var t=un();return Ke===null?t.memoizedState=e:y0(t,Ke.memoizedState,e)},useTransition:function(){var e=ud(Li)[0],t=un().memoizedState;return[e,t]},useMutableSource:r0,useSyncExternalStore:a0,useId:v0,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cc={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),a=Ls(e),i=Jn(r,a);i.payload=t,n!=null&&(i.callback=n),t=Ps(e,i,a),t!==null&&(_n(t,e,a,r),tl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),a=Ls(e),i=Jn(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ps(e,i,a),t!==null&&(_n(t,e,a,r),tl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=Ls(e),a=Jn(n,r);a.tag=2,t!=null&&(a.callback=t),t=Ps(e,a,r),t!==null&&(_n(t,e,r,n),tl(t,e,r))}};function uh(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Si(n,r)||!Si(a,i):!0}function N0(e,t,n){var r=!1,a=Is,i=t.contextType;return typeof i=="object"&&i!==null?i=dn(i):(a=It(t)?lr:yt.current,r=t.contextTypes,i=(r=r!=null)?na(e,a):Is),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function mh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cc.enqueueReplaceState(t,t.state,null)}function ju(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Im(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=dn(i):(i=It(t)?lr:yt.current,a.context=na(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bu(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&cc.enqueueReplaceState(a,a.state,null),Tl(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ia(e,t){try{var n="",r=t;do n+=fw(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function md(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var B2=typeof WeakMap=="function"?WeakMap:Map;function k0(e,t,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){El||(El=!0,Lu=r),wu(e,t)},n}function S0(e,t,n){n=Jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){wu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wu(e,t),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function fh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new B2;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=eN.bind(null,e,t,n),t.then(e,e))}function ph(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hh(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jn(-1,1),t.tag=2,Ps(n,t,1))),n.lanes|=1),e)}var V2=os.ReactCurrentOwner,At=!1;function kt(e,t,n,r){t.child=e===null?e0(t,null,n,r):ra(t,e.child,n,r)}function xh(e,t,n,r,a){n=n.render;var i=t.ref;return Xr(t,a),r=Bm(e,t,n,r,i,a),n=Vm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rs(e,t,a)):(Pe&&n&&Mm(t),t.flags|=1,kt(e,t,r,a),t.child)}function gh(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Qm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,_0(e,t,i,r,a)):(e=ol(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Si,n(o,r)&&e.ref===t.ref)return rs(e,t,a)}return t.flags|=1,e=As(i,r),e.ref=t.ref,e.return=t,t.child=e}function _0(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Si(i,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,rs(e,t,a)}return Nu(e,t,n,r,a)}function C0(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Fr,Vt),Vt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(Fr,Vt),Vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(Fr,Vt),Vt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ke(Fr,Vt),Vt|=r;return kt(e,t,a,n),t.child}function M0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nu(e,t,n,r,a){var i=It(n)?lr:yt.current;return i=na(t,i),Xr(t,a),n=Bm(e,t,n,r,i,a),r=Vm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,rs(e,t,a)):(Pe&&r&&Mm(t),t.flags|=1,kt(e,t,n,a),t.child)}function yh(e,t,n,r,a){if(It(n)){var i=!0;kl(t)}else i=!1;if(Xr(t,a),t.stateNode===null)rl(e,t),N0(t,n,r),ju(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=dn(d):(d=It(n)?lr:yt.current,d=na(t,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&mh(t,o,r,d),vs=!1;var f=t.memoizedState;o.state=f,Tl(t,r,o,a),c=t.memoizedState,l!==r||f!==c||Et.current||vs?(typeof u=="function"&&(bu(t,n,u,r),c=t.memoizedState),(l=vs||uh(t,n,l,r,f,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,n0(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:jn(t.type,l),o.props=d,m=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dn(c):(c=It(n)?lr:yt.current,c=na(t,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&mh(t,o,r,c),vs=!1,f=t.memoizedState,o.state=f,Tl(t,r,o,a);var y=t.memoizedState;l!==m||f!==y||Et.current||vs?(typeof p=="function"&&(bu(t,n,p,r),y=t.memoizedState),(d=vs||uh(t,n,d,r,f,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return ku(e,t,n,r,i,a)}function ku(e,t,n,r,a,i){M0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&sh(t,n,!1),rs(e,t,i);r=t.stateNode,V2.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ra(t,e.child,null,i),t.child=ra(t,null,l,i)):kt(e,t,l,i),t.memoizedState=r.state,a&&sh(t,n,!0),t.child}function T0(e){var t=e.stateNode;t.pendingContext?nh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nh(e,t.context,!1),Rm(e,t.containerInfo)}function vh(e,t,n,r,a){return sa(),Pm(a),t.flags|=256,kt(e,t,n,r),t.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function _u(e){return{baseLanes:e,cachePool:null,transitions:null}}function P0(e,t,n){var r=t.pendingProps,a=Ee.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ke(Ee,a&1),e===null)return yu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mc(o,r,0,null),e=ar(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_u(n),t.memoizedState=Su,e):Gm(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return $2(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=As(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=As(l,i):(i=ar(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?_u(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Su,r}return i=e.child,e=i.sibling,r=As(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gm(e,t){return t=mc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lo(e,t,n,r){return r!==null&&Pm(r),ra(t,e.child,null,n),e=Gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $2(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=md(Error($(422))),Lo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=mc({mode:"visible",children:r.children},a,0,null),i=ar(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ra(t,e.child,null,o),t.child.memoizedState=_u(o),t.memoizedState=Su,i);if(!(t.mode&1))return Lo(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=md(i,r,void 0),Lo(e,t,o,r)}if(l=(o&e.childLanes)!==0,At||l){if(r=st,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ss(e,a),_n(r,e,a,-1))}return Xm(),r=md(Error($(421))),Lo(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=tN.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,$t=Ts(a.nextSibling),Ut=t,Pe=!0,Nn=null,e!==null&&(an[on++]=Xn,an[on++]=Qn,an[on++]=cr,Xn=e.id,Qn=e.overflow,cr=t),t=Gm(t,r.children),t.flags|=4096,t)}function bh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vu(e.return,t,n)}function fd(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function D0(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(kt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bh(e,n,t);else if(e.tag===19)bh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Pl(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),fd(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Pl(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}fd(t,!0,n,null,i);break;case"together":fd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=As(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=As(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function U2(e,t,n){switch(t.tag){case 3:T0(t),sa();break;case 5:s0(t);break;case 1:It(t.type)&&kl(t);break;case 4:Rm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ke(Cl,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?P0(e,t,n):(ke(Ee,Ee.current&1),e=rs(e,t,n),e!==null?e.sibling:null);ke(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return D0(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ke(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,C0(e,t,n)}return rs(e,t,n)}var L0,Cu,A0,E0;L0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cu=function(){};A0=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,tr(zn.current);var i=null;switch(n){case"input":a=Kd(e,a),r=Kd(e,r),i=[];break;case"select":a=Oe({},a,{value:void 0}),r=Oe({},r,{value:void 0}),i=[];break;case"textarea":a=Jd(e,a),r=Jd(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wl)}eu(n,r);var o;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(yi.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(yi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ce("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};E0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Oa(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function G2(e,t,n){var r=t.pendingProps;switch(Tm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return It(t.type)&&Nl(),ft(t),null;case 3:return r=t.stateNode,aa(),Me(Et),Me(yt),zm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Po(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nn!==null&&(Iu(Nn),Nn=null))),Cu(e,t),ft(t),null;case 5:Om(t);var a=tr(Pi.current);if(n=t.type,e!==null&&t.stateNode!=null)A0(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return ft(t),null}if(e=tr(zn.current),Po(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[In]=t,r[Mi]=i,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(a=0;a<Ka.length;a++)Ce(Ka[a],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Tp(r,i),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",r);break;case"textarea":Dp(r,i),Ce("invalid",r)}eu(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&To(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&To(r.textContent,l,e),a=["children",""+l]):yi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":jo(r),Pp(r,i,!0);break;case"textarea":jo(r),Lp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wl)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ly(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[In]=t,e[Mi]=r,L0(e,t,!1,!1),t.stateNode=e;e:{switch(o=tu(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),a=r;break;case"iframe":case"object":case"embed":Ce("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ka.length;a++)Ce(Ka[a],e);a=r;break;case"source":Ce("error",e),a=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),a=r;break;case"details":Ce("toggle",e),a=r;break;case"input":Tp(e,r),a=Kd(e,r),Ce("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Oe({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":Dp(e,r),a=Jd(e,r),Ce("invalid",e);break;default:a=r}eu(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?uy(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cy(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vi(e,c):typeof c=="number"&&vi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ce("scroll",e):c!=null&&pm(e,i,c,o))}switch(n){case"input":jo(e),Pp(e,r,!1);break;case"textarea":jo(e),Lp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Es(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Yr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(e&&t.stateNode!=null)E0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=tr(Pi.current),tr(zn.current),Po(t)){if(r=t.stateNode,n=t.memoizedProps,r[In]=t,(i=r.nodeValue!==n)&&(e=Ut,e!==null))switch(e.tag){case 3:To(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&To(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[In]=t,t.stateNode=r}return ft(t),null;case 13:if(Me(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&$t!==null&&t.mode&1&&!(t.flags&128))Jy(),sa(),t.flags|=98560,i=!1;else if(i=Po(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[In]=t}else sa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),i=!1}else Nn!==null&&(Iu(Nn),Nn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Je===0&&(Je=3):Xm())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return aa(),Cu(e,t),e===null&&_i(t.stateNode.containerInfo),ft(t),null;case 10:return Am(t.type._context),ft(t),null;case 17:return It(t.type)&&Nl(),ft(t),null;case 19:if(Me(Ee),i=t.memoizedState,i===null)return ft(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Oa(i,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Pl(e),o!==null){for(t.flags|=128,Oa(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(Ee,Ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>oa&&(t.flags|=128,r=!0,Oa(i,!1),t.lanes=4194304)}else{if(!r)if(e=Pl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return ft(t),null}else 2*Ge()-i.renderingStartTime>oa&&n!==1073741824&&(t.flags|=128,r=!0,Oa(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=Ee.current,ke(Ee,r?n&1|2:n&1),t):(ft(t),null);case 22:case 23:return Km(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vt&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function W2(e,t){switch(Tm(t),t.tag){case 1:return It(t.type)&&Nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(),Me(Et),Me(yt),zm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Om(t),null;case 13:if(Me(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Ee),null;case 4:return aa(),null;case 10:return Am(t.type._context),null;case 22:case 23:return Km(),null;case 24:return null;default:return null}}var Ao=!1,ht=!1,Y2=typeof WeakSet=="function"?WeakSet:Set,q=null;function zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function Mu(e,t,n){try{n()}catch(r){Be(e,t,r)}}var jh=!1;function H2(e,t){if(uu=vl,e=Fy(),Cm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var p;m!==n||a!==0&&m.nodeType!==3||(l=o+a),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)f=m,m=p;for(;;){if(m===e)break t;if(f===n&&++d===a&&(l=o),f===i&&++u===r&&(c=o),(p=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mu={focusedElem:e,selectionRange:n},vl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,j=y.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:jn(t.type,v),j);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(w){Be(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return y=jh,jh=!1,y}function ai(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Mu(t,n,i)}a=a.next}while(a!==r)}}function dc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function I0(e){var t=e.alternate;t!==null&&(e.alternate=null,I0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[In],delete t[Mi],delete t[hu],delete t[T2],delete t[P2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R0(e){return e.tag===5||e.tag===3||e.tag===4}function wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wl));else if(r!==4&&(e=e.child,e!==null))for(Pu(e,t,n),e=e.sibling;e!==null;)Pu(e,t,n),e=e.sibling}function Du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Du(e,t,n),e=e.sibling;e!==null;)Du(e,t,n),e=e.sibling}var it=null,wn=!1;function fs(e,t,n){for(n=n.child;n!==null;)O0(e,t,n),n=n.sibling}function O0(e,t,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(nc,n)}catch{}switch(n.tag){case 5:ht||zr(n,t);case 6:var r=it,a=wn;it=null,fs(e,t,n),it=r,wn=a,it!==null&&(wn?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(wn?(e=it,n=n.stateNode,e.nodeType===8?id(e.parentNode,n):e.nodeType===1&&id(e,n),Ni(e)):id(it,n.stateNode));break;case 4:r=it,a=wn,it=n.stateNode.containerInfo,wn=!0,fs(e,t,n),it=r,wn=a;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mu(n,t,o),a=a.next}while(a!==r)}fs(e,t,n);break;case 1:if(!ht&&(zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Be(n,t,l)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,fs(e,t,n),ht=r):fs(e,t,n);break;default:fs(e,t,n)}}function Nh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Y2),t.forEach(function(r){var a=nN.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:it=l.stateNode,wn=!1;break e;case 3:it=l.stateNode.containerInfo,wn=!0;break e;case 4:it=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(it===null)throw Error($(160));O0(i,o,a),it=null,wn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Be(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z0(t,e),t=t.sibling}function z0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(t,e),An(e),r&4){try{ai(3,e,e.return),dc(3,e)}catch(v){Be(e,e.return,v)}try{ai(5,e,e.return)}catch(v){Be(e,e.return,v)}}break;case 1:yn(t,e),An(e),r&512&&n!==null&&zr(n,n.return);break;case 5:if(yn(t,e),An(e),r&512&&n!==null&&zr(n,n.return),e.flags&32){var a=e.stateNode;try{vi(a,"")}catch(v){Be(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&iy(a,i),tu(l,o);var d=tu(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?uy(a,m):u==="dangerouslySetInnerHTML"?cy(a,m):u==="children"?vi(a,m):pm(a,u,m,d)}switch(l){case"input":Xd(a,i);break;case"textarea":oy(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Yr(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Yr(a,!!i.multiple,i.defaultValue,!0):Yr(a,!!i.multiple,i.multiple?[]:"",!1))}a[Mi]=i}catch(v){Be(e,e.return,v)}}break;case 6:if(yn(t,e),An(e),r&4){if(e.stateNode===null)throw Error($(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Be(e,e.return,v)}}break;case 3:if(yn(t,e),An(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ni(t.containerInfo)}catch(v){Be(e,e.return,v)}break;case 4:yn(t,e),An(e);break;case 13:yn(t,e),An(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Hm=Ge())),r&4&&Nh(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ht=(d=ht)||u,yn(t,e),ht=d):yn(t,e),An(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(q=e,u=e.child;u!==null;){for(m=q=u;q!==null;){switch(f=q,p=f.child,f.tag){case 0:case 11:case 14:case 15:ai(4,f,f.return);break;case 1:zr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Be(r,n,v)}}break;case 5:zr(f,f.return);break;case 22:if(f.memoizedState!==null){Sh(m);continue}}p!==null?(p.return=f,q=p):Sh(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dy("display",o))}catch(v){Be(e,e.return,v)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){Be(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:yn(t,e),An(e),r&4&&Nh(e);break;case 21:break;default:yn(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(R0(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(vi(a,""),r.flags&=-33);var i=wh(e);Du(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wh(e);Pu(e,l,o);break;default:throw Error($(161))}}catch(c){Be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q2(e,t,n){q=e,F0(e)}function F0(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var a=q,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Ao;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ht;l=Ao;var d=ht;if(Ao=o,(ht=c)&&!d)for(q=a;q!==null;)o=q,c=o.child,o.tag===22&&o.memoizedState!==null?_h(a):c!==null?(c.return=o,q=c):_h(a);for(;i!==null;)q=i,F0(i),i=i.sibling;q=a,Ao=l,ht=d}kh(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,q=i):kh(e)}}function kh(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||dc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:jn(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&lh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lh(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Ni(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ht||t.flags&512&&Tu(t)}catch(f){Be(t,t.return,f)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Sh(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function _h(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dc(4,t)}catch(c){Be(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Be(t,a,c)}}var i=t.return;try{Tu(t)}catch(c){Be(t,i,c)}break;case 5:var o=t.return;try{Tu(t)}catch(c){Be(t,o,c)}}}catch(c){Be(t,t.return,c)}if(t===e){q=null;break}var l=t.sibling;if(l!==null){l.return=t.return,q=l;break}q=t.return}}var K2=Math.ceil,Al=os.ReactCurrentDispatcher,Wm=os.ReactCurrentOwner,cn=os.ReactCurrentBatchConfig,fe=0,st=null,Ye=null,lt=0,Vt=0,Fr=Fs(0),Je=0,Ei=null,ur=0,uc=0,Ym=0,ii=null,Lt=null,Hm=0,oa=1/0,qn=null,El=!1,Lu=null,Ds=null,Eo=!1,ks=null,Il=0,oi=0,Au=null,al=-1,il=0;function St(){return fe&6?Ge():al!==-1?al:al=Ge()}function Ls(e){return e.mode&1?fe&2&&lt!==0?lt&-lt:L2.transition!==null?(il===0&&(il=Ny()),il):(e=be,e!==0||(e=window.event,e=e===void 0?16:Py(e.type)),e):1}function _n(e,t,n,r){if(50<oi)throw oi=0,Au=null,Error($(185));Wi(e,n,r),(!(fe&2)||e!==st)&&(e===st&&(!(fe&2)&&(uc|=n),Je===4&&ws(e,lt)),Rt(e,r),n===1&&fe===0&&!(t.mode&1)&&(oa=Ge()+500,oc&&Bs()))}function Rt(e,t){var n=e.callbackNode;Lw(e,t);var r=yl(e,e===st?lt:0);if(r===0)n!==null&&Ip(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ip(n),t===1)e.tag===0?D2(Ch.bind(null,e)):Ky(Ch.bind(null,e)),C2(function(){!(fe&6)&&Bs()}),n=null;else{switch(ky(r)){case 1:n=vm;break;case 4:n=jy;break;case 16:n=gl;break;case 536870912:n=wy;break;default:n=gl}n=H0(n,B0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B0(e,t){if(al=-1,il=0,fe&6)throw Error($(327));var n=e.callbackNode;if(Qr()&&e.callbackNode!==n)return null;var r=yl(e,e===st?lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rl(e,r);else{t=r;var a=fe;fe|=2;var i=$0();(st!==e||lt!==t)&&(qn=null,oa=Ge()+500,rr(e,t));do try{J2();break}catch(l){V0(e,l)}while(!0);Lm(),Al.current=i,fe=a,Ye!==null?t=0:(st=null,lt=0,t=Je)}if(t!==0){if(t===2&&(a=iu(e),a!==0&&(r=a,t=Eu(e,a))),t===1)throw n=Ei,rr(e,0),ws(e,r),Rt(e,Ge()),n;if(t===6)ws(e,r);else{if(a=e.current.alternate,!(r&30)&&!X2(a)&&(t=Rl(e,r),t===2&&(i=iu(e),i!==0&&(r=i,t=Eu(e,i))),t===1))throw n=Ei,rr(e,0),ws(e,r),Rt(e,Ge()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:qs(e,Lt,qn);break;case 3:if(ws(e,r),(r&130023424)===r&&(t=Hm+500-Ge(),10<t)){if(yl(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=pu(qs.bind(null,e,Lt,qn),t);break}qs(e,Lt,qn);break;case 4:if(ws(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Sn(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K2(r/1960))-r,10<r){e.timeoutHandle=pu(qs.bind(null,e,Lt,qn),r);break}qs(e,Lt,qn);break;case 5:qs(e,Lt,qn);break;default:throw Error($(329))}}}return Rt(e,Ge()),e.callbackNode===n?B0.bind(null,e):null}function Eu(e,t){var n=ii;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=Rl(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&Iu(t)),e}function Iu(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function X2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Cn(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ws(e,t){for(t&=~Ym,t&=~uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Sn(t),r=1<<n;e[n]=-1,t&=~r}}function Ch(e){if(fe&6)throw Error($(327));Qr();var t=yl(e,0);if(!(t&1))return Rt(e,Ge()),null;var n=Rl(e,t);if(e.tag!==0&&n===2){var r=iu(e);r!==0&&(t=r,n=Eu(e,r))}if(n===1)throw n=Ei,rr(e,0),ws(e,t),Rt(e,Ge()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qs(e,Lt,qn),Rt(e,Ge()),null}function qm(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(oa=Ge()+500,oc&&Bs())}}function mr(e){ks!==null&&ks.tag===0&&!(fe&6)&&Qr();var t=fe;fe|=1;var n=cn.transition,r=be;try{if(cn.transition=null,be=1,e)return e()}finally{be=r,cn.transition=n,fe=t,!(fe&6)&&Bs()}}function Km(){Vt=Fr.current,Me(Fr)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_2(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Tm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nl();break;case 3:aa(),Me(Et),Me(yt),zm();break;case 5:Om(r);break;case 4:aa();break;case 13:Me(Ee);break;case 19:Me(Ee);break;case 10:Am(r.type._context);break;case 22:case 23:Km()}n=n.return}if(st=e,Ye=e=As(e.current,null),lt=Vt=t,Je=0,Ei=null,Ym=uc=ur=0,Lt=ii=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}er=null}return e}function V0(e,t){do{var n=Ye;try{if(Lm(),nl.current=Ll,Dl){for(var r=Re.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Dl=!1}if(dr=0,tt=Ke=Re=null,ri=!1,Di=0,Wm.current=null,n===null||n.return===null){Je=1,Ei=t,Ye=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ph(o);if(p!==null){p.flags&=-257,hh(p,o,l,i,t),p.mode&1&&fh(i,d,t),t=p,c=d;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){fh(i,d,t),Xm();break e}c=Error($(426))}}else if(Pe&&l.mode&1){var j=ph(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),hh(j,o,l,i,t),Pm(ia(c,l));break e}}i=c=ia(c,l),Je!==4&&(Je=2),ii===null?ii=[i]:ii.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=k0(i,c,t);oh(i,x);break e;case 1:l=c;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ds===null||!Ds.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=S0(i,l,t);oh(i,w);break e}}i=i.return}while(i!==null)}G0(n)}catch(N){t=N,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function $0(){var e=Al.current;return Al.current=Ll,e===null?Ll:e}function Xm(){(Je===0||Je===3||Je===2)&&(Je=4),st===null||!(ur&268435455)&&!(uc&268435455)||ws(st,lt)}function Rl(e,t){var n=fe;fe|=2;var r=$0();(st!==e||lt!==t)&&(qn=null,rr(e,t));do try{Q2();break}catch(a){V0(e,a)}while(!0);if(Lm(),fe=n,Al.current=r,Ye!==null)throw Error($(261));return st=null,lt=0,Je}function Q2(){for(;Ye!==null;)U0(Ye)}function J2(){for(;Ye!==null&&!Nw();)U0(Ye)}function U0(e){var t=Y0(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?G0(e):Ye=t,Wm.current=null}function G0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=W2(n,t),n!==null){n.flags&=32767,Ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ye=null;return}}else if(n=G2(n,t,Vt),n!==null){Ye=n;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Je===0&&(Je=5)}function qs(e,t,n){var r=be,a=cn.transition;try{cn.transition=null,be=1,Z2(e,t,n,r)}finally{cn.transition=a,be=r}return null}function Z2(e,t,n,r){do Qr();while(ks!==null);if(fe&6)throw Error($(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Aw(e,i),e===st&&(Ye=st=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eo||(Eo=!0,H0(gl,function(){return Qr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=be;be=1;var l=fe;fe|=4,Wm.current=null,H2(e,n),z0(n,e),v2(mu),vl=!!uu,mu=uu=null,e.current=n,q2(n),kw(),fe=l,be=o,cn.transition=i}else e.current=n;if(Eo&&(Eo=!1,ks=e,Il=a),i=e.pendingLanes,i===0&&(Ds=null),Cw(n.stateNode),Rt(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(El)throw El=!1,e=Lu,Lu=null,e;return Il&1&&e.tag!==0&&Qr(),i=e.pendingLanes,i&1?e===Au?oi++:(oi=0,Au=e):oi=0,Bs(),null}function Qr(){if(ks!==null){var e=ky(Il),t=cn.transition,n=be;try{if(cn.transition=null,be=16>e?16:e,ks===null)var r=!1;else{if(e=ks,ks=null,Il=0,fe&6)throw Error($(331));var a=fe;for(fe|=4,q=e.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(q=d;q!==null;){var u=q;switch(u.tag){case 0:case 11:case 15:ai(8,u,i)}var m=u.child;if(m!==null)m.return=u,q=m;else for(;q!==null;){u=q;var f=u.sibling,p=u.return;if(I0(u),u===d){q=null;break}if(f!==null){f.return=p,q=f;break}q=p}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ai(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,q=x;break e}q=i.return}}var g=e.current;for(q=g;q!==null;){o=q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,q=b;else e:for(o=g;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dc(9,l)}}catch(N){Be(l,l.return,N)}if(l===o){q=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,q=w;break e}q=l.return}}if(fe=a,Bs(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(nc,e)}catch{}r=!0}return r}finally{be=n,cn.transition=t}}return!1}function Mh(e,t,n){t=ia(n,t),t=k0(e,t,1),e=Ps(e,t,1),t=St(),e!==null&&(Wi(e,1,t),Rt(e,t))}function Be(e,t,n){if(e.tag===3)Mh(e,e,n);else for(;t!==null;){if(t.tag===3){Mh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){e=ia(n,e),e=S0(t,e,1),t=Ps(t,e,1),e=St(),t!==null&&(Wi(t,1,e),Rt(t,e));break}}t=t.return}}function eN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(lt&n)===n&&(Je===4||Je===3&&(lt&130023424)===lt&&500>Ge()-Hm?rr(e,0):Ym|=n),Rt(e,t)}function W0(e,t){t===0&&(e.mode&1?(t=ko,ko<<=1,!(ko&130023424)&&(ko=4194304)):t=1);var n=St();e=ss(e,t),e!==null&&(Wi(e,t,n),Rt(e,n))}function tN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),W0(e,n)}function nN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),W0(e,n)}var Y0;Y0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,U2(e,t,n);At=!!(e.flags&131072)}else At=!1,Pe&&t.flags&1048576&&Xy(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rl(e,t),e=t.pendingProps;var a=na(t,yt.current);Xr(t,n),a=Bm(null,t,r,e,a,n);var i=Vm();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(r)?(i=!0,kl(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Im(t),a.updater=cc,t.stateNode=a,a._reactInternals=t,ju(t,r,e,n),t=ku(null,t,r,!0,i,n)):(t.tag=0,Pe&&i&&Mm(t),kt(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=rN(r),e=jn(r,e),a){case 0:t=Nu(null,t,r,e,n);break e;case 1:t=yh(null,t,r,e,n);break e;case 11:t=xh(null,t,r,e,n);break e;case 14:t=gh(null,t,r,jn(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:jn(r,a),Nu(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:jn(r,a),yh(e,t,r,a,n);case 3:e:{if(T0(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,a=i.element,n0(e,t),Tl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ia(Error($(423)),t),t=vh(e,t,r,n,a);break e}else if(r!==a){a=ia(Error($(424)),t),t=vh(e,t,r,n,a);break e}else for($t=Ts(t.stateNode.containerInfo.firstChild),Ut=t,Pe=!0,Nn=null,n=e0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),r===a){t=rs(e,t,n);break e}kt(e,t,r,n)}t=t.child}return t;case 5:return s0(t),e===null&&yu(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,fu(r,a)?o=null:i!==null&&fu(r,i)&&(t.flags|=32),M0(e,t),kt(e,t,o,n),t.child;case 6:return e===null&&yu(t),null;case 13:return P0(e,t,n);case 4:return Rm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ra(t,null,r,n):kt(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:jn(r,a),xh(e,t,r,a,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ke(Cl,r._currentValue),r._currentValue=o,i!==null)if(Cn(i.value,o)){if(i.children===a.children&&!Et.current){t=rs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Jn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),vu(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Xr(t,n),a=dn(a),r=r(a),t.flags|=1,kt(e,t,r,n),t.child;case 14:return r=t.type,a=jn(r,t.pendingProps),a=jn(r.type,a),gh(e,t,r,a,n);case 15:return _0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:jn(r,a),rl(e,t),t.tag=1,It(r)?(e=!0,kl(t)):e=!1,Xr(t,n),N0(t,r,a),ju(t,r,a,n),ku(null,t,r,!0,e,n);case 19:return D0(e,t,n);case 22:return C0(e,t,n)}throw Error($(156,t.tag))};function H0(e,t){return by(e,t)}function sN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,r){return new sN(e,t,n,r)}function Qm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rN(e){if(typeof e=="function")return Qm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xm)return 11;if(e===gm)return 14}return 2}function As(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ol(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")Qm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Tr:return ar(n.children,a,i,t);case hm:o=8,a|=8;break;case Wd:return e=ln(12,n,t,a|2),e.elementType=Wd,e.lanes=i,e;case Yd:return e=ln(13,n,t,a),e.elementType=Yd,e.lanes=i,e;case Hd:return e=ln(19,n,t,a),e.elementType=Hd,e.lanes=i,e;case sy:return mc(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ty:o=10;break e;case ny:o=9;break e;case xm:o=11;break e;case gm:o=14;break e;case ys:o=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=ln(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function ar(e,t,n,r){return e=ln(7,e,r,t),e.lanes=n,e}function mc(e,t,n,r){return e=ln(22,e,r,t),e.elementType=sy,e.lanes=n,e.stateNode={isHidden:!1},e}function pd(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function hd(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aN(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kc(0),this.expirationTimes=Kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kc(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Jm(e,t,n,r,a,i,o,l,c){return e=new aN(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ln(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Im(i),e}function iN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function q0(e){if(!e)return Is;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(It(n))return qy(e,n,t)}return t}function K0(e,t,n,r,a,i,o,l,c){return e=Jm(n,r,!0,e,a,i,o,l,c),e.context=q0(null),n=e.current,r=St(),a=Ls(n),i=Jn(r,a),i.callback=t??null,Ps(n,i,a),e.current.lanes=a,Wi(e,a,r),Rt(e,r),e}function fc(e,t,n,r){var a=t.current,i=St(),o=Ls(a);return n=q0(n),t.context===null?t.context=n:t.pendingContext=n,t=Jn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ps(a,t,o),e!==null&&(_n(e,a,o,i),tl(e,a,o)),o}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Th(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zm(e,t){Th(e,t),(e=e.alternate)&&Th(e,t)}function oN(){return null}var X0=typeof reportError=="function"?reportError:function(e){console.error(e)};function ef(e){this._internalRoot=e}pc.prototype.render=ef.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));fc(e,t,null,null)};pc.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){fc(null,e,null,null)}),t[ns]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<js.length&&t!==0&&t<js[n].priority;n++);js.splice(n,0,e),n===0&&Ty(e)}};function tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ph(){}function lN(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=Ol(o);i.call(d)}}var o=K0(t,r,e,0,null,!1,!1,"",Ph);return e._reactRootContainer=o,e[ns]=o.current,_i(e.nodeType===8?e.parentNode:e),mr(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Ol(c);l.call(d)}}var c=Jm(e,0,!1,null,null,!1,!1,"",Ph);return e._reactRootContainer=c,e[ns]=c.current,_i(e.nodeType===8?e.parentNode:e),mr(function(){fc(t,c,n,r)}),c}function xc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ol(o);l.call(c)}}fc(t,o,e,a)}else o=lN(n,t,e,a,r);return Ol(o)}Sy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qa(t.pendingLanes);n!==0&&(bm(t,n|1),Rt(t,Ge()),!(fe&6)&&(oa=Ge()+500,Bs()))}break;case 13:mr(function(){var r=ss(e,1);if(r!==null){var a=St();_n(r,e,1,a)}}),Zm(e,1)}};jm=function(e){if(e.tag===13){var t=ss(e,134217728);if(t!==null){var n=St();_n(t,e,134217728,n)}Zm(e,134217728)}};_y=function(e){if(e.tag===13){var t=Ls(e),n=ss(e,t);if(n!==null){var r=St();_n(n,e,t,r)}Zm(e,t)}};Cy=function(){return be};My=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};su=function(e,t,n){switch(t){case"input":if(Xd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ic(r);if(!a)throw Error($(90));ay(r),Xd(r,a)}}}break;case"textarea":oy(e,n);break;case"select":t=n.value,t!=null&&Yr(e,!!n.multiple,t,!1)}};py=qm;hy=mr;var cN={usingClientEntryPoint:!1,Events:[Hi,Ar,ic,my,fy,qm]},za={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dN={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yy(e),e===null?null:e.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||oN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{nc=Io.inject(dN),On=Io}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cN;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tf(t))throw Error($(200));return iN(e,t,null,n)};qt.createRoot=function(e,t){if(!tf(e))throw Error($(299));var n=!1,r="",a=X0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Jm(e,1,!1,null,null,n,!1,r,a),e[ns]=t.current,_i(e.nodeType===8?e.parentNode:e),new ef(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=yy(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return mr(e)};qt.hydrate=function(e,t,n){if(!hc(t))throw Error($(200));return xc(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!tf(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=X0;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=K0(t,null,e,1,n??null,a,!1,i,o),e[ns]=t.current,_i(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new pc(t)};qt.render=function(e,t,n){if(!hc(t))throw Error($(200));return xc(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!hc(e))throw Error($(40));return e._reactRootContainer?(mr(function(){xc(null,null,e,!1,function(){e._reactRootContainer=null,e[ns]=null})}),!0):!1};qt.unstable_batchedUpdates=qm;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hc(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return xc(e,t,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function Q0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q0)}catch(e){console.error(e)}}Q0(),Qg.exports=qt;var nr=Qg.exports,J0,Dh=nr;J0=Dh.createRoot,Dh.hydrateRoot;let Ro;const uN=new Uint8Array(16);function mN(){if(!Ro&&(Ro=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ro))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ro(uN)}const at=[];for(let e=0;e<256;++e)at.push((e+256).toString(16).slice(1));function fN(e,t=0){return at[e[t+0]]+at[e[t+1]]+at[e[t+2]]+at[e[t+3]]+"-"+at[e[t+4]]+at[e[t+5]]+"-"+at[e[t+6]]+at[e[t+7]]+"-"+at[e[t+8]]+at[e[t+9]]+"-"+at[e[t+10]]+at[e[t+11]]+at[e[t+12]]+at[e[t+13]]+at[e[t+14]]+at[e[t+15]]}const pN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lh={randomUUID:pN};function te(e,t,n){if(Lh.randomUUID&&!e)return Lh.randomUUID();e=e||{};const r=e.random||(e.rng||mN)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,fN(r)}/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z0=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...xN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Z0("lucide",a),...l},[...o.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(e,t)=>{const n=h.forwardRef(({className:r,...a},i)=>h.createElement(gN,{ref:i,iconNode:t,className:Z0(`lucide-${hN(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=W("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=W("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=W("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=W("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=W("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=W("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=W("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=W("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=W("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=W("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=W("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=W("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=W("DatabaseZap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=W("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=W("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=W("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=W("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=W("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=W("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=W("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=W("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=W("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=W("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=W("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=W("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=W("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=W("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=W("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=W("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=W("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=W("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=W("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=W("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=W("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=W("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=W("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=W("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=W("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=W("Replace",[["path",{d:"M14 4c0-1.1.9-2 2-2",key:"1mvvbw"}],["path",{d:"M20 2c1.1 0 2 .9 2 2",key:"1mj6oe"}],["path",{d:"M22 8c0 1.1-.9 2-2 2",key:"v1wql3"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2",key:"821ux0"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1",key:"13af7h"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2",key:"17ihk4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=W("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=W("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=W("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=W("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=W("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=W("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=W("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=W("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=W("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=W("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=W("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=W("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=W("ToyBrick",[["rect",{width:"18",height:"12",x:"3",y:"8",rx:"1",key:"158fvp"}],["path",{d:"M10 8V5c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v3",key:"s0042v"}],["path",{d:"M19 8V5c0-.6-.4-1-1-1h-3a1 1 0 0 0-1 1v3",key:"9wmeh2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=W("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=W("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=W("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=W("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=W("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),VN=({profile:e,ticketCount:t,notificationCount:n,onViewProfile:r,onSignIn:a,onViewTickets:i,onViewNotifications:o,onGoToShop:l,onOpenPremiumModal:c})=>{const d=!e||e.is_guest;return s.jsxs("header",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:d?a:r,className:"flex items-center gap-2",children:s.jsx("div",{className:"w-10 h-10 bg-navy-accent/70 backdrop-blur-sm rounded-full flex items-center justify-center shadow-sm border border-neon-cyan/20",children:d?s.jsx(LN,{className:"w-5 h-5 text-electric-blue"}):e!=null&&e.profile_picture_url?s.jsx("img",{src:e.profile_picture_url,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):s.jsx("span",{className:"font-bold text-lg text-electric-blue",children:e!=null&&e.username?e.username.charAt(0).toUpperCase():"?"})})}),s.jsx("div",{className:"flex items-center gap-2",children:e&&!d&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-1 bg-navy-accent/70 backdrop-blur-sm pl-3 pr-1 py-1 rounded-full shadow-sm border border-neon-cyan/20",children:[s.jsx(_t,{className:"w-5 h-5 text-warm-yellow"}),s.jsx("span",{className:"font-bold text-text-primary text-sm",children:e.coins_balance.toLocaleString()}),s.jsx("button",{onClick:l,className:"w-6 h-6 bg-lime-glow/20 rounded-full flex items-center justify-center text-lime-glow hover:bg-lime-glow/30 transition-colors","aria-label":"Go to shop",children:s.jsx(fr,{size:16})})]}),s.jsxs("button",{onClick:i,className:"flex items-center gap-2 bg-navy-accent/70 backdrop-blur-sm px-3 py-2 rounded-full shadow-sm border border-neon-cyan/20 transition-colors hover:bg-white/10","aria-label":"View ticket wallet",children:[s.jsx(pr,{className:"w-5 h-5 text-lime-glow"}),s.jsx("span",{className:"font-bold text-text-primary text-sm",children:t})]}),s.jsxs("button",{onClick:o,className:"relative w-10 h-10 bg-navy-accent/70 backdrop-blur-sm rounded-full flex items-center justify-center shadow-sm border border-neon-cyan/20",children:[s.jsx(nf,{className:"w-5 h-5 text-text-secondary"}),n>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-hot-red text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full",children:n})]}),s.jsx("button",{onClick:c,className:"relative w-10 h-10 bg-navy-accent/70 backdrop-blur-sm rounded-full flex items-center justify-center shadow-sm border border-neon-cyan/20",title:e.is_subscriber?"Premium Active":"Become Premium",children:s.jsx(Vs,{className:`w-5 h-5 transition-colors ${e.is_subscriber?"text-warm-yellow fill-current":"text-text-secondary"}`})})]})})]})},$N=({isOpen:e,onClose:t,match:n,prediction:r,odds:a,balance:i,onConfirm:o,userBet:l,onCancelBet:c})=>{const[d,u]=h.useState(""),[m,f]=h.useState(r),[p,y]=h.useState(a);if(h.useEffect(()=>{e&&(l?(f(l.prediction),y(l.odds),u(l.amount.toString())):(f(r),y(a),u("")))},[e,r,a,l]),!e)return null;const v=parseInt(d)||0,j=v*p,x=v<=0||v>i,g=()=>{x||(o(v,m,p),t())},b=()=>{c(n.id),t()},w=_=>_>=1e3?`${_/1e3}K`:_.toString(),N=[100,500,1e3,2500],S=(_,O)=>{f(_),y(O)},k=({label:_,emoji:O,currentOdds:T,predictionKey:C})=>{const D=m===C;return s.jsxs("button",{onClick:()=>S(C,T),className:`flex-1 flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all duration-200 ${D?"bg-electric-blue/10 border-electric-blue shadow-inner":"bg-deep-navy border-disabled hover:border-electric-blue/50"}`,children:[s.jsx("span",{className:"text-2xl mb-1",children:O}),s.jsx("span",{className:"text-xs font-bold text-text-primary",children:_}),s.jsxs("span",{className:"text-sm font-semibold text-electric-blue",children:["@",T.toFixed(2)]})]})};return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:l?"Modify Bet":"Place Bet"}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"bg-deep-navy border border-disabled rounded-2xl p-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold text-text-disabled uppercase mb-2",children:[s.jsx("span",{children:"Match"}),s.jsx("span",{children:n.kickoffTime})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-3xl mb-1",children:n.teamA.emoji}),s.jsx("div",{className:"text-sm font-bold text-text-primary",children:n.teamA.name})]}),s.jsx("div",{className:"text-lg font-bold text-disabled",children:"vs"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-3xl mb-1",children:n.teamB.emoji}),s.jsx("div",{className:"text-sm font-bold text-text-primary",children:n.teamB.name})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-text-disabled uppercase mb-2",children:"Your Prediction"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(k,{label:n.teamA.name.split(" ")[0],emoji:n.teamA.emoji,currentOdds:n.odds.teamA,predictionKey:"teamA"}),s.jsx(k,{label:"Draw",emoji:"🤝",currentOdds:n.odds.draw,predictionKey:"draw"}),s.jsx(k,{label:n.teamB.name.split(" ")[0],emoji:n.teamB.emoji,currentOdds:n.odds.teamB,predictionKey:"teamB"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-text-disabled uppercase mb-2",children:"Bet Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx(_t,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-warm-yellow"}),s.jsx("input",{type:"number",value:d,onChange:_=>u(_.target.value),placeholder:"0",className:"input-base pl-12 text-lg",min:"0",max:i})]}),s.jsx("div",{className:"flex gap-2 mt-2",children:N.map(_=>s.jsx("button",{onClick:()=>u(_.toString()),className:"flex-1 py-2 px-2 bg-deep-navy hover:bg-electric-blue/20 rounded-lg text-sm font-semibold text-text-secondary hover:text-electric-blue transition-colors",children:w(_)},_))})]}),s.jsx("div",{className:"bg-lime-glow/10 border border-lime-glow/20 rounded-xl p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eo,{className:"w-5 h-5 text-lime-glow"}),s.jsx("span",{className:"text-sm font-medium text-lime-glow/90",children:"Potential Win"})]}),s.jsx("span",{className:"text-xl font-bold text-lime-glow",children:j.toLocaleString(void 0,{maximumFractionDigits:0})})]})}),s.jsxs("div",{className:"space-y-3 pt-2",children:[l?s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:b,className:"flex-1 py-3.5 px-6 bg-hot-red/20 hover:bg-hot-red/30 rounded-xl font-bold text-hot-red transition-colors",children:"Cancel Bet"}),s.jsx("button",{onClick:g,disabled:x,className:"primary-button flex-1",children:"Modify Bet"})]}):s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"flex-1 py-3.5 px-6 bg-disabled hover:bg-disabled/80 rounded-xl font-bold text-text-secondary transition-colors",children:"Cancel"}),s.jsx("button",{onClick:g,disabled:x,className:"primary-button flex-1",children:"Confirm Bet"})]}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-sm text-text-secondary",children:["Balance: ",s.jsxs("span",{className:"font-semibold text-warm-yellow",children:[i.toLocaleString()," coins"]})]})})]})]})})},Fa=({icon:e,label:t,isActive:n,onClick:r,badgeCount:a})=>s.jsxs("button",{onClick:r,className:`flex-1 flex flex-col items-center justify-center gap-1 py-2 rounded-xl transition-all duration-300 relative ${n?"text-neon-cyan":"text-text-secondary hover:text-neon-cyan"}`,children:[s.jsxs("div",{className:"relative",children:[e,a&&a>0&&s.jsx("span",{className:"absolute -top-1 -right-2 bg-hot-red text-white text-[10px] font-bold min-w-[1rem] h-4 px-1 flex items-center justify-center rounded-full",children:a>99?"99+":a})]}),s.jsx("span",{className:`text-xs font-semibold ${n?"text-neon-cyan":""}`,children:t}),n&&s.jsx("div",{className:"absolute bottom-0 h-1 w-8 bg-neon-cyan rounded-full shadow-[0_0_8px_theme('colors.neon-cyan')]"})]}),UN=({activePage:e,onPageChange:t})=>s.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto",children:s.jsxs("div",{className:"bg-navy-accent/80 backdrop-blur-lg m-4 p-1 rounded-2xl shadow-2xl shadow-neon-cyan/10 flex gap-1 border border-neon-cyan/20",children:[s.jsx(Fa,{icon:s.jsx(pn,{className:"w-6 h-6"}),label:"Games",isActive:e==="challenges",onClick:()=>t("challenges")}),s.jsx(Fa,{icon:s.jsx(gc,{className:"w-6 h-6"}),label:"Matches",isActive:e==="matches",onClick:()=>t("matches")}),s.jsx(Fa,{icon:s.jsx(rt,{className:"w-6 h-6"}),label:"Leagues",isActive:e==="leagues",onClick:()=>t("leagues")}),s.jsx(Fa,{icon:s.jsx(ON,{className:"w-6 h-6"}),label:"FunZone",isActive:e==="funzone",onClick:()=>t("funzone")}),s.jsx(Fa,{icon:s.jsx(pv,{className:"w-6 h-6"}),label:"Admin",isActive:e==="admin",onClick:()=>t("admin")})]})}),lf=[{id:"1",leagueName:"Premier League",leagueLogo:"https://media.api-sports.io/football/leagues/39.png",teamA:{name:"Man United",emoji:"🔴"},teamB:{name:"Liverpool",emoji:"⚽"},kickoffTime:"15:00",odds:{teamA:2.1,draw:3.2,teamB:2.8},status:"upcoming"},{id:"2",leagueName:"La Liga",leagueLogo:"https://media.api-sports.io/football/leagues/140.png",teamA:{name:"Barcelona",emoji:"🔵"},teamB:{name:"Real Madrid",emoji:"⚪"},kickoffTime:"18:30",odds:{teamA:2.5,draw:3,teamB:2.3},status:"upcoming",hasLineup:!0},{id:"3",leagueName:"Bundesliga",leagueLogo:"https://media.api-sports.io/football/leagues/78.png",teamA:{name:"Bayern Munich",emoji:"🟥"},teamB:{name:"Dortmund",emoji:"🟨"},kickoffTime:"20:00",odds:{teamA:1.9,draw:3.5,teamB:3.2},status:"upcoming"},{id:"4",leagueName:"Premier League",leagueLogo:"https://media.api-sports.io/football/leagues/39.png",teamA:{name:"Chelsea",emoji:"🔷"},teamB:{name:"Arsenal",emoji:"🔴"},kickoffTime:"12:30",odds:{teamA:2.4,draw:3.1,teamB:2.6},status:"played",result:"teamA",score:{teamA:2,teamB:1}},{id:"5",leagueName:"Ligue 1",leagueLogo:"https://media.api-sports.io/football/leagues/61.png",teamA:{name:"PSG",emoji:"🔴"},teamB:{name:"Marseille",emoji:"⚪"},kickoffTime:"16:00",odds:{teamA:1.7,draw:3.8,teamB:4.2},status:"played",result:"draw",score:{teamA:1,teamB:1}},{id:"6",leagueName:"Premier League",leagueLogo:"https://media.api-sports.io/football/leagues/39.png",teamA:{name:"Man City",emoji:"💠"},teamB:{name:"Everton",emoji:"🍬"},kickoffTime:"17:00",odds:{teamA:1.4,draw:4.5,teamB:7},status:"upcoming"},{id:"7",leagueName:"La Liga",leagueLogo:"https://media.api-sports.io/football/leagues/140.png",teamA:{name:"Atletico Madrid",emoji:"🔴"},teamB:{name:"Sevilla",emoji:"⚪"},kickoffTime:"19:00",odds:{teamA:1.9,draw:3.4,teamB:4},status:"upcoming"}],hv={1:{coins:100},2:{coins:200},3:{coins:300},4:{coins:500},5:{coins:500},6:{coins:500},7:{ticket:"rookie"}},Ah=48,xv={Amateur:500,Pro:1e3,Expert:2e3,Master:5e3,Legend:1e4,GOAT:null},GN={rookie:{expiry_days:30,max_quantity:5},pro:{expiry_days:45,max_quantity:3},elite:{expiry_days:60,max_quantity:2}},sn={rookie:{base:2e3,multipliers:{matchday:1,"mini-series":2,season:4}},pro:{base:1e4,multipliers:{matchday:1,"mini-series":2,season:4}},elite:{base:2e4,multipliers:{matchday:1,"mini-series":2,season:4}}},Ou=[{id:"cm-new-1",challengeId:"challenge-new",day:1,teamA:{name:"Netherlands",emoji:"🇳🇱"},teamB:{name:"France",emoji:"🇫🇷"},odds:{teamA:3.5,draw:3.4,teamB:2.1},status:"upcoming"},{id:"cm-new-2",challengeId:"challenge-new",day:1,teamA:{name:"Portugal",emoji:"🇵🇹"},teamB:{name:"Turkey",emoji:"🇹🇷"},odds:{teamA:1.6,draw:4,teamB:5.5},status:"upcoming"},{id:"cm-new-3",challengeId:"challenge-new",day:2,teamA:{name:"Belgium",emoji:"🇧🇪"},teamB:{name:"Romania",emoji:"🇷🇴"},odds:{teamA:1.5,draw:4.3,teamB:6.5},status:"upcoming"},{id:"cm-1-1",challengeId:"challenge-1",day:1,teamA:{name:"Arsenal",emoji:"🔴"},teamB:{name:"Tottenham",emoji:"⚪"},odds:{teamA:2.2,draw:3.1,teamB:2.9},status:"played",result:"teamA"},{id:"cm-1-2",challengeId:"challenge-1",day:1,teamA:{name:"Chelsea",emoji:"🔷"},teamB:{name:"West Ham",emoji:"⚒️"},odds:{teamA:1.8,draw:3.5,teamB:3.8},status:"upcoming"},{id:"cm-1-3",challengeId:"challenge-1",day:2,teamA:{name:"Man City",emoji:"💠"},teamB:{name:"Liverpool",emoji:"⚽"},odds:{teamA:2,draw:3.3,teamB:3},status:"upcoming"},{id:"cm-2-1",challengeId:"challenge-2",day:1,teamA:{name:"Real Madrid",emoji:"⚪"},teamB:{name:"Bayern Munich",emoji:"🟥"},odds:{teamA:2.4,draw:3.2,teamB:2.5},status:"played",result:"teamA"},{id:"cm-2-2",challengeId:"challenge-2",day:2,teamA:{name:"PSG",emoji:"🔵"},teamB:{name:"Dortmund",emoji:"🟨"},odds:{teamA:1.9,draw:3.6,teamB:3.3},status:"upcoming"},{id:"cm-3-1",challengeId:"challenge-3",day:1,teamA:{name:"England",emoji:"🏴󠁧󠁢󠁥󠁮󠁧󠁿"},teamB:{name:"Brazil",emoji:"🇧🇷"},odds:{teamA:2.8,draw:3,teamB:2.2},status:"played",result:"draw"},{id:"cm-3-2",challengeId:"challenge-3",day:2,teamA:{name:"Spain",emoji:"🇪🇸"},teamB:{name:"Germany",emoji:"🇩🇪"},odds:{teamA:2.5,draw:3.1,teamB:2.6},status:"played",result:"teamB"}];function re(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Yt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xt(e,t){const n=re(e);return isNaN(t)?Yt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function WN(e,t){const n=re(e);if(isNaN(t))return Yt(e,NaN);if(!t)return n;const r=n.getDate(),a=Yt(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}function Eh(e,t){const{years:n=0,months:r=0,weeks:a=0,days:i=0,hours:o=0,minutes:l=0,seconds:c=0}=t,d=re(e),u=r||n?WN(d,r+n*12):d,m=i||a?xt(u,i+a*7):u,f=l+o*60,y=(c+f*60)*1e3;return Yt(e,m.getTime()+y)}function gv(e,t){const n=+re(e);return Yt(e,n+t)}const yv=6048e5,YN=864e5,Ii=6e4,jc=36e5,Ih=525600,Br=43200,Fl=1440;function HN(e,t){return gv(e,t*jc)}let qN={};function va(){return qN}function Ri(e,t){var l,c,d,u;const n=va(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=re(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Bl(e){return Ri(e,{weekStartsOn:1})}function vv(e){const t=re(e),n=t.getFullYear(),r=Yt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Bl(r),i=Yt(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Bl(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Vl(e){const t=re(e);return t.setHours(0,0,0,0),t}function ca(e){const t=re(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function KN(e,t){const n=Vl(e),r=Vl(t),a=+n-ca(n),i=+r-ca(r);return Math.round((a-i)/YN)}function XN(e){const t=vv(e),n=Yt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Bl(n)}function Rh(e,t){return gv(e,t*Ii)}function ir(e,t){const n=re(e),r=re(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function cf(e){return Yt(e,Date.now())}function QN(e,t){const n=Vl(e),r=Vl(t);return+n==+r}function JN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ZN(e){if(!JN(e)&&typeof e!="number")return!1;const t=re(e);return!isNaN(Number(t))}function ek(e,t){const n=re(e),r=re(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function tk(e,t){const n=re(e),r=re(t);return n.getFullYear()-r.getFullYear()}function df(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function bv(e,t){return+re(e)-+re(t)}function ll(e,t,n){const r=bv(e,t)/jc;return df(n==null?void 0:n.roundingMethod)(r)}function nk(e){const t=re(e);return t.setHours(23,59,59,999),t}function sk(e){const t=re(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function rk(e){const t=re(e);return+nk(t)==+sk(t)}function ak(e,t){const n=re(e),r=re(t),a=ir(n,r),i=Math.abs(ek(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=ir(n,r)===-a;rk(re(e))&&i===1&&ir(e,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function ik(e,t,n){const r=bv(e,t)/1e3;return df(n==null?void 0:n.roundingMethod)(r)}function jv(e,t){const n=re(e),r=re(t),a=ir(n,r),i=Math.abs(tk(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=ir(n,r)===-a,l=a*(i-+o);return l===0?0:l}function ok(e){const t=re(e),n=Yt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const lk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ck=(e,t,n)=>{let r;const a=lk[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const dk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fk={date:xd({formats:dk,defaultWidth:"full"}),time:xd({formats:uk,defaultWidth:"full"}),dateTime:xd({formats:mk,defaultWidth:"full"})},pk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hk=(e,t,n,r)=>pk[e];function Ba(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const xk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wk=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Nk={ordinalNumber:wk,era:Ba({values:xk,defaultWidth:"wide"}),quarter:Ba({values:gk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ba({values:yk,defaultWidth:"wide"}),day:Ba({values:vk,defaultWidth:"wide"}),dayPeriod:Ba({values:bk,defaultWidth:"wide",formattingValues:jk,defaultFormattingWidth:"wide"})};function Va(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Sk(l,m=>m.test(o)):kk(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function kk(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Sk(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function _k(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Ck=/^(\d+)(th|st|nd|rd)?/i,Mk=/\d+/i,Tk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pk={any:[/^b/i,/^(a|c)/i]},Dk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lk={any:[/1/i,/2/i,/3/i,/4/i]},Ak={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ek={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ik={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ok={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fk={ordinalNumber:_k({matchPattern:Ck,parsePattern:Mk,valueCallback:e=>parseInt(e,10)}),era:Va({matchPatterns:Tk,defaultMatchWidth:"wide",parsePatterns:Pk,defaultParseWidth:"any"}),quarter:Va({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Lk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Va({matchPatterns:Ak,defaultMatchWidth:"wide",parsePatterns:Ek,defaultParseWidth:"any"}),day:Va({matchPatterns:Ik,defaultMatchWidth:"wide",parsePatterns:Rk,defaultParseWidth:"any"}),dayPeriod:Va({matchPatterns:Ok,defaultMatchWidth:"any",parsePatterns:zk,defaultParseWidth:"any"})},uf={code:"en-US",formatDistance:ck,formatLong:fk,formatRelative:hk,localize:Nk,match:Fk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bk(e){const t=re(e);return KN(t,ok(t))+1}function Vk(e){const t=re(e),n=+Bl(t)-+XN(t);return Math.round(n/yv)+1}function wv(e,t){var u,m,f,p;const n=re(e),r=n.getFullYear(),a=va(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(f=a.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=Yt(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Ri(o,t),c=Yt(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=Ri(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function $k(e,t){var l,c,d,u;const n=va(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=wv(e,t),i=Yt(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Ri(i,t)}function Uk(e,t){const n=re(e),r=+Ri(n,t)-+$k(n,t);return Math.round(r/yv)+1}function ve(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ps={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ve(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ve(n+1,2)},d(e,t){return ve(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ve(e.getHours()%12||12,t.length)},H(e,t){return ve(e.getHours(),t.length)},m(e,t){return ve(e.getMinutes(),t.length)},s(e,t){return ve(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return ve(a,t.length)}},_r={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Oh={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return ps.y(e,t)},Y:function(e,t,n,r){const a=wv(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ve(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):ve(i,t.length)},R:function(e,t){const n=vv(e);return ve(n,t.length)},u:function(e,t){const n=e.getFullYear();return ve(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ps.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Uk(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):ve(a,t.length)},I:function(e,t,n){const r=Vk(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ve(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ps.d(e,t)},D:function(e,t,n){const r=Bk(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ve(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ve(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ve(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return ve(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=_r.noon:r===0?a=_r.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=_r.evening:r>=12?a=_r.afternoon:r>=4?a=_r.morning:a=_r.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ps.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ps.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ps.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ps.s(e,t)},S:function(e,t){return ps.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Fh(r);case"XXXX":case"XX":return Ks(r);case"XXXXX":case"XXX":default:return Ks(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Fh(r);case"xxxx":case"xx":return Ks(r);case"xxxxx":case"xxx":default:return Ks(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zh(r,":");case"OOOO":default:return"GMT"+Ks(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zh(r,":");case"zzzz":default:return"GMT"+Ks(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ve(r,t.length)},T:function(e,t,n){const r=e.getTime();return ve(r,t.length)}};function zh(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+ve(i,2)}function Fh(e,t){return e%60===0?(e>0?"-":"+")+ve(Math.abs(e)/60,2):Ks(e,t)}function Ks(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=ve(Math.trunc(r/60),2),i=ve(r%60,2);return n+a+t+i}const Bh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Nv=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Gk=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Bh(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Bh(r,t)).replace("{{time}}",Nv(a,t))},Wk={p:Nv,P:Gk},Yk=/^D+$/,Hk=/^Y+$/,qk=["D","DD","YY","YYYY"];function Kk(e){return Yk.test(e)}function Xk(e){return Hk.test(e)}function Qk(e,t,n){const r=Jk(e,t,n);if(console.warn(r),qk.includes(e))throw new RangeError(r)}function Jk(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tS=/^'([^]*?)'?$/,nS=/''/g,sS=/[a-zA-Z]/;function De(e,t,n){var u,m,f,p;const r=va(),a=r.locale??uf,i=r.firstWeekContainsDate??((m=(u=r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=re(e);if(!ZN(l))throw new RangeError("Invalid time value");let c=t.match(eS).map(y=>{const v=y[0];if(v==="p"||v==="P"){const j=Wk[v];return j(y,a.formatLong)}return y}).join("").match(Zk).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:rS(y)};if(Oh[v])return{isToken:!0,value:y};if(v.match(sS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const v=y.value;(Xk(v)||Kk(v))&&Qk(v,t,String(e));const j=Oh[v[0]];return j(l,v,a.localize,d)}).join("")}function rS(e){const t=e.match(tS);return t?t[1].replace(nS,"'"):e}function aS(e,t,n){const r=va(),a=(n==null?void 0:n.locale)??r.locale??uf,i=2520,o=ir(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=re(t),d=re(e)):(c=re(e),d=re(t));const u=ik(d,c),m=(ca(d)-ca(c))/1e3,f=Math.round((u-m)/60);let p;if(f<2)return n!=null&&n.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<Fl){const y=Math.round(f/60);return a.formatDistance("aboutXHours",y,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<Br){const y=Math.round(f/Fl);return a.formatDistance("xDays",y,l)}else if(f<Br*2)return p=Math.round(f/Br),a.formatDistance("aboutXMonths",p,l)}if(p=ak(d,c),p<12){const y=Math.round(f/Br);return a.formatDistance("xMonths",y,l)}else{const y=p%12,v=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",v,l):y<9?a.formatDistance("overXYears",v,l):a.formatDistance("almostXYears",v+1,l)}}function iS(e,t,n){const r=va(),a=(n==null?void 0:n.locale)??r.locale??uf,i=ir(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let l,c;i>0?(l=re(t),c=re(e)):(l=re(e),c=re(t));const d=df((n==null?void 0:n.roundingMethod)??"round"),u=c.getTime()-l.getTime(),m=u/Ii,f=ca(c)-ca(l),p=(u-f)/Ii,y=n==null?void 0:n.unit;let v;if(y?v=y:m<1?v="second":m<60?v="minute":m<Fl?v="hour":p<Br?v="day":p<Ih?v="month":v="year",v==="second"){const j=d(u/1e3);return a.formatDistance("xSeconds",j,o)}else if(v==="minute"){const j=d(m);return a.formatDistance("xMinutes",j,o)}else if(v==="hour"){const j=d(m/60);return a.formatDistance("xHours",j,o)}else if(v==="day"){const j=d(p/Fl);return a.formatDistance("xDays",j,o)}else if(v==="month"){const j=d(p/Br);return j===12&&y!=="month"?a.formatDistance("xYears",1,o):a.formatDistance("xMonths",j,o)}else{const j=d(p/Ih);return a.formatDistance("xYears",j,o)}}function mf(e,t){return aS(e,cf(e),t)}function kv(e,t){return iS(e,cf(e),t)}function oS(e,t){const n=re(e),r=re(t);return n.getTime()>r.getTime()}function kn(e,t){const n=re(e),r=re(t);return+n<+r}function lS(e){return QN(e,cf(e))}function no(e,t){const n=+re(e),[r,a]=[+re(t.start),+re(t.end)].sort((i,o)=>i-o);return n>=r&&n<=a}function pe(e,t){return xt(e,-t)}function se(e,t){const r=mS(e);let a;if(r.date){const c=fS(r.date,2);a=pS(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(r.time&&(o=hS(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=xS(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const Oo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cS=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dS=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,uS=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mS(e){const t={},n=e.split(Oo.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Oo.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Oo.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Oo.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function fS(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function pS(e,t){if(t===null)return new Date(NaN);const n=e.match(cS);if(!n)return new Date(NaN);const r=!!n[4],a=$a(n[1]),i=$a(n[2])-1,o=$a(n[3]),l=$a(n[4]),c=$a(n[5])-1;if(r)return jS(t,l,c)?gS(t,l,c):new Date(NaN);{const d=new Date(0);return!vS(t,i,o)||!bS(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,o)),d)}}function $a(e){return e?parseInt(e):1}function hS(e){const t=e.match(dS);if(!t)return NaN;const n=gd(t[1]),r=gd(t[2]),a=gd(t[3]);return wS(n,r,a)?n*jc+r*Ii+a*1e3:NaN}function gd(e){return e&&parseFloat(e.replace(",","."))||0}function xS(e){if(e==="Z")return 0;const t=e.match(uS);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return NS(r,a)?n*(r*jc+a*Ii):NaN}function gS(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const yS=[31,null,31,30,31,30,31,31,30,31,30,31];function Sv(e){return e%400===0||e%4===0&&e%100!==0}function vS(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(yS[t]||(Sv(e)?29:28))}function bS(e,t){return t>=1&&t<=(Sv(e)?366:365)}function jS(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function wS(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function NS(e,t){return t>=0&&t<=59}function zo(e,t){return HN(e,-t)}const Dt=new Date,ci=[{id:"p4",name:"Alisson",photo:"https://media.api-sports.io/football/players/304.png",position:"Goalkeeper",status:"Key",fatigue:100,teamName:"Liverpool",teamLogo:"https://media.api-sports.io/football/teams/40.png",birthdate:"1992-10-02",pgs:7,liveStatus:"playing",livePoints:8.5},{id:"p12",name:"M. ter Stegen",photo:"https://media.api-sports.io/football/players/1101.png",position:"Goalkeeper",status:"Key",fatigue:98,teamName:"Barcelona",teamLogo:"https://media.api-sports.io/football/teams/529.png",birthdate:"1992-04-30",pgs:6.9,liveStatus:"not_yet_played"},{id:"p3",name:"V. van Dijk",photo:"https://media.api-sports.io/football/players/306.png",position:"Defender",status:"Key",fatigue:92,teamName:"Liverpool",teamLogo:"https://media.api-sports.io/football/teams/40.png",birthdate:"1991-07-08",pgs:7.2,liveStatus:"playing",livePoints:12.1},{id:"p7",name:"A. Davies",photo:"https://media.api-sports.io/football/players/1102.png",position:"Defender",status:"Key",fatigue:98,teamName:"Bayern Munich",teamLogo:"https://media.api-sports.io/football/teams/157.png",birthdate:"2000-11-02",pgs:7.1,liveStatus:"dnp"},{id:"p9",name:"J. Koundé",photo:"https://media.api-sports.io/football/players/163.png",position:"Defender",status:"Key",fatigue:94,teamName:"Barcelona",teamLogo:"https://media.api-sports.io/football/teams/529.png",birthdate:"1998-11-12",pgs:6.9,liveStatus:"not_yet_played"},{id:"p13",name:"R. James",photo:"https://media.api-sports.io/football/players/18888.png",position:"Defender",status:"Wild",fatigue:100,teamName:"Chelsea",teamLogo:"https://media.api-sports.io/football/teams/49.png",birthdate:"1999-12-08",pgs:5.9,liveStatus:"not_yet_played"},{id:"p2",name:"K. De Bruyne",photo:"https://media.api-sports.io/football/players/62.png",position:"Midfielder",status:"Star",fatigue:88,teamName:"Man City",teamLogo:"https://media.api-sports.io/football/teams/50.png",birthdate:"1991-06-28",pgs:7.8,liveStatus:"playing",livePoints:15.2},{id:"p5",name:"J. Bellingham",photo:"https://media.api-sports.io/football/players/874.png",position:"Midfielder",status:"Star",fatigue:85,teamName:"Real Madrid",teamLogo:"https://media.api-sports.io/football/teams/541.png",birthdate:"2003-06-29",pgs:7.9,liveStatus:"playing",livePoints:9.8},{id:"p8",name:"Pedri",photo:"https://media.api-sports.io/football/players/1456.png",position:"Midfielder",status:"Key",fatigue:80,teamName:"Barcelona",teamLogo:"https://media.api-sports.io/football/teams/529.png",birthdate:"2002-11-25",pgs:6.8,liveStatus:"not_yet_played"},{id:"p10",name:"F. Wirtz",photo:"https://media.api-sports.io/football/players/2289.png",position:"Midfielder",status:"Wild",fatigue:100,teamName:"Leverkusen",teamLogo:"https://media.api-sports.io/football/teams/168.png",birthdate:"2003-05-03",pgs:5.8,liveStatus:"not_yet_played"},{id:"p1",name:"L. Messi",photo:"https://media.api-sports.io/football/players/154.png",position:"Attacker",status:"Star",fatigue:95,teamName:"Inter Miami",teamLogo:"https://media.api-sports.io/football/teams/10101.png",birthdate:"1987-06-24",pgs:8.1,liveStatus:"not_yet_played"},{id:"p6",name:"E. Haaland",photo:"https://media.api-sports.io/football/players/969.png",position:"Attacker",status:"Star",fatigue:90,teamName:"Man City",teamLogo:"https://media.api-sports.io/football/teams/50.png",birthdate:"2000-07-21",pgs:8.3,liveStatus:"playing",livePoints:22},{id:"p11",name:"Rafael Leão",photo:"https://media.api-sports.io/football/players/241.png",position:"Attacker",status:"Key",fatigue:85,teamName:"AC Milan",teamLogo:"https://media.api-sports.io/football/teams/489.png",birthdate:"1999-06-10",pgs:7.3,liveStatus:"playing",livePoints:7}],hs={id:"fantasy-1",name:"Sportime Fantasy",status:"Ongoing",startDate:pe(Dt,60).toISOString(),endDate:xt(Dt,2).toISOString(),entryCost:1500,totalPlayers:25e3,gameWeeks:[{id:"gw-past-4",name:"MatchDay 1",startDate:pe(Dt,35).toISOString(),endDate:pe(Dt,33).toISOString(),leagues:["LaLiga"],status:"finished"},{id:"gw-past-3",name:"MatchDay 2",startDate:pe(Dt,28).toISOString(),endDate:pe(Dt,26).toISOString(),leagues:["Premier League"],status:"finished"},{id:"gw-past-2",name:"MatchDay 3",startDate:pe(Dt,21).toISOString(),endDate:pe(Dt,19).toISOString(),leagues:["Bundesliga"],status:"finished"},{id:"gw-past-1",name:"MatchDay 4",startDate:pe(Dt,14).toISOString(),endDate:pe(Dt,12).toISOString(),leagues:["Serie A"],status:"finished"},{id:"gw0",name:"MatchDay 5",startDate:pe(Dt,7).toISOString(),endDate:pe(Dt,5).toISOString(),leagues:["LaLiga"],status:"finished"},{id:"gw1",name:"MatchDay 6",startDate:pe(Dt,2).toISOString(),endDate:xt(Dt,2).toISOString(),leagues:["LaLiga","Premier League"],status:"live",conditions:[{key:"max_club_players",text:"Max. 2 players from same club",value:2},{key:"max_star_players",text:"Max. 2 Star players",value:2},{key:"min_nationality",text:"Min. 1 player from Brazil",value:"Brazil"}]}]},kS={userId:"user-1",gameId:"fantasy-1",gameWeekId:"gw0",starters:["p12","p3","p7","p9","p8","p10","p11"],substitutes:["p4","p13"],captain_id:"p3",booster_used:2,fatigue_state:{p12:1,p3:.8,p7:.9,p9:1,p8:1,p10:1,p11:.9,p4:1,p13:1}},SS={userId:"user-1",gameId:"fantasy-1",gameWeekId:"gw1",starters:["p4","p3","p7","p9","p2","p5","p6"],substitutes:["p11","p8"],captain_id:"p6",booster_used:1,fatigue_state:{p4:1,p3:.6,p7:.8,p9:.9,p2:1,p5:1,p6:1,p11:1,p8:1}},_S=[kS,SS],yd=[{id:1,name:"Double Impact",description:"Multiplies your captain's score by 2.2.",icon:s.jsx(Gn,{size:20,className:"text-red-500"}),used:!1},{id:2,name:"Golden Game",description:"Get +20% on your entire team's total score.",icon:s.jsx(Rs,{size:20,className:"text-yellow-500"}),used:!0},{id:3,name:"Recovery Boost",description:"Restore one player to 100% fatigue.",icon:s.jsx(of,{size:20,className:"text-green-500"}),used:!1}],CS={},Vh=e=>{let t;const n=new Set,r=(u,m)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const p=t;t=m??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(y=>y(t,p))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>d,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(CS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,a,c);return c},MS=e=>e?Vh(e):Vh;var _v={exports:{}},Cv={},Mv={exports:{}},Tv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=h;function TS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PS=typeof Object.is=="function"?Object.is:TS,DS=da.useState,LS=da.useEffect,AS=da.useLayoutEffect,ES=da.useDebugValue;function IS(e,t){var n=t(),r=DS({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return AS(function(){a.value=n,a.getSnapshot=t,vd(a)&&i({inst:a})},[e,n,t]),LS(function(){return vd(a)&&i({inst:a}),e(function(){vd(a)&&i({inst:a})})},[e]),ES(n),n}function vd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!PS(e,n)}catch{return!0}}function RS(e,t){return t()}var OS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?RS:IS;Tv.useSyncExternalStore=da.useSyncExternalStore!==void 0?da.useSyncExternalStore:OS;Mv.exports=Tv;var zS=Mv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=h,FS=zS;function BS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VS=typeof Object.is=="function"?Object.is:BS,$S=FS.useSyncExternalStore,US=wc.useRef,GS=wc.useEffect,WS=wc.useMemo,YS=wc.useDebugValue;Cv.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=US(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=WS(function(){function c(p){if(!d){if(d=!0,u=p,p=r(p),a!==void 0&&o.hasValue){var y=o.value;if(a(y,p))return m=y}return m=p}if(y=m,VS(u,p))return y;var v=r(p);return a!==void 0&&a(y,v)?(u=p,y):(u=p,m=v)}var d=!1,u,m,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,a]);var l=$S(e,i[0],i[1]);return GS(function(){o.hasValue=!0,o.value=l},[l]),YS(l),l};_v.exports=Cv;var HS=_v.exports;const qS=Fg(HS),Pv={},{useDebugValue:KS}=Qe,{useSyncExternalStoreWithSelector:XS}=qS;let $h=!1;const QS=e=>e;function JS(e,t=QS,n){(Pv?"production":void 0)!=="production"&&n&&!$h&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),$h=!0);const r=XS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return KS(r),r}const Uh=e=>{(Pv?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?MS(e):e,n=(r,a)=>JS(t,r,a);return Object.assign(n,t),n},Dv=e=>e?Uh(e):Uh,Nt={fatigue:{star:.2,key:.1,rest:.1},bonuses:{no_star:1.25,crazy:1.4,vintage:1.2},boosters:{double_impact:2,golden_game:1.2},captain_passive:1.1},Fo={minutes_played:{Goalkeeper:1,Defender:1,Midfielder:1,Attacker:1},clean_sheet:{Goalkeeper:5,Defender:4,Midfielder:2,Attacker:0},goals:{Goalkeeper:8,Defender:6,Midfielder:5,Attacker:4},assists:{Goalkeeper:4,Defender:4,Midfielder:3,Attacker:2},shots_on_target:{Goalkeeper:.5,Defender:.5,Midfielder:.5,Attacker:.5},saves:{Goalkeeper:1/3,Defender:0,Midfielder:0,Attacker:0},penalties_saved:{Goalkeeper:5,Defender:0,Midfielder:0,Attacker:0},penalties_scored:{Goalkeeper:3,Defender:3,Midfielder:3,Attacker:3},penalties_missed:{Goalkeeper:-2,Defender:-2,Midfielder:-2,Attacker:-2},yellow_cards:{Goalkeeper:-1,Defender:-1,Midfielder:-1,Attacker:-1},red_cards:{Goalkeeper:-3,Defender:-3,Midfielder:-3,Attacker:-3},goals_conceded:{Goalkeeper:-1,Defender:-.5,Midfielder:0,Attacker:0},interceptions:{Goalkeeper:.3,Defender:.5,Midfielder:.2,Attacker:0},tackles:{Goalkeeper:.3,Defender:.5,Midfielder:.2,Attacker:0},duels_won:{Goalkeeper:.2,Defender:.3,Midfielder:.3,Attacker:.2},duels_lost:{Goalkeeper:-.1,Defender:-.1,Midfielder:-.1,Attacker:-.1},dribbles_succeeded:{Goalkeeper:0,Defender:.2,Midfielder:.3,Attacker:.3},fouls_committed:{Goalkeeper:-.3,Defender:-.3,Midfielder:-.3,Attacker:-.3},fouls_suffered:{Goalkeeper:.2,Defender:.2,Midfielder:.2,Attacker:.2},rating:{Goalkeeper:1.5,Defender:1.3,Midfielder:1.2,Attacker:1.1}};function Gh(e,t,n){if(!n)return Math.min(1,e+Nt.fatigue.rest);let r=0;return t==="Star"?r=Nt.fatigue.star:t==="Key"&&(r=Nt.fatigue.key),e-r}function ZS(e,t,n,r,a){let i=0;const o={};if(e.minutes_played>60){const m=Fo.minutes_played[t];i+=m,o["Minutes > 60"]=m}if(e.clean_sheet&&e.minutes_played>60){const m=Fo.clean_sheet[t];i+=m,m&&(o["Clean Sheet"]=m)}Object.keys(e).forEach(m=>{if(m==="minutes_played"||m==="clean_sheet"||m==="rating")return;const f=e[m];if(typeof f=="number"&&f!==0){const p=Fo[m][t];if(p){const y=p*f;i+=y;const v=m.replace(/_/g," ").replace(/\b\w/g,j=>j.toUpperCase());o[v]=y}}});const l=Fo.rating[t],c=i*(l-1);c!==0&&(i+=c,o["Rating Bonus"]=c);let d=i;const u=d*(n-1);if(u!==0&&(d+=u,o["Fatigue Effect"]=u),r){const m=d*(Nt.captain_passive-1);if(d+=m,m!==0&&(o["Captain Bonus"]=m),a){const f=Nt.boosters.double_impact,p=d*(f-1);d+=p,p!==0&&(o["Double Impact"]=p)}}return{totalPoints:d,breakdown:o,basePoints:i}}function e_(e,t,n){let r=Object.values(t).reduce((u,m)=>u+m,0),a=null,i=1,o="";if(e.every(u=>u.status!=="Star")&&(i=Math.max(i,Nt.bonuses.no_star),o=`No Star Bonus (+${(Nt.bonuses.no_star-1)*100}%)`),e.every(u=>u.status==="Wild")&&Nt.bonuses.crazy>i&&(i=Nt.bonuses.crazy,o=`Crazy Boost (+${(Nt.bonuses.crazy-1)*100}%)`),e.reduce((u,m)=>u+jv(new Date,se(m.birthdate)),0)/e.length>=30&&Nt.bonuses.vintage>i&&(i=Nt.bonuses.vintage,o=`Vintage Boost (+${(Nt.bonuses.vintage-1)*100}%)`),i>1&&(a=o),r*=i,n){r*=Nt.boosters.golden_game;const u=`Golden Game (+${(Nt.boosters.golden_game-1)*100}%)`;a=a?`${a} & ${u}`:u}return{finalScore:r,bonusApplied:a}}function Lv(e,t,n){const r={},a={};let i,o=!1,l=JSON.parse(JSON.stringify(e)),c={...l.fatigue_state};if(l.booster_used===3){const y=l.booster_target_id;if(y){const v=t.find(x=>x.id===y),j=n[y];v&&v.position!=="Goalkeeper"?j&&j.minutes_played>0?(c[y]=1,i=`Recovery Boost applied to ${v.name}.`):(i=`Recovery Boost refunded: ${v.name} did not play.`,l.booster_used=null,l.booster_target_id=null,o=!0):i="Recovery Boost ignored: Target is a Goalkeeper or invalid."}else i="Recovery Boost ignored: No target player selected."}l.starters.forEach(y=>{const v=t.find(_=>_.id===y),j=n[y];if(!v||!j)return;const x=c[y]||1,g=v.id===l.captain_id,b=l.booster_used===1,{totalPoints:w,breakdown:N,basePoints:S}=ZS(j,v.position,x,g,b);a[y]=w;const k=Gh(x,v.status,j.minutes_played>0);c[y]=k,r[y]={points:w,basePoints:S,breakdown:N,initialFatigue:x,finalFatigue:k}}),l.substitutes.forEach(y=>{const v=t.find(g=>g.id===y);if(!v)return;const j=c[y]||1,x=Gh(j,v.status,!1);c[y]=x,r[y]={points:0,basePoints:0,breakdown:{},initialFatigue:j,finalFatigue:x}});const d=l.starters.map(y=>t.find(v=>v.id===y)).filter(Boolean),u=l.booster_used===2,{finalScore:m,bonusApplied:f}=e_(d,a,u),p={...l,fatigue_state:c};return{simulationResult:{playerResults:r,teamResult:{totalPoints:m,bonusApplied:f,boosterStatus:i,boosterRefunded:o}},updatedTeam:p}}const bd=e=>{const t=[{name:"Spain",emoji:"🇪🇸"},{name:"Germany",emoji:"🇩🇪"},{name:"Italy",emoji:"🇮🇹"},{name:"Portugal",emoji:"🇵🇹"},{name:"Belgium",emoji:"🇧🇪"},{name:"Croatia",emoji:"🇭🇷"},{name:"England",emoji:"🏴󠁧󠁢󠁥󠁮󠁧󠁿"},{name:"Brazil",emoji:"🇧🇷"},{name:"Argentina",emoji:"🇦🇷"},{name:"Uruguay",emoji:"🇺🇾"}],n=[];for(let r=0;r<e;r++){const a=Math.floor(Math.random()*t.length);let i=Math.floor(Math.random()*t.length);for(;a===i;)i=Math.floor(Math.random()*t.length);n.push({id:`sm-${te()}`,teamA:t[a],teamB:t[i],kickoffTime:`${14+r}:00`,odds:{teamA:+(1.5+Math.random()*2).toFixed(2),draw:+(3+Math.random()).toFixed(2),teamB:+(1.8+Math.random()*2.5).toFixed(2)}})}return n},t_=[{id:"swipe-testable",gameType:"prediction",name:"Today's Swipe Challenge",status:"Upcoming",matches:bd(3),entryCost:150,startDate:"2025-07-24",endDate:"2025-07-24",totalPlayers:4500,is_linkable:!0,challengeId:"pred-challenge-1"},{id:"swipe-1",gameType:"prediction",name:"Match Day 1",status:"Upcoming",matches:bd(5),entryCost:250,startDate:"2025-08-01",endDate:"2025-08-01",totalPlayers:8192,is_linkable:!0,challengeId:"pred-challenge-1"},{id:"swipe-2",gameType:"prediction",name:"Match Day 2",status:"Finished",matches:bd(5).map(e=>({...e,result:["teamA","draw","teamB"][Math.floor(Math.random()*3)]})),entryCost:100,startDate:"2025-07-20",endDate:"2025-07-20",totalPlayers:11432,challengeId:"pred-challenge-1"}],me=(e,t,n)=>({id:te(),type:e,tier:t,value:n}),Rn={rookie:{matchday:[{id:te(),positionType:"rank",start:1,rewards:[me("ticket","pro"),me("xp",void 0,200)]},{id:te(),positionType:"rank",start:2,rewards:[me("spin","rookie"),me("xp",void 0,100)]},{id:te(),positionType:"rank",start:3,rewards:[me("xp",void 0,50)]}],"mini-series":[{id:te(),positionType:"rank",start:1,rewards:[me("masterpass","rookie"),me("ticket","pro")]},{id:te(),positionType:"percent",start:10,rewards:[me("spin","rookie")]}],season:[{id:te(),positionType:"rank",start:1,rewards:[me("giftcard",void 0,10),me("masterpass","pro")]},{id:te(),positionType:"percent",start:10,rewards:[me("ticket","pro")]}]},pro:{matchday:[{id:te(),positionType:"rank",start:1,rewards:[me("ticket","elite"),me("xp",void 0,1e3)]},{id:te(),positionType:"rank",start:2,rewards:[me("spin","pro"),me("xp",void 0,500)]},{id:te(),positionType:"rank",start:3,rewards:[me("xp",void 0,250)]}],"mini-series":[{id:te(),positionType:"rank",start:1,rewards:[me("masterpass","pro"),me("ticket","elite")]},{id:te(),positionType:"percent",start:10,rewards:[me("spin","pro")]}],season:[{id:te(),positionType:"rank",start:1,rewards:[me("giftcard",void 0,25),me("masterpass","elite")]},{id:te(),positionType:"percent",start:10,rewards:[me("ticket","elite")]}]},elite:{matchday:[{id:te(),positionType:"rank",start:1,rewards:[me("premium_7d"),me("xp",void 0,2500)]},{id:te(),positionType:"rank",start:2,rewards:[me("spin","elite"),me("xp",void 0,1200)]},{id:te(),positionType:"rank",start:3,rewards:[me("xp",void 0,600)]}],"mini-series":[{id:te(),positionType:"rank",start:1,rewards:[me("masterpass","elite"),me("giftcard",void 0,15)]},{id:te(),positionType:"percent",start:10,rewards:[me("spin","elite")]}],season:[{id:te(),positionType:"rank",start:1,rewards:[me("giftcard",void 0,50),me("custom",void 0,{name:"Official Team Jersey"})]},{id:te(),positionType:"percent",start:10,rewards:[me("premium_3d")]}]}},n_=[{id:"challenge-new",name:"Summer Showdown",game_type:"betting",tier:"rookie",duration_type:"mini-series",start_date:"2025-07-25",end_date:"2025-07-26",entry_cost:sn.rookie.base*sn.rookie.multipliers["mini-series"],challengeBalance:1e3,status:"Upcoming",totalPlayers:5821,is_linkable:!0,minimum_players:10,maximum_players:100,requires_subscription:!1,required_badges:[],minimum_level:"Amateur",participants:[],rewards:Rn.rookie["mini-series"]},{id:"challenge-1",name:"Pro Weekend League",game_type:"betting",tier:"pro",duration_type:"daily",start_date:"2025-07-18",end_date:"2025-07-20",entry_cost:sn.pro.base*sn.pro.multipliers.matchday,challengeBalance:1e3,status:"Upcoming",totalPlayers:13476,is_linkable:!0,minimum_players:50,maximum_players:0,requires_subscription:!0,required_badges:[],minimum_level:"Pro",participants:[],rewards:Rn.pro.matchday},{id:"challenge-2",name:"Elite Champions Knockouts",game_type:"betting",tier:"elite",duration_type:"daily",start_date:"2025-07-15",end_date:"2025-07-17",entry_cost:sn.elite.base*sn.elite.multipliers.matchday,challengeBalance:1e3,status:"Ongoing",totalPlayers:8254,is_linkable:!0,minimum_players:100,maximum_players:500,requires_subscription:!0,required_badges:["badge-4"],minimum_level:"Expert",participants:[],rewards:Rn.elite.matchday},{id:"challenge-3",name:"International Friendlies",game_type:"betting",tier:"rookie",duration_type:"daily",start_date:"2025-07-01",end_date:"2025-07-03",entry_cost:sn.rookie.base*sn.rookie.multipliers.matchday,challengeBalance:1e3,status:"Finished",totalPlayers:5123,minimum_players:0,maximum_players:0,requires_subscription:!1,required_badges:[],minimum_level:"Amateur",participants:[],rewards:[]},...t_.map(e=>({id:e.id,name:e.name,game_type:"prediction",matches:e.matches,status:e.status,start_date:e.startDate,end_date:e.endDate,entry_cost:e.entryCost,totalPlayers:e.totalPlayers,challengeId:e.challengeId,description:`Predict the outcomes for ${e.name}.`,tier:"rookie",is_linkable:!0,requires_subscription:!1,minimum_level:"Amateur",required_badges:[],minimum_players:0,maximum_players:0,participants:[],rewards:Rn.rookie.matchday})),{id:hs.id,name:hs.name,game_type:"fantasy",status:hs.status,start_date:hs.startDate,end_date:hs.endDate,entry_cost:hs.entryCost,totalPlayers:hs.totalPlayers,gameWeeks:hs.gameWeeks,description:"The official season-long fantasy game.",tier:"pro",duration_type:"seasonal",is_linkable:!0,requires_subscription:!1,minimum_level:"Pro",required_badges:[],minimum_players:100,maximum_players:0,participants:[],rewards:Rn.pro.season}],s_=[{id:"l_001",name:"The Winners Circle",description:"A league for elite predictors who never miss.",image_url:"https://i.imgur.com/8c3S3T7.png",invite_code:"WINNERS",created_by:"user-1",created_at:new Date().toISOString(),season_start_date:"2025-08-01T00:00:00.000Z",season_end_date:"2026-05-30T00:00:00.000Z"},{id:"l_002",name:"Casa Fans",description:"For the real ones.",image_url:"https://i.imgur.com/plJWpL3.png",invite_code:"CASAFANS",created_by:"user-2",created_at:new Date().toISOString(),season_start_date:"2025-08-01T00:00:00.000Z",season_end_date:"2026-05-30T00:00:00.000Z"}],Ua=new Date,r_=[{id:"lm_001",league_id:"l_001",user_id:"user-1",role:"admin",joined_at:pe(Ua,30).toISOString()},{id:"lm_002",league_id:"l_001",user_id:"user-2",role:"member",joined_at:pe(Ua,25).toISOString()},{id:"lm_003",league_id:"l_001",user_id:"user-3",role:"member",joined_at:pe(Ua,15).toISOString()},{id:"lm_004",league_id:"l_002",user_id:"user-2",role:"admin",joined_at:pe(Ua,10).toISOString()},{id:"lm_005",league_id:"l_002",user_id:"user-1",role:"member",joined_at:pe(Ua,8).toISOString()}],jd=new Date,a_=[{id:"lg_01",league_id:"l_001",game_id:"fantasy-1",game_name:"Sportime Fantasy",type:"Fantasy",members_joined:2,members_total:3,user_rank_in_league:1,user_rank_global:358,total_players_global:25e3,linked_at:pe(jd,20).toISOString(),leaderboard_period:null},{id:"lg_02",league_id:"l_001",game_id:"swipe-1",game_name:"Match Day 1",type:"Prediction",members_joined:3,members_total:3,user_rank_in_league:2,user_rank_global:421,total_players_global:8192,linked_at:pe(jd,10).toISOString(),leaderboard_period:null},{id:"lg_03",league_id:"l_002",game_id:"fantasy-1",game_name:"Sportime Fantasy",type:"Fantasy",members_joined:1,members_total:2,user_rank_in_league:2,user_rank_global:358,total_players_global:25e3,linked_at:pe(jd,5).toISOString(),leaderboard_period:null}],i_={"fantasy-1":{"user-1":{"gw-past-4":110,"gw-past-3":95,"gw-past-2":130,"gw-past-1":105,gw0:125,gw1:140},"user-2":{"gw-past-4":90,"gw-past-3":115,"gw-past-2":100,"gw-past-1":120,gw0:110,gw1:130},"user-3":{"gw-past-4":100,"gw-past-3":105,"gw-past-2":110,"gw-past-1":115,gw0:135,gw1:120}}},o_=[{id:"live-1",league_id:"l_001",match_id:"1",match_details:lf.find(e=>e.id==="1"),created_by:"user-1",status:"Upcoming",bonus_questions:[],players:[]}],Wh=new Date,l_=[{id:"pre-mkt-1",minute:0,type:"first_goal_scorer",title:"Who will score the first goal?",emotion_factor:1,odds:[{option:"L. Messi",adjusted:4.5},{option:"K. De Bruyne",adjusted:6},{option:"E. Haaland",adjusted:3.5},{option:"Other",adjusted:1.8},{option:"No Goal",adjusted:9}],expires_at:Rh(Wh,-1).toISOString(),status:"open"},{id:"pre-mkt-2",minute:0,type:"first_half_result",title:"Result at Halftime?",emotion_factor:1,odds:[{option:"Team A Wins",adjusted:2.8},{option:"Draw",adjusted:2.2},{option:"Team B Wins",adjusted:3.5}],expires_at:Rh(Wh,-1).toISOString(),status:"open"}],c_={early_goal_window:{title:"Goal before 20'?",options:["Yes","No"],rarity:"common"},mid_half_momentum:{title:"Will either team score before Halftime?",options:["Yes","No"],rarity:"common"},second_half_boost:{title:"Next team to score?",options:["Team A","Team B","None"],rarity:"common"},late_draw_drama:{title:"Match ends in a draw?",options:["Yes","No"],rarity:"rare"},final_push:{title:"Another goal before Full Time?",options:["Yes","No"],rarity:"common"},goal_event:{title:"Will the losing team equalize?",options:["Yes","No"],rarity:"common"},equalizer_event:{title:"Will the match end in a draw?",options:["Yes","No"],rarity:"common"},red_card_event:{title:"Will the red-carded team concede again?",options:["Yes","No"],rarity:"rare"},lead_by_two:{title:"Will the losing team score next?",options:["Yes","No"],rarity:"common"},tension_builds:{title:"Will there be a winner?",options:["Yes","No"],rarity:"common"},last_chance:{title:"Who scores the last goal?",options:["Team A","Team B","None"],rarity:"rare"}},$l=[{id:"user-1",username:"saadjennane",display_name:"Saad ⚡️",coins_balance:50,created_at:new Date().toISOString(),is_guest:!1,verified:!0,email:"saad.jennane@example.com",profile_picture_url:"https://i.pravatar.cc/150?u=a042581f4e29026704f",level:"GOAT",xp:55e3,favorite_club:"team-1",favorite_national_team:"France",is_subscriber:!1,badges:["badge-1","badge-2","badge-5","badge-4"],referralCode:"saad123",referralsSent:5,referralsRewarded:2,daily_games_played:12,last_premium_prompt_at:{},paidTournamentsCreatedThisMonth:1,activePaidTournaments:1,giftCards:[]},{id:"user-2",username:"janedoe",display_name:"JaneDoe",coins_balance:2500,created_at:new Date().toISOString(),is_guest:!1,verified:!0,email:"jane.doe@example.com",profile_picture_url:"https://i.pravatar.cc/150?u=a042581f4e29026704d",level:"Amateur",xp:500,is_subscriber:!1,badges:["badge-1"],giftCards:[]},{id:"user-3",username:"alexray",display_name:"AlexRay",coins_balance:1e4,created_at:new Date().toISOString(),is_guest:!1,verified:!0,email:"alex.ray@example.com",profile_picture_url:"https://i.pravatar.cc/150?u=a042581f4e29026704c",level:"Expert",xp:6e3,is_subscriber:!0,badges:["badge-1","badge-3","badge-4"],giftCards:[]}],d_=[{id:1,name:"Double Impact",type:"individual",duration:15,effect:"x2",icon:s.jsx(Gn,{size:20}),used:!1},{id:2,name:"Recovery Boost",type:"individual",duration:0,effect:"recovery",icon:s.jsx(of,{size:20}),used:!1},{id:3,name:"GOAT Mode",type:"individual",duration:15,effect:"x3",malus:"Score = 0 if carded/concedes",icon:s.jsx(Rs,{size:20}),used:!1},{id:4,name:"Extra Sub",type:"team",duration:0,effect:"+1 sub",icon:s.jsx(rt,{size:20}),used:!1},{id:5,name:"Adrenaline Overdrive",type:"individual",duration:15,effect:"no_fatigue_decay",malus:"Fatigue = 0% after",icon:s.jsx(Rs,{size:20}),used:!1},{id:6,name:"Let's Score",type:"team",duration:15,effect:"goal_x3",malus:"Concede = -5pts team-wide",icon:s.jsx(Ne,{size:20}),used:!1}],vn=new Date,Yh=[{id:"t1",user_id:"user-1",type:"rookie",is_used:!1,created_at:pe(vn,5).toISOString(),expires_at:xt(vn,25).toISOString()},{id:"t2",user_id:"user-1",type:"rookie",is_used:!1,created_at:pe(vn,2).toISOString(),expires_at:xt(vn,28).toISOString()},{id:"t3",user_id:"user-1",type:"pro",is_used:!1,created_at:pe(vn,10).toISOString(),expires_at:xt(vn,35).toISOString()},{id:"t4",user_id:"user-1",type:"rookie",is_used:!0,created_at:pe(vn,15).toISOString(),expires_at:xt(vn,15).toISOString(),used_at:pe(vn,1).toISOString()},{id:"t5",user_id:"user-1",type:"elite",is_used:!1,created_at:pe(vn,65).toISOString(),expires_at:pe(vn,5).toISOString()}],Xs=[{id:"level-1",level_name:"Amateur",min_xp:0,max_xp:999,level_icon_url:"🥉"},{id:"level-2",level_name:"Pro",min_xp:1e3,max_xp:4999,level_icon_url:"🥈"},{id:"level-3",level_name:"Expert",min_xp:5e3,max_xp:9999,level_icon_url:"🥇"},{id:"level-4",level_name:"Master",min_xp:1e4,max_xp:19999,level_icon_url:"🏆"},{id:"level-5",level_name:"Legend",min_xp:2e4,max_xp:49999,level_icon_url:"👑"},{id:"level-6",level_name:"GOAT",min_xp:5e4,max_xp:1/0,level_icon_url:"🐐"}],ff=[{id:"badge-1",name:"First Win",description:"Win your first bet.",icon_url:"🎉",condition_type:"wins",condition_value:{count:1},created_at:new Date().toISOString()},{id:"badge-2",name:"Challenge Veteran",description:"Join 3 challenges.",icon_url:"🎖️",condition_type:"challenges_joined",condition_value:{count:3},created_at:new Date().toISOString()},{id:"badge-3",name:"High Roller",description:"Bet more than 1000 coins on a single match.",icon_url:"💰",condition_type:"single_bet_amount",condition_value:{amount:1e3},created_at:new Date().toISOString()},{id:"badge-4",name:"Perfect Day",description:"Win all your bets in a single challenge day.",icon_url:"🎯",condition_type:"perfect_day",condition_value:{},created_at:new Date().toISOString()},{id:"badge-5",name:"Underdog",description:"Win a bet with odds greater than 3.5.",icon_url:"🚀",condition_type:"odds_win",condition_value:{odds:3.5},created_at:new Date().toISOString()}],u_=[{id:"ub-1",user_id:"guest-id",badge_id:"badge-1",earned_at:new Date().toISOString()},{id:"ub-2",user_id:"guest-id",badge_id:"badge-3",earned_at:new Date().toISOString()}],Hh=[{user_id:"user-1",challengeId:"challenge-1",entryMethod:"coins",dailyEntries:[{day:1,bets:[{challengeMatchId:"cm-1-1",prediction:"teamA",amount:500},{challengeMatchId:"cm-1-2",prediction:"draw",amount:500}],booster:{type:"x2",matchId:"cm-1-1"}},{day:2,bets:[{challengeMatchId:"cm-1-3",prediction:"teamA",amount:1e3}]}]},{user_id:"user-1",challengeId:"challenge-3",entryMethod:"coins",dailyEntries:[{day:1,bets:[{challengeMatchId:"cm-3-1",prediction:"draw",amount:1e3}]},{day:2,bets:[{challengeMatchId:"cm-3-2",prediction:"teamB",amount:1e3}]}]}],qh=[{user_id:"user-1",matchDayId:"swipe-1",predictions:[],submitted_at:null},{user_id:"user-1",matchDayId:"swipe-2",predictions:[{matchId:"sm-uuid-1",prediction:"teamA"},{matchId:"sm-uuid-2",prediction:"draw"},{matchId:"sm-uuid-3",prediction:"teamB"},{matchId:"sm-uuid-4",prediction:"teamA"},{matchId:"sm-uuid-5",prediction:"teamB"}],submitted_at:new Date(Date.now()-3*24*60*60*1e3).toISOString()}],zu={p4:{minutes_played:90,goals:0,assists:0,shots_on_target:0,saves:4,penalties_saved:0,penalties_scored:0,penalties_missed:0,yellow_cards:0,red_cards:0,goals_conceded:0,interceptions:0,tackles:0,duels_won:2,duels_lost:1,dribbles_succeeded:0,fouls_committed:0,fouls_suffered:1,rating:7.8,clean_sheet:!0},p3:{minutes_played:90,goals:1,assists:0,shots_on_target:1,saves:0,penalties_saved:0,penalties_scored:0,penalties_missed:0,yellow_cards:0,red_cards:0,goals_conceded:0,interceptions:3,tackles:2,duels_won:5,duels_lost:2,dribbles_succeeded:0,fouls_committed:1,fouls_suffered:1,rating:8.5,clean_sheet:!0},p7:{minutes_played:80,goals:0,assists:1,shots_on_target:0,saves:0,penalties_saved:0,penalties_scored:0,penalties_missed:0,yellow_cards:0,red_cards:0,goals_conceded:0,interceptions:1,tackles:1,duels_won:3,duels_lost:3,dribbles_succeeded:2,fouls_committed:0,fouls_suffered:2,rating:7.5,clean_sheet:!0},p9:{minutes_played:90,goals:0,assists:0,shots_on_target:0,saves:0,penalties_saved:0,penalties_scored:0,penalties_missed:0,yellow_cards:1,red_cards:0,goals_conceded:0,interceptions:2,tackles:3,duels_won:4,duels_lost:1,dribbles_succeeded:1,fouls_committed:2,fouls_suffered:0,rating:7.2,clean_sheet:!0},p2:{minutes_played:85,goals:1,assists:2,shots_on_target:3,saves:0,penalties_saved:0,penalties_scored:0,penalties_missed:0,yellow_cards:0,red_cards:0,goals_conceded:1,interceptions:1,tackles:0,duels_won:4,duels_lost:2,dribbles_succeeded:3,fouls_committed:1,fouls_suffered:3,rating:9.2,clean_sheet:!1},p5:{minutes_played:90,goals:0,assists:0,shots_on_target:2,saves:0,penalties_saved:0,penalties_scored:0,penalties_missed:0,yellow_cards:0,red_cards:0,goals_conceded:2,interceptions:2,tackles:2,duels_won:6,duels_lost:4,dribbles_succeeded:4,fouls_committed:2,fouls_suffered:4,rating:7.9,clean_sheet:!1},p6:{minutes_played:90,goals:2,assists:0,shots_on_target:4,saves:0,penalties_saved:0,penalties_scored:1,penalties_missed:0,yellow_cards:0,red_cards:0,goals_conceded:1,interceptions:0,tackles:0,duels_won:5,duels_lost:2,dribbles_succeeded:1,fouls_committed:1,fouls_suffered:2,rating:9.5,clean_sheet:!1},p11:{minutes_played:0,goals:0,assists:0,shots_on_target:0,saves:0,penalties_saved:0,penalties_scored:0,penalties_missed:0,yellow_cards:0,red_cards:0,goals_conceded:0,interceptions:0,tackles:0,duels_won:0,duels_lost:0,dribbles_succeeded:0,fouls_committed:0,fouls_suffered:0,rating:0,clean_sheet:!1},p8:{minutes_played:0,goals:0,assists:0,shots_on_target:0,saves:0,penalties_saved:0,penalties_scored:0,penalties_missed:0,yellow_cards:0,red_cards:0,goals_conceded:0,interceptions:0,tackles:0,duels_won:0,duels_lost:0,dribbles_succeeded:0,fouls_committed:0,fouls_suffered:0,rating:0,clean_sheet:!1}},m_=[{id:"n1",type:"gameplay",title:"You won!",message:"✅ Madrid beat Barça. +300 coins added.",timestamp:zo(new Date,2).toISOString(),isRead:!1},{id:"n2",type:"squad",title:"Invite received",message:"🎯 Houda invited you to a Live Game – tap to join!",timestamp:zo(new Date,3).toISOString(),isRead:!1,action:{label:"Join Game"}},{id:"n3",type:"reminder",title:"Daily Streak",message:"🔥 Don’t lose your streak – make your picks before midnight.",timestamp:zo(new Date,4).toISOString(),isRead:!0},{id:"n4",type:"league",title:"New Game Linked",message:"The admin has linked 'Pro Weekend League' to The Winners Circle.",timestamp:zo(new Date,26).toISOString(),isRead:!0}],f_={"user-2":{playerId:"user-2",username:"JaneDoe",interactions:12,lastInteraction:pe(new Date,2).toISOString()},"user-3":{playerId:"user-3",username:"AlexRay",interactions:8,lastInteraction:pe(new Date,3).toISOString()}},wd=[{wins:5,rewards:[{type:"coins",value:100}]},{wins:10,rewards:[{type:"coins",value:150}]},{wins:20,rewards:[{type:"coins",value:200}]},{wins:30,rewards:[{type:"coins",value:300}]},{wins:50,rewards:[{type:"coins",value:500},{type:"spin",value:"rookie"}]},{wins:75,rewards:[{type:"coins",value:700},{type:"spin",value:"pro"}]},{wins:100,rewards:[{type:"coins",value:1e3},{type:"spin",value:"elite"}]},{wins:150,rewards:[{type:"coins",value:1500},{type:"badge",value:"FunZone Master"}]}],Ss=[{label:"+10 coins",type:"coins",value:10,probability:.25},{label:"+20 coins",type:"coins",value:20,probability:.2},{label:"+40 coins",type:"coins",value:40,probability:.1},{label:"+10 XP",type:"xp",value:10,probability:.2},{label:"+20 XP",type:"xp",value:20,probability:.1},{label:"+40 XP",type:"xp",value:40,probability:.05},{label:"No luck today 😅",type:"none",value:0,probability:.1}],cl=[{id:"starter",name:"Starter Pack",priceEUR:1.99,coins:4e3,bonus:0,valuePerCoin:5e-4},{id:"rookie",name:"Rookie Pack",priceEUR:3.99,coins:8500,bonus:6,valuePerCoin:47e-5},{id:"pro",name:"Pro Pack",priceEUR:6.99,coins:15e3,bonus:8,valuePerCoin:46e-5},{id:"elite",name:"Elite Pack",priceEUR:9.99,coins:22e3,bonus:10,valuePerCoin:45e-5,isBestValue:!0},{id:"master",name:"Master Pack",priceEUR:19.99,coins:45e3,bonus:20,valuePerCoin:44e-5,isBestValue:!0}],pf={free:[],rookie:[{id:"ticket_rookie",label:"Rookie Ticket",baseChance:.28,category:"ticket"},{id:"extra_spin",label:"Extra Spin",baseChance:.28,category:"spin"},{id:"masterpass_rookie",label:"Rookie MasterPass",baseChance:.1,category:"masterpass"},{id:"boost_50",label:"XP +50",baseChance:.12,category:"xp"},{id:"boost_100",label:"XP +100",baseChance:.1,category:"xp"},{id:"boost_200",label:"XP +200",baseChance:.09,category:"xp"},{id:"ticket_pro",label:"Pro Ticket",baseChance:.03,category:"ticket"}],pro:[{id:"ticket_pro",label:"Pro Ticket",baseChance:.24,category:"ticket"},{id:"extra_spin",label:"Extra Spin",baseChance:.24,category:"spin"},{id:"boost_200",label:"XP +200",baseChance:.18,category:"xp"},{id:"boost_400",label:"XP +400",baseChance:.16,category:"xp"},{id:"masterpass_pro",label:"Pro MasterPass",baseChance:.08,category:"masterpass"},{id:"ticket_elite",label:"Elite Ticket",baseChance:.06,category:"ticket"},{id:"premium_3d",label:"Premium (3 days)",baseChance:.04,category:"premium"}],elite:[{id:"ticket_elite",label:"Elite Ticket",baseChance:.25,category:"ticket"},{id:"extra_spin",label:"Extra Spin",baseChance:.25,category:"spin"},{id:"masterpass_elite",label:"Elite MasterPass",baseChance:.15,category:"masterpass"},{id:"boost_1200",label:"XP +1200",baseChance:.14,category:"xp"},{id:"boost_800",label:"XP +800",baseChance:.11,category:"xp"},{id:"gift_card",label:"Gift Card $5",baseChance:.06,category:"gift_card"},{id:"premium_7d",label:"Premium (7 days)",baseChance:.04,category:"premium"}],premium:[{id:"masterpass_pro",label:"Pro MasterPass",baseChance:.2,category:"masterpass"},{id:"gift_card_10",label:"Gift Card $10",baseChance:.05,category:"gift_card"},{id:"premium_30d",label:"Premium (30 days)",baseChance:.1,category:"premium"},{id:"boost_2000",label:"XP +2000",baseChance:.25,category:"xp"},{id:"ticket_elite_pack",label:"2x Elite Tickets",baseChance:.15,category:"ticket"},{id:"extra_spin_premium",label:"Extra Premium Spin",baseChance:.25,category:"spin"}]},Av={free:[],rookie:["masterpass","ticket_pro"],pro:["masterpass","ticket_elite","premium"],elite:["masterpass","gift_card","premium"],premium:["gift_card","premium","masterpass_pro"]},p_=10,h_=1.5,Kh={premium:{multiplier:.5,durationDays:7},gift_card:{multiplier:.3,durationDays:7},masterpass:{multiplier:.5,durationDays:30}};function x_(e,t){const n=pf[e],r=new Set(Av[e]),a=t.pityCounter>=p_,i=n.map(m=>{var y;let f=m.baseChance;const p=((y=t.adaptiveMultipliers[m.category])==null?void 0:y.multiplier)||1;return f*=p,a&&r.has(m.category)&&(f*=h_),{...m,adjustedChance:f}}),o=i.reduce((m,f)=>m+f.adjustedChance,0),l=i.map(m=>({...m,normalizedChance:m.adjustedChance/o}));let c=Math.random(),d=null;for(const m of l){if(c<m.normalizedChance){d=m;break}c-=m.normalizedChance}d||(d=l[l.length-1]);const u=l.reduce((m,f)=>({...m,[f.id]:f.normalizedChance}),{});return{reward:d,wasPity:a,finalChances:u}}const Ev=e=>({userId:e,adaptiveMultipliers:{},pityCounter:0,spinHistory:[],availableSpins:{rookie:1,pro:1,elite:1}}),Oi=Dv((e,t)=>({userSpinStates:{},initializeUserSpinState:n=>{e(r=>r.userSpinStates[n]?r:{userSpinStates:{...r.userSpinStates,[n]:Ev(n)}})},performSpin:(n,r)=>{const a=t(),i=a.userSpinStates[n];if(!i||i.availableSpins[r]<=0)return null;const{reward:o,wasPity:l}=x_(r,i);let c=i.pityCounter+1,d={...i.adaptiveMultipliers};if(new Set(Av[r]).has(o.category)&&(c=0),Kh[o.category]){const x=Kh[o.category];d[o.category]={multiplier:x.multiplier,expiresAt:xt(new Date,x.durationDays).toISOString()}}let m={...i.availableSpins};o.id==="extra_spin"?m[r]+=1:m[r]-=1;const{addTicket:f,addXp:p,grantPremium:y}=he.getState();o.id.startsWith("ticket_")?f(n,o.id.replace("ticket_","")):o.id.startsWith("boost_")?p(n,parseInt(o.id.replace("boost_",""))):o.id.startsWith("premium_")&&y(n,parseInt(o.id.replace("premium_","").replace("d","")));const v={id:te(),tier:r,rewardId:o.id,rewardLabel:o.label,timestamp:new Date().toISOString(),wasPity:l},j={...i,pityCounter:c,adaptiveMultipliers:d,spinHistory:[v,...i.spinHistory.slice(0,9)],availableSpins:m};return e({userSpinStates:{...a.userSpinStates,[n]:j}}),v},updateUserSpinState:(n,r)=>{e(a=>({userSpinStates:{...a.userSpinStates,[n]:{...a.userSpinStates[n],...r}}}))},tickAdaptiveMultipliers:n=>{const r=t(),a=r.userSpinStates[n];if(!a)return;const i=new Date,o={...a.adaptiveMultipliers};let l=!1;for(const c in o){const d=o[c];d.expiresAt&&oS(i,new Date(d.expiresAt))&&(delete o[c],l=!0)}l&&r.updateUserSpinState(n,{adaptiveMultipliers:o})}})),Iv=e=>{const t=e.home+e.away;return e.home===e.away&&t===0?[{id:"q1",question:"Team with highest possession?",options:["Team A","Team B"],answer:"Team A"},{id:"q2",question:"Team with most shots on target?",options:["Team A","Team B"],answer:"Team B"},{id:"q3",question:"Over/Under 5 yellow cards?",options:["Over","Under"],answer:"Under"},{id:"q4",question:"Man of the Match?",options:ci.slice(0,5).map(r=>r.name),answer:"L. Messi"}]:t<3?[{id:"q1",question:"Which team scores first?",options:["Team A","Team B","No Goal"],answer:"Team A"},{id:"q2",question:"Period of first goal?",options:["1-30","31-60","61-90"],answer:"31-60"},{id:"q3",question:"First goal scorer?",options:ci.slice(0,5).map(r=>r.name),answer:"K. De Bruyne"},{id:"q4",question:"Team with highest possession?",options:["Team A","Team B"],answer:"Team A"}]:[{id:"q1",question:"Which team opens the score?",options:["Team A","Team B"],answer:"Team B"},{id:"q2",question:"Minute of first goal?",options:["1-15","16-45","46-75","76-90"],answer:"16-45"},{id:"q3",question:"First goal scorer?",options:ci.slice(0,5).map(r=>r.name),answer:"E. Haaland"},{id:"q4",question:"Team with most shots on target?",options:["Team A","Team B"],answer:"Team B"}]},Nd=(e,t)=>{console.log(`%c[Mock Email] Sent €${t.toFixed(2)} Gift Card to user ${e} 🎁`,"color: #90EE90; font-weight: bold;")},he=Dv((e,t)=>({games:n_,userLeagues:s_,leagueMembers:r_,leagueGames:a_,leaderboardScores:i_,leaderboardSnapshots:[],leagueFeed:[],privateLeagueGames:[],liveGames:o_,predictionChallenges:[{id:"pred-challenge-1",title:"Match Day Challenge – Season (mock)",season:"2025/26",matchDayIds:["swipe-1","swipe-2"],createdAt:new Date().toISOString()}],userFantasyTeams:_S,userChallengeEntries:Hh,userSwipeEntries:qh,allUsers:$l,userTickets:Yh,userStreaks:[{user_id:"user-1",current_day:3,last_claimed_at:new Date(Date.now()-25*60*60*1e3).toISOString(),total_cycles_completed:0}],levels:Xs,badges:ff,rewardPacks:Rn,celebrations:[],activeSessions:[],notifications:m_,playerGraph:f_,funzone:{userProgress:42,dailySpinLastUsed:new Date(Date.now()-25*60*60*1e3).toISOString(),availableGames:[{id:"guess-player",name:"Guess the Player",description:"Can you identify the player from his career path?",isPlayable:!1,logic:{rules:"",winCondition:""}},{id:"guess-score",name:"Guess the Score",description:"Predict the final score in 10 seconds!",isPlayable:!1,logic:{rules:"",winCondition:""}},{id:"tic-tac-foot",name:"Tic-Tac-Foot",description:"A football twist on the classic Tic-Tac-Toe.",isPlayable:!1,logic:{rules:"",winCondition:""}}]},isTestMode:!1,showOnboardingTest:!1,currentUserId:null,distributePrizes:({tournamentId:n,players:r=[],prizePool:a=0,rewardTier:i="Rookie",participationBonus:o=0})=>{const{users:l}=t(),{addSpins:c}=Oi.getState();if(!(r!=null&&r.length)){console.warn(`[Sportime] No players found for tournament ${n}`);return}const u=["Rookie","Pro","Elite"].includes(i)?i:"Rookie",m={Rookie:{ticket:"rookie",spin:"rookie"},Pro:{ticket:"pro",spin:"pro"},Elite:{ticket:"elite",spin:"elite"}},f=parseFloat((a*.55).toFixed(2)),p=parseFloat((a*.3).toFixed(2)),y=parseFloat((a*.15).toFixed(2)),v=l.map(j=>{const x=r.find(b=>b.id===j.id);if(!x)return j;const g={...j};switch(g.coins_balance=(g.coins_balance||0)+o,g.tickets=g.tickets||[],g.spins=g.spins||[],g.giftCards=g.giftCards||[],x.rank){case 1:t().addTicket(j.id,m[u].ticket),c(j.id,m[u].spin,1),g.giftCards.push({amount:f.toFixed(2),provider:"Amazon",status:"Mock"}),Nd(j.id,f);break;case 2:t().addTicket(j.id,m[u].ticket),c(j.id,m[u].spin,1),g.giftCards.push({amount:p.toFixed(2),provider:"Amazon",status:"Mock"}),Nd(j.id,p);break;case 3:c(j.id,m[u].spin,1),g.giftCards.push({amount:y.toFixed(2),provider:"Amazon",status:"Mock"}),Nd(j.id,y);break}return g});e({allUsers:v}),console.log(`%c[Sportime] Rewards distributed for tournament ${n}`,"color: #FFD700; font-weight: bold;")},createPrivateLeagueGame:(n,r)=>{const{privateLeagueGames:a,leagueGames:i,allUsers:o,currentUserId:l}=t(),c=o.find(f=>f.id===l);if(!c)return{success:!1,error:"Admin user not found."};if(r.isPaid){if((c.activePaidTournaments||0)>=2)return{success:!1,error:"active_limit"};if((c.paidTournamentsCreatedThisMonth||0)>=5)return{success:!1,error:"monthly_limit"}}const d={id:te(),league_id:n,config:r,created_at:new Date().toISOString()},u={id:`lg-${te()}`,league_id:n,game_id:d.id,game_name:`Private: ${r.format_type.replace("_"," + ").replace(/\b\w/g,f=>f.toUpperCase())}`,type:"Private",members_joined:1,members_total:r.player_count,user_rank_in_league:1,user_rank_global:0,total_players_global:r.player_count,linked_at:new Date().toISOString(),leaderboard_period:null},m={};return r.isPaid&&(m.activePaidTournaments=(c.activePaidTournaments||0)+1,m.paidTournamentsCreatedThisMonth=(c.paidTournamentsCreatedThisMonth||0)+1),e({privateLeagueGames:[...a,d],leagueGames:[...i,u],allUsers:o.map(f=>f.id===c.id?{...f,...m}:f)}),{success:!0}},subscribeToPremium:(n,r)=>{const{allUsers:a,setCoinBalance:i}=t(),o=a.find(p=>p.id===n);if(!o)return;const l=r==="monthly"?30:180,c=new Date,d=o.subscription_expires_at?new Date(o.subscription_expires_at):c,u=xt(kn(d,c)?c:d,l),m=o.is_subscriber,f={is_subscriber:!0,subscription_expires_at:u.toISOString()};m||i(n,o.coins_balance+5e3),e(p=>({allUsers:p.allUsers.map(y=>y.id===n?{...y,...f}:y)}))},purchaseCoinPack:(n,r)=>{const a=cl.find(i=>i.id===n);a&&e(i=>({allUsers:i.allUsers.map(o=>o.id===r?{...o,coins_balance:o.coins_balance+a.coins,total_spent_eur:(o.total_spent_eur||0)+a.priceEUR,purchases_count:(o.purchases_count||0)+1}:o)}))},performFreeSpin:n=>{const{funzone:r,setCoinBalance:a,addXp:i}=t();if(r.dailySpinLastUsed&&ll(new Date,new Date(r.dailySpinLastUsed))<24)return null;let o=Math.random(),l=null;for(const c of Ss){if(o<c.probability){l=c;break}o-=c.probability}if(l||(l=Ss[Ss.length-1]),l.type==="coins"){const c=t().allUsers.find(d=>d.id===n);c&&a(n,c.coins_balance+l.value)}else l.type==="xp"&&i(n,l.value);return e(c=>({funzone:{...c.funzone,dailySpinLastUsed:new Date().toISOString()}})),l},createLiveSession:(n,r,a)=>{const{currentUserId:i}=t(),o=Math.floor(1e4+Math.random()*9e4).toString(),l=Date.now(),c={id:te(),pin:o,matchId:n,gameTypeId:r,leagueId:a,createdAt:l,expiresAt:l+5*60*1e3,participants:i?[i]:[]};return e(d=>({activeSessions:[...d.activeSessions,c]})),c},joinLiveSession:n=>{const{activeSessions:r,currentUserId:a,incrementInteraction:i}=t();if(!a)return null;const o=Date.now();let l=null,c=-1;if(r.forEach((d,u)=>{d.pin===n&&d.expiresAt>o&&(l=d,c=u)}),l&&c>-1){if(!l.participants.includes(a)){l.participants.forEach(m=>{i(a,m)});const d={...l,participants:[...l.participants,a]},u=[...r];return u[c]=d,e({activeSessions:u}),d}return l}return null},setCurrentUserId:n=>e({currentUserId:n}),updateUser:(n,r)=>{e(a=>({allUsers:a.allUsers.map(i=>i.id===n?{...i,...r}:i)}))},checkUsernameAvailability:async(n,r)=>{const{allUsers:a}=t();return a.some(i=>i.username.toLowerCase()===n.toLowerCase()&&i.id!==r)},ensureUserExists:n=>{e(r=>r.allUsers.some(i=>i.id===n.id)?{allUsers:r.allUsers.map(i=>i.id===n.id?{...i,...n}:i)}:{allUsers:[...r.allUsers,n]})},updateBasePack:(n,r,a)=>{e(i=>{const o={...i.rewardPacks};return o[n]&&(o[n][r]=a),{rewardPacks:o}})},openOnboardingTest:()=>e({showOnboardingTest:!0}),closeOnboardingTest:()=>e({showOnboardingTest:!1}),setTestMode:n=>{e({isTestMode:n}),localStorage.setItem("sportime_test_mode",JSON.stringify(n))},resetTestUsers:()=>{e({allUsers:[...$l],userStreaks:[{user_id:"user-1",current_day:3,last_claimed_at:new Date(Date.now()-25*60*60*1e3).toISOString(),total_cycles_completed:0}],userTickets:[...Yh],userChallengeEntries:[...Hh],userSwipeEntries:[...qh]}),console.log("Test users have been reset.")},checkDailyStreak:n=>{const r=t().userStreaks.find(o=>o.user_id===n),a=r?se(r.last_claimed_at):new Date(0),i=ll(new Date,a);if(i>=24){const o=(r==null?void 0:r.current_day)||0;return{isAvailable:!0,streakDay:i>Ah?1:o%7+1}}return{isAvailable:!1,streakDay:0}},claimDailyStreak:n=>{const{userStreaks:r,allUsers:a,addTicket:i,setCoinBalance:o}=t(),l=r.find(y=>y.user_id===n),c=new Date,d=(l==null?void 0:l.current_day)||0,m=(l?ll(c,se(l.last_claimed_at)):1/0)>Ah?1:d%7+1,f=hv[m];if(f.coins){const y=a.find(v=>v.id===n);y&&o(n,y.coins_balance+f.coins)}f.ticket&&i(n,f.ticket);const p={user_id:n,current_day:m,last_claimed_at:c.toISOString(),total_cycles_completed:m===7?((l==null?void 0:l.total_cycles_completed)||0)+1:(l==null?void 0:l.total_cycles_completed)||0};return e({userStreaks:r.some(y=>y.user_id===n)?r.map(y=>y.user_id===n?p:y):[...r,p]}),{reward:f,streakDay:m}},createGame:n=>{var l;const{rewardPacks:r}=t(),a=n.duration_type==="daily"?"matchday":n.duration_type||"matchday",i=((l=r[n.tier])==null?void 0:l[a])||[],o={...n,id:`game-${te()}`,status:"Upcoming",totalPlayers:0,participants:[],rewards:JSON.parse(JSON.stringify(i))};e(c=>({games:[o,...c.games]}))},updateGame:(n,r)=>{e(a=>({games:a.games.map(i=>i.id===n?{...i,...r}:i)}))},updateGameRewards:(n,r)=>{e(a=>({games:a.games.map(i=>i.id===n?{...i,rewards:r}:i)}))},deleteGame:n=>{e(r=>({games:r.games.filter(a=>a.id!==n)}))},cancelGame:n=>{e(r=>({games:r.games.map(a=>a.id===n?{...a,status:"Cancelled"}:a)}))},joinChallenge:(n,r,a)=>{const{games:i,userTickets:o,allUsers:l,userChallengeEntries:c}=t(),d=i.find(g=>g.id===n),u=l.find(g=>g.id===r);if(!d||!u)return{success:!1,message:"Challenge or user not found."};if(d.requires_subscription&&!u.is_subscriber)return{success:!1,message:"This challenge is only available to subscribers."};const m=Xs.findIndex(g=>g.level_name===u.level),f=Xs.findIndex(g=>g.level_name===d.minimum_level);if(d.minimum_level&&m<f)return{success:!1,message:`Your level is too low. Requires level ${d.minimum_level}.`};if(d.required_badges&&d.required_badges.length>0&&!d.required_badges.every(b=>{var w;return(w=u.badges)==null?void 0:w.includes(b)}))return{success:!1,message:"You don't have the required badge(s) to join."};if(d.maximum_players>0&&d.participants.length>=d.maximum_players)return{success:!1,message:"This challenge is full."};let p;if(a==="ticket"){const g=o.findIndex(b=>b.user_id===r&&b.type===d.tier&&!b.is_used&&kn(new Date,se(b.expires_at)));if(g>-1){const b=[...o];p=b[g].id,b[g]={...b[g],is_used:!0,used_at:new Date().toISOString()},e({userTickets:b})}else return{success:!1,message:"No valid ticket found."}}else if(a==="coins")if(u.coins_balance>=d.entry_cost){const g=u.coins_balance-d.entry_cost,b=l.map(w=>w.id===r?{...w,coins_balance:g}:w);e({allUsers:b})}else return{success:!1,message:"Not enough coins."};const y=i.map(g=>g.id===n?{...g,participants:[...g.participants,r]}:g),v=Ou.filter(g=>g.challengeId===n),j=[...new Set(v.map(g=>g.day))],x={user_id:r,challengeId:n,dailyEntries:j.map(g=>({day:g,bets:[]})),entryMethod:a,ticketId:p};return e({games:y,userChallengeEntries:[...c,x]}),{success:!0,message:`Successfully joined with ${a}!`,method:a}},joinSwipeGame:(n,r)=>{const{games:a,userSwipeEntries:i,allUsers:o}=t(),l=a.find(m=>m.id===n),c=o.find(m=>m.id===r);if(!l||!c)return{success:!1,message:"Game or user not found."};if(i.some(m=>m.matchDayId===n&&m.user_id===r))return{success:!0,message:"Already joined."};const u={user_id:r,matchDayId:n,predictions:[],submitted_at:null};return e({userSwipeEntries:[...i,u]}),{success:!0,message:"Successfully joined swipe game."}},processChallengeStart:n=>{const{games:r,allUsers:a,userTickets:i,userChallengeEntries:o}=t(),l=r.find(c=>c.id===n);if(!l)return{success:!1,message:"Challenge not found."};if(l.minimum_players>0&&l.participants.length<l.minimum_players){const c=r.map(m=>m.id===n?{...m,status:"Cancelled"}:m);let d=[...a],u=[...i];return l.participants.forEach(m=>{const f=o.find(p=>p.challengeId===n&&p.user_id===m);(f==null?void 0:f.entryMethod)==="coins"?d=d.map(p=>p.id===m?{...p,coins_balance:p.coins_balance+l.entry_cost}:p):(f==null?void 0:f.entryMethod)==="ticket"&&f.ticketId&&(u=u.map(p=>p.id===f.ticketId?{...p,is_used:!1,used_at:void 0}:p))}),e({games:c,allUsers:d,userTickets:u}),{success:!0,message:`Challenge "${l.name}" canceled. Not enough players. Entries refunded.`}}else{const c=r.map(d=>d.id===n?{...d,status:"Ongoing"}:d);return e({games:c}),{success:!0,message:`Challenge "${l.name}" has started!`}}},addTicket:(n,r)=>{const{userTickets:a}=t(),i=new Date,o=a.filter(d=>d.user_id===n&&d.type===r&&!d.is_used&&kn(i,se(d.expires_at))),l=GN[r];if(o.length>=l.max_quantity){console.warn(`Ticket limit reached for user ${n}, type ${r}`);return}const c={id:te(),user_id:n,type:r,is_used:!1,created_at:i.toISOString(),expires_at:xt(i,l.expiry_days).toISOString()};e({userTickets:[...a,c]})},addXp:(n,r)=>{e(a=>({allUsers:a.allUsers.map(o=>{if(o.id===n){const l=(o.xp||0)+r;let c=o.level||"Amateur";for(let d=Xs.length-1;d>=0;d--)if(l>=Xs[d].min_xp){c=Xs[d].level_name;break}return{...o,xp:l,level:c}}return o})}))},grantPremium:(n,r)=>{e(a=>({allUsers:a.allUsers.map(i=>{if(i.id===n){const o=new Date,l=i.subscription_expires_at?new Date(i.subscription_expires_at):o,c=xt(kn(l,o)?o:l,r);return{...i,is_subscriber:!0,subscription_expires_at:c.toISOString()}}return i})}))},setCoinBalance:(n,r)=>{e(a=>({allUsers:a.allUsers.map(i=>i.id===n?{...i,coins_balance:r}:i)}))},createLeague:(n,r,a)=>{const{userLeagues:i,leagueMembers:o}=t(),l=Math.random().toString(36).substring(2,10).toUpperCase(),c={id:te(),name:n,description:r||void 0,image_url:void 0,invite_code:l,created_by:a.id,created_at:new Date().toISOString()},d={id:te(),league_id:c.id,user_id:a.id,role:"admin",joined_at:new Date().toISOString()};return e({userLeagues:[...i,c],leagueMembers:[...o,d]}),c},joinLeague:(n,r,a)=>{const{userLeagues:i,leagueMembers:o}=t(),l=i.find(u=>u.invite_code===n);if(!l){a(null);return}if(o.some(u=>u.league_id===l.id&&u.user_id===r)){a(l);return}const d={id:te(),league_id:l.id,user_id:r,role:"member",joined_at:new Date().toISOString()};e({leagueMembers:[...o,d]}),a(l)},handleSwipePrediction:(n,r,a,i)=>{e(o=>{let l=o.userSwipeEntries.find(c=>c.matchDayId===n&&c.user_id===r);if(l){const c=[...l.predictions,{matchId:a,prediction:i}];return{userSwipeEntries:o.userSwipeEntries.map(d=>d.matchDayId===n&&d.user_id===r?{...d,predictions:c}:d)}}return o})},updateSwipePrediction:(n,r,a,i)=>{e(o=>({userSwipeEntries:o.userSwipeEntries.map(l=>l.matchDayId===n&&l.user_id===r?{...l,predictions:l.predictions.map(c=>c.matchId===a?{...c,prediction:i}:c)}:l)}))},linkGameToLeagues:(n,r)=>{const{leagueGames:a,leagueMembers:i,userLeagues:o}=t(),l=[],c=[];return r.forEach(d=>{if(a.some(y=>y.league_id===d&&y.game_id===n.id))return;const m=o.find(y=>y.id===d);if(!m)return;const f=i.filter(y=>y.league_id===d),p={id:`lg-${te()}`,league_id:d,game_id:n.id,game_name:n.name,type:n.game_type==="betting"?"Betting":n.game_type==="prediction"?"Prediction":"Fantasy",members_joined:1,members_total:f.length,user_rank_in_league:1,user_rank_global:n.totalPlayers+1,total_players_global:n.totalPlayers+1,linked_at:new Date().toISOString(),leaderboard_period:null};l.push(p),c.push(m.name)}),l.length>0&&e({leagueGames:[...a,...l]}),{linkedLeagueNames:c}},createLeagueAndLink:(n,r,a,i)=>{const{createLeague:o,linkGameToLeagues:l}=t(),c=o(n,r,i);c&&l(a,[c.id])},unlinkGameFromLeague:(n,r)=>{e(a=>({leagueGames:a.leagueGames.filter(i=>!(i.game_id===n&&i.league_id===r))}))},updateLeagueGameLeaderboardPeriod:(n,r)=>{e(a=>({leagueGames:a.leagueGames.map(i=>i.id===n?{...i,leaderboard_period:r}:i)}))},celebrateWinners:(n,r,a,i,o,l)=>{const{leagueFeed:c,leaderboardSnapshots:d}=t();if(c.some(v=>v.league_id===n&&v.type==="celebration"&&lS(new Date(v.created_at))))return{success:!1,error:"You can only celebrate once per day for this league."};const m=te(),f={id:m,league_id:n,game_id:r.id,game_name:r.name,game_type:r.game_type,created_at:new Date().toISOString(),created_by:l,data:a,message:o,start_date:i.start_date,end_date:i.end_date},p=a.slice(0,3).map(v=>({name:v.username,score:"points"in v?v.points:"totalPoints"in v?v.totalPoints:0})),y={id:te(),league_id:n,type:"celebration",author_id:l,created_at:new Date().toISOString(),message:o,metadata:{snapshot_id:m,top_players:p},likes:[]};return e({leaderboardSnapshots:[...d,f],leagueFeed:[y,...c]}),{success:!0}},celebrateSeasonalWinners:(n,r,a,i,o)=>{const{games:l,allUsers:c,leaderboardScores:d,addXp:u,setCoinBalance:m,addTicket:f}=t(),p=l.find(N=>N.id===n);if(!p||p.duration_type!=="seasonal"||!p.gameWeeks)return;const y=new Date(r.start),v=new Date(r.end),j=p.gameWeeks.filter(N=>{const S=new Date(N.startDate);return S>=y&&S<=v}),x=new Set(j.map(N=>N.id)),b=c.map(N=>{var _;let S=0;const k=(_=d[p.id])==null?void 0:_[N.id];if(k)for(const O in k)x.has(O)&&(S+=k[O]);return{userId:N.id,username:N.username||"Player",score:S}}).sort((N,S)=>S.score-N.score).slice(0,a);b.forEach(N=>{var S;switch(i.type){case"coins":m(N.userId,(((S=c.find(k=>k.id===N.userId))==null?void 0:S.coins_balance)||0)+i.value);break;case"xp":u(N.userId,i.value);break;case"ticket":f(N.userId,i.tier);break}});const w={id:te(),gameId:n,gameName:p.name,type:"seasonal",period:r,topPlayers:b.map((N,S)=>({userId:N.userId,username:N.username,rank:S+1,reward:{...i,id:te()}})),createdAt:new Date().toISOString(),message:o};e(N=>({celebrations:[w,...N.celebrations]}))},toggleFeedPostLike:(n,r)=>{e(a=>({leagueFeed:a.leagueFeed.map(i=>{if(i.id===n){const o=new Set(i.likes);return o.has(r)?o.delete(r):o.add(r),{...i,likes:Array.from(o)}}return i})}))},createLiveGame:(n,r,a)=>{const{liveGames:i}=t();let o;a==="betting"?o={id:`live-${te()}`,league_id:n,match_id:r.id,match_details:r,created_by:"user-1",status:"Upcoming",mode:"betting",markets:l_,simulated_minute:0,bonus_questions:[],players:[]}:a==="fantasy-live"?o={id:`live-${te()}`,league_id:n,match_id:r.id,match_details:r,created_by:"user-1",status:"Upcoming",mode:"fantasy-live",bonus_questions:[],markets:[],simulated_minute:0,players:[],boosters:d_}:o={id:`live-${te()}`,league_id:n,match_id:r.id,match_details:r,created_by:"user-1",status:"Upcoming",mode:"prediction",bonus_questions:[],markets:[],simulated_minute:0,players:[]},e({liveGames:[o,...i]})},submitLiveGamePrediction:(n,r,a)=>{e(i=>({liveGames:i.liveGames.map(o=>{if(o.id===n){const l={...a,user_id:r,submitted_at:new Date().toISOString()},c=o.bonus_questions.length>0?o.bonus_questions:Iv(a.predicted_score);return{...o,players:[...o.players,l],bonus_questions:c}}return o})}))},editLiveGamePrediction:(n,r,a)=>{e(i=>({liveGames:i.liveGames.map(o=>o.id===n?{...o,players:o.players.map(l=>l.user_id===r?{...l,predicted_score:a,midtime_edit:!0}:l)}:o)}))},placeLiveBet:(n,r,a,i,o,l)=>{e(c=>({liveGames:c.liveGames.map(d=>{if(d.id!==n)return d;let u=!1;const m=d.players.map(f=>{if(f.user_id!==r)return f;u=!0;const p={market_id:a,option:i,amount:o,odds:l,phase:d.status==="Upcoming"?"pre-match":"live",status:"pending",gain:0},y=f.betting_state||{pre_match_balance:1e3,live_balance:1e3,bets:[],total_gain:0},v=(d.status==="Upcoming"?y.pre_match_balance:y.live_balance)-o;return{...f,betting_state:{...y,pre_match_balance:d.status==="Upcoming"?v:y.pre_match_balance,live_balance:d.status!=="Upcoming"?v:y.live_balance,bets:[...y.bets,p]}}});if(!u){const f={market_id:a,option:i,amount:o,odds:l,phase:d.status==="Upcoming"?"pre-match":"live",status:"pending",gain:0},p={user_id:r,submitted_at:new Date().toISOString(),betting_state:{pre_match_balance:d.status==="Upcoming"?1e3-o:1e3,live_balance:d.status!=="Upcoming"?1e3-o:1e3,bets:[f],total_gain:0}};m.push(p)}return{...d,players:m}})}))},tickLiveGame:n=>{e(r=>({liveGames:r.liveGames.map(a=>{if(a.id!==n||a.status!=="Ongoing")return a;const i=a.simulated_minute+5;let o=a.match_details.score||{teamA:0,teamB:0},l=a.last_known_state||{minute:0},c=[...a.markets],d=[...a.players];const m=[{minute:25,score:{teamA:1,teamB:0},trigger:"goal_event"},{minute:60,score:{teamA:1,teamB:1},trigger:"equalizer_event"},{minute:88,score:{teamA:2,teamB:1},trigger:"goal_event"}].find(v=>i>=v.minute&&l.minute<v.minute);m&&(o={teamA:m.score.teamA,teamB:m.score.teamB});const f=c.filter(v=>v.status==="open"&&new Date(v.expires_at)<new Date),p={"pre-mkt-1":"E. Haaland","pre-mkt-2":"Draw","live-mkt-1":m&&m.trigger==="goal_event"?"Yes":"No"};if(f.length>0&&(d=d.map(v=>{let j=v.betting_state?{...v.betting_state}:void 0;return j&&f.forEach(x=>{const g=p[x.id];if(g){const b=j.bets.findIndex(w=>w.market_id===x.id&&w.status==="pending");if(b>-1){const w=j.bets[b];if(w.option===g){const N=Math.round(w.amount*w.odds);j.total_gain+=N,j.last_gain_time=new Date().toISOString(),j.bets[b]={...w,status:"won",gain:N}}else j.bets[b]={...w,status:"lost",gain:0}}}}),{...v,betting_state:j}}),c=c.map(v=>f.find(j=>j.id===v.id)?{...v,status:"resolved",winning_option:p[v.id]}:v)),!c.some(v=>v.status==="open")){const v=()=>i>70?1.3:1,j=(m==null?void 0:m.trigger)||(i>70?"tension_builds":null),x=j?c_[j]:null;if(x){const g={id:`live-mkt-${i}`,minute:i,type:j,title:x.title,emotion_factor:v(),odds:x.options.map(b=>({option:b,adjusted:(Math.random()*2+1.5)*v()})),expires_at:g_(new Date,2).toISOString(),status:"open"};c.push(g)}}return{...a,simulated_minute:i,match_details:{...a.match_details,score:o},last_known_state:{minute:i,score:{home:o.teamA,away:o.teamB}},markets:c,players:d}})}))},tickFantasyGame:(n,r)=>{e(a=>{const i=a.userFantasyTeams.find(l=>l.gameWeekId===n&&l.userId===r);if(!i)return a;const{updatedTeam:o}=Lv(i,ci,zu);return{userFantasyTeams:a.userFantasyTeams.map(l=>l.gameWeekId===n&&l.userId===r?o:l)}})},updateUserFantasyTeam:n=>{e(r=>({userFantasyTeams:r.userFantasyTeams.map(a=>a.gameWeekId===n.gameWeekId&&a.userId===n.userId?n:a)}))},addNotification:n=>{const r={...n,id:te(),timestamp:new Date().toISOString(),isRead:!1};e(a=>({notifications:[r,...a.notifications]}))},markNotificationAsRead:n=>{e(r=>({notifications:r.notifications.map(a=>a.id===n?{...a,isRead:!0}:a)}))},markAllNotificationsAsRead:()=>{e(n=>({notifications:n.notifications.map(r=>({...r,isRead:!0}))}))},incrementInteraction:(n,r)=>{e(a=>{const{allUsers:i}=t(),o={...a.playerGraph},l=(c,d)=>{const u=i.find(m=>m.id===d);u&&(o[c]?(o[c].interactions+=1,o[c].lastInteraction=new Date().toISOString()):o[c]={playerId:d,username:u.username||"Player",interactions:1,lastInteraction:new Date().toISOString()})};return l(n,r),l(r,n),{playerGraph:o}})}}));function g_(e,t){return new Date(e.getTime()+t*6e4)}const Zr=[{id:"L1",name:"La Liga",logo:"https://media.api-sports.io/football/leagues/140.png",remaining_matchdays:12},{id:"L2",name:"Premier League",logo:"https://media.api-sports.io/football/leagues/39.png",remaining_matchdays:10},{id:"L3",name:"Serie A",logo:"https://media.api-sports.io/football/leagues/135.png",remaining_matchdays:14},{id:"L4",name:"Bundesliga",logo:"https://media.api-sports.io/football/leagues/78.png",remaining_matchdays:8},{id:"L5",name:"Ligue 1",logo:"https://media.api-sports.io/football/leagues/61.png",remaining_matchdays:11}],y_=({options:e,selectedValues:t,onChange:n,placeholder:r})=>{const[a,i]=h.useState(!1),o=h.useRef(null),l=t.map(d=>{var u;return(u=e.find(m=>m.value===d))==null?void 0:u.label}).filter(Boolean);h.useEffect(()=>{const d=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const c=d=>{const u=new Set(t);u.has(d)?u.delete(d):u.add(d),n(Array.from(u))};return s.jsxs("div",{className:"relative w-full",ref:o,children:[s.jsxs("button",{type:"button",onClick:()=>i(!a),className:"input-base text-sm w-full flex justify-between items-center",children:[s.jsx("span",{className:"truncate",children:l.length>0?l.join(", "):r}),s.jsx(mn,{className:`transition-transform ${a?"rotate-180":""}`})]}),a&&s.jsx("div",{className:"absolute top-full mt-1 w-full bg-navy-accent border border-disabled rounded-lg shadow-lg z-10 p-2 max-h-48 overflow-y-auto",children:e.map(d=>s.jsxs("label",{className:"flex items-center gap-2 p-2 rounded hover:bg-electric-blue/10 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:t.includes(d.value),onChange:()=>c(d.value),className:"accent-electric-blue"}),s.jsx("span",{className:"text-sm text-text-primary",children:d.label})]},d.value))})]})},v_=["ticket","spin","xp","giftcard","masterpass","custom","premium_3d","premium_7d"],b_=["rookie","pro","elite"],j_=({isOpen:e,onClose:t,onSave:n,existingReward:r})=>{const[a,i]=h.useState(r||{type:"xp"});if(!e)return null;const o=()=>{n(a),t()},l=a.type==="ticket"||a.type==="spin"||a.type==="masterpass",c=a.type==="xp"||a.type==="giftcard",d=a.type==="custom";return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-[80] animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-bold text-text-primary",children:[r?"Edit":"Add"," Reward"]}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:20})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("select",{value:a.type,onChange:u=>i({...a,type:u.target.value}),className:"input-base",children:v_.map(u=>s.jsx("option",{value:u,className:"capitalize",children:u.replace("_"," ")},u))}),l&&s.jsxs("select",{value:a.tier,onChange:u=>i({...a,tier:u.target.value}),className:"input-base",children:[s.jsx("option",{value:"",children:"Select Tier"}),b_.map(u=>s.jsx("option",{value:u,className:"capitalize",children:u},u))]}),c&&s.jsx("input",{type:"number",placeholder:"Value (e.g., 200)",value:a.value||"",onChange:u=>i({...a,value:Number(u.target.value)}),className:"input-base"}),d&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",placeholder:"Item Name",value:a.name||"",onChange:u=>i({...a,name:u.target.value}),className:"input-base"}),s.jsx("input",{type:"text",placeholder:"Logo URL",value:a.logo||"",onChange:u=>i({...a,logo:u.target.value}),className:"input-base"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:t,className:"flex-1 py-2 bg-disabled text-text-secondary rounded-lg font-semibold",children:"Cancel"}),s.jsx("button",{onClick:o,className:"flex-1 primary-button py-2",children:"Save Reward"})]})]})})};function w_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const Nc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ba(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function hf(e){return"nodeType"in e}function Ot(e){var t,n;return e?ba(e)?e:hf(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function xf(e){const{Document:t}=Ot(e);return e instanceof t}function so(e){return ba(e)?!1:e instanceof Ot(e).HTMLElement}function Rv(e){return e instanceof Ot(e).SVGElement}function ja(e){return e?ba(e)?e.document:hf(e)?xf(e)?e:so(e)||Rv(e)?e.ownerDocument:document:document:document}const $n=Nc?h.useLayoutEffect:h.useEffect;function gf(e){const t=h.useRef(e);return $n(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function N_(){const e=h.useRef(null),t=h.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function zi(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return $n(()=>{n.current!==e&&(n.current=e)},t),n}function ro(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Ul(e){const t=gf(e),n=h.useRef(null),r=h.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function Fu(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let kd={};function ao(e,t){return h.useMemo(()=>{if(t)return t;const n=kd[e]==null?0:kd[e]+1;return kd[e]=n,e+"-"+n},[e,t])}function Ov(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,o)=>{const l=Object.entries(o);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const ea=Ov(1),Gl=Ov(-1);function k_(e){return"clientX"in e&&"clientY"in e}function yf(e){if(!e)return!1;const{KeyboardEvent:t}=Ot(e.target);return t&&e instanceof t}function S_(e){if(!e)return!1;const{TouchEvent:t}=Ot(e.target);return t&&e instanceof t}function Bu(e){if(S_(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return k_(e)?{x:e.clientX,y:e.clientY}:null}const ua=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ua.Translate.toString(e),ua.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Xh="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function __(e){return e.matches(Xh)?e:e.querySelector(Xh)}const C_={display:"none"};function M_(e){let{id:t,value:n}=e;return Qe.createElement("div",{id:t,style:C_},n)}function T_(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Qe.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function P_(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const zv=h.createContext(null);function D_(e){const t=h.useContext(zv);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function L_(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:a,event:i}=r;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const A_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E_={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function I_(e){let{announcements:t=E_,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=A_}=e;const{announce:i,announcement:o}=P_(),l=ao("DndLiveRegion"),[c,d]=h.useState(!1);if(h.useEffect(()=>{d(!0)},[]),D_(h.useMemo(()=>({onDragStart(m){let{active:f}=m;i(t.onDragStart({active:f}))},onDragMove(m){let{active:f,over:p}=m;t.onDragMove&&i(t.onDragMove({active:f,over:p}))},onDragOver(m){let{active:f,over:p}=m;i(t.onDragOver({active:f,over:p}))},onDragEnd(m){let{active:f,over:p}=m;i(t.onDragEnd({active:f,over:p}))},onDragCancel(m){let{active:f,over:p}=m;i(t.onDragCancel({active:f,over:p}))}}),[i,t])),!c)return null;const u=Qe.createElement(Qe.Fragment,null,Qe.createElement(M_,{id:r,value:a.draggable}),Qe.createElement(T_,{id:l,announcement:o}));return n?nr.createPortal(u,n):u}var Xe;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Xe||(Xe={}));function Wl(){}function Fv(e,t){return h.useMemo(()=>({sensor:e,options:{}}),[e,t])}function Bv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Mn=Object.freeze({x:0,y:0});function R_(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function O_(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function z_(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function F_(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Qh(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Vv=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=Qh(t,t.left,t.top),i=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const d=R_(Qh(c),a);i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(O_)};function B_(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-r,l=i-n;if(r<a&&n<i){const c=t.width*t.height,d=e.width*e.height,u=o*l,m=u/(c+d-u);return Number(m.toFixed(4))}return 0}const V_=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:o}=i,l=n.get(o);if(l){const c=B_(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(z_)};function $_(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function $v(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Mn}function U_(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const G_=U_(1);function W_(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Y_(e,t,n){const r=W_(t);if(!r)return e;const{scaleX:a,scaleY:i,x:o,y:l}=r,c=e.left-o-(1-a)*parseFloat(n),d=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,m=i?e.height/i:e.height;return{width:u,height:m,top:d,right:c+u,bottom:d+m,left:c}}const H_={ignoreTransform:!1};function wa(e,t){t===void 0&&(t=H_);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=Ot(e).getComputedStyle(e);d&&(n=Y_(n,d,u))}const{top:r,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:r,left:a,width:i,height:o,bottom:l,right:c}}function Jh(e){return wa(e,{ignoreTransform:!0})}function q_(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function K_(e,t){return t===void 0&&(t=Ot(e).getComputedStyle(e)),t.position==="fixed"}function X_(e,t){t===void 0&&(t=Ot(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function vf(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(xf(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!so(a)||Rv(a)||n.includes(a))return n;const i=Ot(e).getComputedStyle(a);return a!==e&&X_(a,i)&&n.push(a),K_(a,i)?n:r(a.parentNode)}return e?r(e):n}function Uv(e){const[t]=vf(e,1);return t??null}function Sd(e){return!Nc||!e?null:ba(e)?e:hf(e)?xf(e)||e===ja(e).scrollingElement?window:so(e)?e:null:null}function Gv(e){return ba(e)?e.scrollX:e.scrollLeft}function Wv(e){return ba(e)?e.scrollY:e.scrollTop}function Vu(e){return{x:Gv(e),y:Wv(e)}}var nt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(nt||(nt={}));function Yv(e){return!Nc||!e?!1:e===document.scrollingElement}function Hv(e){const t={x:0,y:0},n=Yv(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const Q_={x:.2,y:.2};function J_(e,t,n,r,a){let{top:i,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=Q_);const{isTop:d,isBottom:u,isLeft:m,isRight:f}=Hv(e),p={x:0,y:0},y={x:0,y:0},v={height:t.height*a.y,width:t.width*a.x};return!d&&i<=t.top+v.height?(p.y=nt.Backward,y.y=r*Math.abs((t.top+v.height-i)/v.height)):!u&&c>=t.bottom-v.height&&(p.y=nt.Forward,y.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!f&&l>=t.right-v.width?(p.x=nt.Forward,y.x=r*Math.abs((t.right-v.width-l)/v.width)):!m&&o<=t.left+v.width&&(p.x=nt.Backward,y.x=r*Math.abs((t.left+v.width-o)/v.width)),{direction:p,speed:y}}function Z_(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function qv(e){return e.reduce((t,n)=>ea(t,Vu(n)),Mn)}function eC(e){return e.reduce((t,n)=>t+Gv(n),0)}function tC(e){return e.reduce((t,n)=>t+Wv(n),0)}function nC(e,t){if(t===void 0&&(t=wa),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);Uv(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const sC=[["x",["left","right"],eC],["y",["top","bottom"],tC]];class bf{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=vf(n),a=qv(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of sC)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(r),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class di{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function rC(e){const{EventTarget:t}=Ot(e);return e instanceof t?e:ja(e)}function _d(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var rn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(rn||(rn={}));function Zh(e){e.preventDefault()}function aC(e){e.stopPropagation()}var ge;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ge||(ge={}));const Kv={start:[ge.Space,ge.Enter],cancel:[ge.Esc],end:[ge.Space,ge.Enter,ge.Tab]},iC=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ge.Right:return{...n,x:n.x+25};case ge.Left:return{...n,x:n.x-25};case ge.Down:return{...n,y:n.y+25};case ge.Up:return{...n,y:n.y-25}}};class Xv{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new di(ja(n)),this.windowListeners=new di(Ot(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(rn.Resize,this.handleCancel),this.windowListeners.add(rn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(rn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&nC(r),n(Mn)}handleKeyDown(t){if(yf(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=Kv,coordinateGetter:o=iC,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=r.current,u=d?{x:d.left,y:d.top}:Mn;this.referenceCoordinates||(this.referenceCoordinates=u);const m=o(t,{active:n,context:r.current,currentCoordinates:u});if(m){const f=Gl(m,u),p={x:0,y:0},{scrollableAncestors:y}=r.current;for(const v of y){const j=t.code,{isTop:x,isRight:g,isLeft:b,isBottom:w,maxScroll:N,minScroll:S}=Hv(v),k=Z_(v),_={x:Math.min(j===ge.Right?k.right-k.width/2:k.right,Math.max(j===ge.Right?k.left:k.left+k.width/2,m.x)),y:Math.min(j===ge.Down?k.bottom-k.height/2:k.bottom,Math.max(j===ge.Down?k.top:k.top+k.height/2,m.y))},O=j===ge.Right&&!g||j===ge.Left&&!b,T=j===ge.Down&&!w||j===ge.Up&&!x;if(O&&_.x!==m.x){const C=v.scrollLeft+f.x,D=j===ge.Right&&C<=N.x||j===ge.Left&&C>=S.x;if(D&&!f.y){v.scrollTo({left:C,behavior:l});return}D?p.x=v.scrollLeft-C:p.x=j===ge.Right?v.scrollLeft-N.x:v.scrollLeft-S.x,p.x&&v.scrollBy({left:-p.x,behavior:l});break}else if(T&&_.y!==m.y){const C=v.scrollTop+f.y,D=j===ge.Down&&C<=N.y||j===ge.Up&&C>=S.y;if(D&&!f.x){v.scrollTo({top:C,behavior:l});return}D?p.y=v.scrollTop-C:p.y=j===ge.Down?v.scrollTop-N.y:v.scrollTop-S.y,p.y&&v.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,ea(Gl(m,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Xv.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Kv,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function ex(e){return!!(e&&"distance"in e)}function tx(e){return!!(e&&"delay"in e)}class jf{constructor(t,n,r){var a;r===void 0&&(r=rC(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=ja(o),this.documentListeners=new di(this.document),this.listeners=new di(r),this.windowListeners=new di(Ot(o)),this.initialCoordinates=(a=Bu(i))!=null?a:Mn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(rn.Resize,this.handleCancel),this.windowListeners.add(rn.DragStart,Zh),this.windowListeners.add(rn.VisibilityChange,this.handleCancel),this.windowListeners.add(rn.ContextMenu,Zh),this.documentListeners.add(rn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(tx(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(ex(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(rn.Click,aC,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(rn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=Bu(t))!=null?n:Mn,d=Gl(a,c);if(!r&&l){if(ex(l)){if(l.tolerance!=null&&_d(d,l.tolerance))return this.handleCancel();if(_d(d,l.distance))return this.handleStart()}if(tx(l)&&_d(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===ge.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const oC={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class kc extends jf{constructor(t){const{event:n}=t,r=ja(n.target);super(t,oC,r)}}kc.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const lC={move:{name:"mousemove"},end:{name:"mouseup"}};var $u;(function(e){e[e.RightClick=2]="RightClick"})($u||($u={}));class cC extends jf{constructor(t){super(t,lC,ja(t.event.target))}}cC.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===$u.RightClick?!1:(r==null||r({event:n}),!0)}}];const Cd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class dC extends jf{constructor(t){super(t,Cd)}static setup(){return window.addEventListener(Cd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Cd.move.name,t)};function t(){}}}dC.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var ui;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ui||(ui={}));var Yl;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Yl||(Yl={}));function uC(e){let{acceleration:t,activator:n=ui.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:o=5,order:l=Yl.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:m,threshold:f}=e;const p=fC({delta:m,disabled:!i}),[y,v]=N_(),j=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),g=h.useMemo(()=>{switch(n){case ui.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ui.DraggableRect:return a}},[n,a,c]),b=h.useRef(null),w=h.useCallback(()=>{const S=b.current;if(!S)return;const k=j.current.x*x.current.x,_=j.current.y*x.current.y;S.scrollBy(k,_)},[]),N=h.useMemo(()=>l===Yl.TreeOrder?[...d].reverse():d,[l,d]);h.useEffect(()=>{if(!i||!d.length||!g){v();return}for(const S of N){if((r==null?void 0:r(S))===!1)continue;const k=d.indexOf(S),_=u[k];if(!_)continue;const{direction:O,speed:T}=J_(S,_,g,t,f);for(const C of["x","y"])p[C][O[C]]||(T[C]=0,O[C]=0);if(T.x>0||T.y>0){v(),b.current=S,y(w,o),j.current=T,x.current=O;return}}j.current={x:0,y:0},x.current={x:0,y:0},v()},[t,w,r,v,i,o,JSON.stringify(g),JSON.stringify(p),y,d,N,u,JSON.stringify(f)])}const mC={x:{[nt.Backward]:!1,[nt.Forward]:!1},y:{[nt.Backward]:!1,[nt.Forward]:!1}};function fC(e){let{delta:t,disabled:n}=e;const r=Fu(t);return ro(a=>{if(n||!r||!a)return mC;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[nt.Backward]:a.x[nt.Backward]||i.x===-1,[nt.Forward]:a.x[nt.Forward]||i.x===1},y:{[nt.Backward]:a.y[nt.Backward]||i.y===-1,[nt.Forward]:a.y[nt.Forward]||i.y===1}}},[n,t,r])}function pC(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return ro(a=>{var i;return t==null?null:(i=r??a)!=null?i:null},[r,t])}function hC(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var Fi;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Fi||(Fi={}));var Uu;(function(e){e.Optimized="optimized"})(Uu||(Uu={}));const nx=new Map;function xC(e,t){let{dragging:n,dependencies:r,config:a}=t;const[i,o]=h.useState(null),{frequency:l,measure:c,strategy:d}=a,u=h.useRef(e),m=j(),f=zi(m),p=h.useCallback(function(x){x===void 0&&(x=[]),!f.current&&o(g=>g===null?x:g.concat(x.filter(b=>!g.includes(b))))},[f]),y=h.useRef(null),v=ro(x=>{if(m&&!n)return nx;if(!x||x===nx||u.current!==e||i!=null){const g=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){g.set(b.id,b.rect.current);continue}const w=b.node.current,N=w?new bf(c(w),w):null;b.rect.current=N,N&&g.set(b.id,N)}return g}return x},[e,i,n,m,c]);return h.useEffect(()=>{u.current=e},[e]),h.useEffect(()=>{m||p()},[n,m]),h.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),h.useEffect(()=>{m||typeof l!="number"||y.current!==null||(y.current=setTimeout(()=>{p(),y.current=null},l))},[l,m,p,...r]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:i!=null};function j(){switch(d){case Fi.Always:return!1;case Fi.BeforeDragging:return n;default:return!n}}}function Qv(e,t){return ro(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function gC(e,t){return Qv(e,t)}function yC(e){let{callback:t,disabled:n}=e;const r=gf(t),a=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Sc(e){let{callback:t,disabled:n}=e;const r=gf(t),a=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function vC(e){return new bf(wa(e),e)}function sx(e,t,n){t===void 0&&(t=vC);const[r,a]=h.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=yC({callback(c){if(e)for(const d of c){const{type:u,target:m}=d;if(u==="childList"&&m instanceof HTMLElement&&m.contains(e)){i();break}}}}),l=Sc({callback:i});return $n(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function bC(e){const t=Qv(e);return $v(e,t)}const rx=[];function jC(e){const t=h.useRef(e),n=ro(r=>e?r&&r!==rx&&e&&t.current&&e.parentNode===t.current.parentNode?r:vf(e):rx,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function wC(e){const[t,n]=h.useState(null),r=h.useRef(e),a=h.useCallback(i=>{const o=Sd(i.target);o&&n(l=>l?(l.set(o,Vu(o)),new Map(l)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){o(i);const l=e.map(c=>{const d=Sd(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Vu(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const d=Sd(c);d==null||d.removeEventListener("scroll",a)})}},[a,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>ea(i,o),Mn):qv(e):Mn,[e,t])}function ax(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Mn;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Gl(e,n.current):Mn}function NC(e){h.useEffect(()=>{if(!Nc)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function kC(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function Jv(e){return h.useMemo(()=>e?q_(e):null,[e])}const ix=[];function SC(e,t){t===void 0&&(t=wa);const[n]=e,r=Jv(n?Ot(n):null),[a,i]=h.useState(ix);function o(){i(()=>e.length?e.map(c=>Yv(c)?r:new bf(t(c),c)):ix)}const l=Sc({callback:o});return $n(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function _C(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return so(t)?t:e}function CC(e){let{measure:t}=e;const[n,r]=h.useState(null),a=h.useCallback(d=>{for(const{target:u}of d)if(so(u)){r(m=>{const f=t(u);return m?{...m,width:f.width,height:f.height}:f});break}},[t]),i=Sc({callback:a}),o=h.useCallback(d=>{const u=_C(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?t(u):null)},[t,i]),[l,c]=Ul(o);return h.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const MC=[{sensor:kc,options:{}},{sensor:Xv,options:{}}],TC={current:{}},dl={draggable:{measure:Jh},droppable:{measure:Jh,strategy:Fi.WhileDragging,frequency:Uu.Optimized},dragOverlay:{measure:wa}};class mi extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const PC={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new mi,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Wl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:dl,measureDroppableContainers:Wl,windowRect:null,measuringScheduled:!1},DC={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Wl,draggableNodes:new Map,over:null,measureDroppableContainers:Wl},_c=h.createContext(DC),Zv=h.createContext(PC);function LC(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new mi}}}function AC(e,t){switch(t.type){case Xe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Xe.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Xe.DragEnd:case Xe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xe.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new mi(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case Xe.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new mi(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case Xe.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new mi(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function EC(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=h.useContext(_c),i=Fu(r),o=Fu(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!yf(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const m=__(u);if(m){m.focus();break}}})}},[r,t,a,o,i]),null}function IC(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...r}),n):n}function RC(e){return h.useMemo(()=>({draggable:{...dl.draggable,...e==null?void 0:e.draggable},droppable:{...dl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...dl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function OC(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const i=h.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;$n(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!r)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=n(d),m=$v(u,r);if(o||(m.x=0),l||(m.y=0),i.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const f=Uv(d);f&&f.scrollBy({top:m.y,left:m.x})}},[t,o,l,r,n])}const eb=h.createContext({...Mn,scaleX:1,scaleY:1});var bs;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(bs||(bs={}));const tb=h.memo(function(t){var n,r,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:u=MC,collisionDetection:m=V_,measuring:f,modifiers:p,...y}=t;const v=h.useReducer(AC,void 0,LC),[j,x]=v,[g,b]=L_(),[w,N]=h.useState(bs.Uninitialized),S=w===bs.Initialized,{draggable:{active:k,nodes:_,translate:O},droppable:{containers:T}}=j,C=k!=null?_.get(k):null,D=h.useRef({initial:null,translated:null}),P=h.useMemo(()=>{var Te;return k!=null?{id:k,data:(Te=C==null?void 0:C.data)!=null?Te:TC,rect:D}:null},[k,C]),B=h.useRef(null),[I,V]=h.useState(null),[z,R]=h.useState(null),F=zi(y,Object.values(y)),E=ao("DndDescribedBy",o),Y=h.useMemo(()=>T.getEnabled(),[T]),H=RC(f),{droppableRects:Q,measureDroppableContainers:X,measuringScheduled:le}=xC(Y,{dragging:S,dependencies:[O.x,O.y],config:H.droppable}),K=pC(_,k),oe=h.useMemo(()=>z?Bu(z):null,[z]),ne=ho(),je=gC(K,H.draggable.measure);OC({activeNode:k!=null?_.get(k):null,config:ne.layoutShiftCompensation,initialRect:je,measure:H.draggable.measure});const de=sx(K,H.draggable.measure,je),Xt=sx(K?K.parentElement:null),Le=h.useRef({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),zt=T.getNodeFor((n=Le.current.over)==null?void 0:n.id),bt=CC({measure:H.dragOverlay.measure}),Tt=(r=bt.nodeRef.current)!=null?r:K,Ft=S?(a=bt.rect)!=null?a:de:null,ls=!!(bt.nodeRef.current&&bt.rect),J=bC(ls?null:de),ae=Jv(Tt?Ot(Tt):null),U=jC(S?zt??K:null),ie=SC(U),ue=IC(p,{transform:{x:O.x-J.x,y:O.y-J.y,scaleX:1,scaleY:1},activatorEvent:z,active:P,activeNodeRect:de,containerNodeRect:Xt,draggingNodeRect:Ft,over:Le.current.over,overlayNodeRect:bt.rect,scrollableAncestors:U,scrollableAncestorRects:ie,windowRect:ae}),He=oe?ea(oe,O):null,cs=wC(U),Sa=ax(cs),_a=ax(cs,[de]),Tn=ea(ue,Sa),hn=Ft?G_(Ft,ue):null,Us=P&&hn?m({active:P,collisionRect:hn,droppableRects:Q,droppableContainers:Y,pointerCoordinates:He}):null,A=F_(Us,"id"),[xn,Wn]=h.useState(null),Qt=ls?ue:ea(ue,_a),jr=$_(Qt,(i=xn==null?void 0:xn.rect)!=null?i:null,de),Ca=h.useRef(null),fo=h.useCallback((Te,Ze)=>{let{sensor:We,options:Pn}=Ze;if(B.current==null)return;const dt=_.get(B.current);if(!dt)return;const ze=Te.nativeEvent,Pt=new We({active:B.current,activeNode:dt,event:ze,options:Pn,context:Le,onAbort(Ae){if(!_.get(Ae))return;const{onDragAbort:jt}=F.current,ut={id:Ae};jt==null||jt(ut),g({type:"onDragAbort",event:ut})},onPending(Ae,Zt,jt,ut){if(!_.get(Ae))return;const{onDragPending:Yn}=F.current,Bt={id:Ae,constraint:Zt,initialCoordinates:jt,offset:ut};Yn==null||Yn(Bt),g({type:"onDragPending",event:Bt})},onStart(Ae){const Zt=B.current;if(Zt==null)return;const jt=_.get(Zt);if(!jt)return;const{onDragStart:ut}=F.current,Dn={activatorEvent:ze,active:{id:Zt,data:jt.data,rect:D}};nr.unstable_batchedUpdates(()=>{ut==null||ut(Dn),N(bs.Initializing),x({type:Xe.DragStart,initialCoordinates:Ae,active:Zt}),g({type:"onDragStart",event:Dn}),V(Ca.current),R(ze)})},onMove(Ae){x({type:Xe.DragMove,coordinates:Ae})},onEnd:Jt(Xe.DragEnd),onCancel:Jt(Xe.DragCancel)});Ca.current=Pt;function Jt(Ae){return async function(){const{active:jt,collisions:ut,over:Dn,scrollAdjustedTranslate:Yn}=Le.current;let Bt=null;if(jt&&Yn){const{cancelDrop:ds}=F.current;Bt={activatorEvent:ze,active:jt,collisions:ut,delta:Yn,over:Dn},Ae===Xe.DragEnd&&typeof ds=="function"&&await Promise.resolve(ds(Bt))&&(Ae=Xe.DragCancel)}B.current=null,nr.unstable_batchedUpdates(()=>{x({type:Ae}),N(bs.Uninitialized),Wn(null),V(null),R(null),Ca.current=null;const ds=Ae===Xe.DragEnd?"onDragEnd":"onDragCancel";if(Bt){const us=F.current[ds];us==null||us(Bt),g({type:ds,event:Bt})}})}}},[_]),Ic=h.useCallback((Te,Ze)=>(We,Pn)=>{const dt=We.nativeEvent,ze=_.get(Pn);if(B.current!==null||!ze||dt.dndKit||dt.defaultPrevented)return;const Pt={active:ze};Te(We,Ze.options,Pt)===!0&&(dt.dndKit={capturedBy:Ze.sensor},B.current=Pn,fo(We,Ze))},[_,fo]),po=hC(u,Ic);NC(u),$n(()=>{de&&w===bs.Initializing&&N(bs.Initialized)},[de,w]),h.useEffect(()=>{const{onDragMove:Te}=F.current,{active:Ze,activatorEvent:We,collisions:Pn,over:dt}=Le.current;if(!Ze||!We)return;const ze={active:Ze,activatorEvent:We,collisions:Pn,delta:{x:Tn.x,y:Tn.y},over:dt};nr.unstable_batchedUpdates(()=>{Te==null||Te(ze),g({type:"onDragMove",event:ze})})},[Tn.x,Tn.y]),h.useEffect(()=>{const{active:Te,activatorEvent:Ze,collisions:We,droppableContainers:Pn,scrollAdjustedTranslate:dt}=Le.current;if(!Te||B.current==null||!Ze||!dt)return;const{onDragOver:ze}=F.current,Pt=Pn.get(A),Jt=Pt&&Pt.rect.current?{id:Pt.id,rect:Pt.rect.current,data:Pt.data,disabled:Pt.disabled}:null,Ae={active:Te,activatorEvent:Ze,collisions:We,delta:{x:dt.x,y:dt.y},over:Jt};nr.unstable_batchedUpdates(()=>{Wn(Jt),ze==null||ze(Ae),g({type:"onDragOver",event:Ae})})},[A]),$n(()=>{Le.current={activatorEvent:z,active:P,activeNode:K,collisionRect:hn,collisions:Us,droppableRects:Q,draggableNodes:_,draggingNode:Tt,draggingNodeRect:Ft,droppableContainers:T,over:xn,scrollableAncestors:U,scrollAdjustedTranslate:Tn},D.current={initial:Ft,translated:hn}},[P,K,Us,hn,_,Tt,Ft,Q,T,xn,U,Tn]),uC({...ne,delta:O,draggingRect:hn,pointerCoordinates:He,scrollableAncestors:U,scrollableAncestorRects:ie});const Rc=h.useMemo(()=>({active:P,activeNode:K,activeNodeRect:de,activatorEvent:z,collisions:Us,containerNodeRect:Xt,dragOverlay:bt,draggableNodes:_,droppableContainers:T,droppableRects:Q,over:xn,measureDroppableContainers:X,scrollableAncestors:U,scrollableAncestorRects:ie,measuringConfiguration:H,measuringScheduled:le,windowRect:ae}),[P,K,de,z,Us,Xt,bt,_,T,Q,xn,X,U,ie,H,le,ae]),op=h.useMemo(()=>({activatorEvent:z,activators:po,active:P,activeNodeRect:de,ariaDescribedById:{draggable:E},dispatch:x,draggableNodes:_,over:xn,measureDroppableContainers:X}),[z,po,P,de,x,E,_,xn,X]);return Qe.createElement(zv.Provider,{value:b},Qe.createElement(_c.Provider,{value:op},Qe.createElement(Zv.Provider,{value:Rc},Qe.createElement(eb.Provider,{value:jr},d)),Qe.createElement(EC,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Qe.createElement(I_,{...l,hiddenTextDescribedById:E}));function ho(){const Te=(I==null?void 0:I.autoScrollEnabled)===!1,Ze=typeof c=="object"?c.enabled===!1:c===!1,We=S&&!Te&&!Ze;return typeof c=="object"?{...c,enabled:We}:{enabled:We}}}),zC=h.createContext(null),ox="button",FC="Draggable";function BC(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const i=ao(FC),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:m,over:f}=h.useContext(_c),{role:p=ox,roleDescription:y="draggable",tabIndex:v=0}=a??{},j=(c==null?void 0:c.id)===t,x=h.useContext(j?eb:zC),[g,b]=Ul(),[w,N]=Ul(),S=kC(o,t),k=zi(n);$n(()=>(m.set(t,{id:t,key:i,node:g,activatorNode:w,data:k}),()=>{const O=m.get(t);O&&O.key===i&&m.delete(t)}),[m,t]);const _=h.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":r,"aria-pressed":j&&p===ox?!0:void 0,"aria-roledescription":y,"aria-describedby":u.draggable}),[r,p,v,j,y,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:_,isDragging:j,listeners:r?void 0:S,node:g,over:f,setNodeRef:b,setActivatorNodeRef:N,transform:x}}function VC(){return h.useContext(Zv)}const $C="Droppable",UC={timeout:25};function GC(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const i=ao($C),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=h.useContext(_c),u=h.useRef({disabled:n}),m=h.useRef(!1),f=h.useRef(null),p=h.useRef(null),{disabled:y,updateMeasurementsFor:v,timeout:j}={...UC,...a},x=zi(v??r),g=h.useCallback(()=>{if(!m.current){m.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),p.current=null},j)},[j]),b=Sc({callback:g,disabled:y||!o}),w=h.useCallback((_,O)=>{b&&(O&&(b.unobserve(O),m.current=!1),_&&b.observe(_))},[b]),[N,S]=Ul(w),k=zi(t);return h.useEffect(()=>{!b||!N.current||(b.disconnect(),m.current=!1,b.observe(N.current))},[N,b]),h.useEffect(()=>(l({type:Xe.RegisterDroppable,element:{id:r,key:i,disabled:n,node:N,rect:f,data:k}}),()=>l({type:Xe.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==u.current.disabled&&(l({type:Xe.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,l]),{active:o,rect:f,isOver:(c==null?void 0:c.id)===r,node:N,over:c,setNodeRef:S}}function Cc(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function WC(e,t){return e.reduce((n,r,a)=>{const i=t.get(r);return i&&(n[a]=i),n},Array(e.length))}function Bo(e){return e!==null&&e>=0}function YC(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function HC(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const nb=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=Cc(t,r,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},Vo={scaleX:1,scaleY:1},sb=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:o}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(a===n){const d=i[o];return d?{x:0,y:n<o?d.top+d.height-(l.top+l.height):d.top-l.top,...Vo}:null}const c=qC(i,a,n);return a>n&&a<=o?{x:0,y:-l.height-c,...Vo}:a<n&&a>=o?{x:0,y:l.height+c,...Vo}:{x:0,y:0,...Vo}};function qC(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];return r?n<t?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const rb="Sortable",ab=Qe.createContext({activeIndex:-1,containerId:rb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:nb,disabled:{draggable:!1,droppable:!1}});function ib(e){let{children:t,id:n,items:r,strategy:a=nb,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=VC(),m=ao(rb,n),f=l.rect!==null,p=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),y=o!=null,v=o?p.indexOf(o.id):-1,j=d?p.indexOf(d.id):-1,x=h.useRef(p),g=!YC(p,x.current),b=j!==-1&&v===-1||g,w=HC(i);$n(()=>{g&&y&&u(p)},[g,p,y,u]),h.useEffect(()=>{x.current=p},[p]);const N=h.useMemo(()=>({activeIndex:v,containerId:m,disabled:w,disableTransforms:b,items:p,overIndex:j,useDragOverlay:f,sortedRects:WC(p,c),strategy:a}),[v,m,w.draggable,w.droppable,b,p,j,c,f,a]);return Qe.createElement(ab.Provider,{value:N},t)}const KC=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return Cc(n,r,a).indexOf(t)},XC=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!r||l!==i&&a===o?!1:n?!0:o!==a&&t===c},QC={duration:200,easing:"ease"},ob="transform",JC=ua.Transition.toString({property:ob,duration:0,easing:"linear"}),ZC={roleDescription:"sortable"};function e3(e){let{disabled:t,index:n,node:r,rect:a}=e;const[i,o]=h.useState(null),l=h.useRef(n);return $n(()=>{if(!t&&n!==l.current&&r.current){const c=a.current;if(c){const d=wa(r.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}n!==l.current&&(l.current=n)},[t,n,r,a]),h.useEffect(()=>{i&&o(null)},[i]),i}function lb(e){let{animateLayoutChanges:t=XC,attributes:n,disabled:r,data:a,getNewIndex:i=KC,id:o,strategy:l,resizeObserverConfig:c,transition:d=QC}=e;const{items:u,containerId:m,activeIndex:f,disabled:p,disableTransforms:y,sortedRects:v,overIndex:j,useDragOverlay:x,strategy:g}=h.useContext(ab),b=t3(r,p),w=u.indexOf(o),N=h.useMemo(()=>({sortable:{containerId:m,index:w,items:u},...a}),[m,a,w,u]),S=h.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:k,node:_,isOver:O,setNodeRef:T}=GC({id:o,data:N,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:C,activatorEvent:D,activeNodeRect:P,attributes:B,setNodeRef:I,listeners:V,isDragging:z,over:R,setActivatorNodeRef:F,transform:E}=BC({id:o,data:N,attributes:{...ZC,...n},disabled:b.draggable}),Y=w_(T,I),H=!!C,Q=H&&!y&&Bo(f)&&Bo(j),X=!x&&z,le=X&&Q?E:null,oe=Q?le??(l??g)({rects:v,activeNodeRect:P,activeIndex:f,overIndex:j,index:w}):null,ne=Bo(f)&&Bo(j)?i({id:o,items:u,activeIndex:f,overIndex:j}):w,je=C==null?void 0:C.id,de=h.useRef({activeId:je,items:u,newIndex:ne,containerId:m}),Xt=u!==de.current.items,Le=t({active:C,containerId:m,isDragging:z,isSorting:H,id:o,index:w,items:u,newIndex:de.current.newIndex,previousItems:de.current.items,previousContainerId:de.current.containerId,transition:d,wasDragging:de.current.activeId!=null}),zt=e3({disabled:!Le,index:w,node:_,rect:k});return h.useEffect(()=>{H&&de.current.newIndex!==ne&&(de.current.newIndex=ne),m!==de.current.containerId&&(de.current.containerId=m),u!==de.current.items&&(de.current.items=u)},[H,ne,m,u]),h.useEffect(()=>{if(je===de.current.activeId)return;if(je!=null&&de.current.activeId==null){de.current.activeId=je;return}const Tt=setTimeout(()=>{de.current.activeId=je},50);return()=>clearTimeout(Tt)},[je]),{active:C,activeIndex:f,attributes:B,data:N,rect:k,index:w,newIndex:ne,items:u,isOver:O,isSorting:H,isDragging:z,listeners:V,node:_,overIndex:j,over:R,setNodeRef:Y,setActivatorNodeRef:F,setDroppableNodeRef:T,setDraggableNodeRef:I,transform:zt??oe,transition:bt()};function bt(){if(zt||Xt&&de.current.newIndex===w)return JC;if(!(X&&!yf(D)||!d)&&(H||Le))return ua.Transition.toString({...d,property:ob})}}function t3(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}ge.Down,ge.Right,ge.Up,ge.Left;const n3=({isOpen:e,onClose:t,onSave:n,existingLines:r})=>{const[a,i]=h.useState("range"),[o,l]=h.useState(""),[c,d]=h.useState(""),u=h.useMemo(()=>{const f=parseInt(o,10),p=parseInt(c,10);if(!o)return null;for(const y of r){if(y.positionType==="rank"&&a==="rank"&&y.start===f)return`Rank ${f} already exists.`;if(y.positionType==="range"&&a==="range"&&f<=p&&Math.max(y.start,f)<=Math.min(y.end,p))return`Range overlaps with existing range ${y.start}-${y.end}.`;if(y.positionType==="percent"&&a==="percent"&&y.start===f)return`Top ${f}% already exists.`}return a==="range"&&o&&c&&f>=p?"Start of range must be smaller than end.":null},[a,o,c,r]);if(!e)return null;const m=()=>{if(u)return;const f={positionType:a,start:parseInt(o,10),end:a==="range"?parseInt(c,10):void 0};n(f),t()};return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-[90] animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Add Reward Line"}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:20})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("select",{value:a,onChange:f=>i(f.target.value),className:"input-base",children:[s.jsx("option",{value:"rank",children:"Single Rank"}),s.jsx("option",{value:"range",children:"Rank Range"}),s.jsx("option",{value:"percent",children:"Top Percentage"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"number",placeholder:a==="percent"?"Top %":"Start",value:o,onChange:f=>l(f.target.value),className:"input-base"}),a==="range"&&s.jsx("input",{type:"number",placeholder:"End",value:c,onChange:f=>d(f.target.value),className:"input-base"})]}),u&&s.jsx("p",{className:"text-xs text-hot-red text-center",children:u})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:t,className:"flex-1 py-2 bg-disabled text-text-secondary rounded-lg font-semibold",children:"Cancel"}),s.jsx("button",{onClick:m,disabled:!!u||!o,className:"flex-1 primary-button py-2",children:"Add Line"})]})]})})},s3=e=>{let t=e.type.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase());return e.tier&&(t+=` (${e.tier.charAt(0).toUpperCase()+e.tier.slice(1)})`),e.value&&(t+=` - ${e.value}`),e.name&&(t+=`: ${e.name}`),t},r3=e=>e.positionType==="rank"?e.start===1?"🥇 1st Place":e.start===2?"🥈 2nd Place":e.start===3?"🥉 3rd Place":`Rank ${e.start}`:e.positionType==="range"?`Ranks ${e.start} - ${e.end}`:e.positionType==="percent"?`Top ${e.start}%`:"Unknown Rank",a3=e=>{if(e.positionType==="rank"){if(e.start===1)return"text-yellow-400";if(e.start===2)return"text-gray-300";if(e.start===3)return"text-orange-400"}return"text-electric-blue"},i3=e=>{const{line:t,onDelete:n,onAddReward:r,onEditReward:a,onDeleteReward:i,onClearLine:o}=e,{attributes:l,listeners:c,setNodeRef:d,transform:u,transition:m}=lb({id:t.id}),f={transform:ua.Transform.toString(u),transition:m};return s.jsxs("div",{ref:d,style:f,className:"bg-deep-navy p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{...l,...c,className:"p-1 text-text-disabled cursor-grab active:cursor-grabbing",children:s.jsx(sv,{size:16})}),s.jsx("p",{className:`font-bold flex-1 ${a3(t)}`,children:r3(t)}),s.jsx("button",{type:"button",onClick:()=>o(t.id),className:"p-1 text-xs text-warm-yellow hover:underline",children:"Clear"}),s.jsx("button",{type:"button",onClick:()=>n(t.id),className:"p-1 text-hot-red hover:bg-hot-red/10 rounded-full",children:s.jsx(hr,{size:14})})]}),s.jsxs("div",{className:"space-y-2 pl-4",children:[t.rewards.map(p=>s.jsxs("div",{className:"flex items-center justify-between bg-navy-accent p-2 rounded",children:[s.jsx("span",{className:"text-xs text-text-secondary capitalize",children:s3(p)}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>a(t.id,p),className:"p-1 text-text-disabled hover:text-electric-blue",children:s.jsx(la,{size:14})}),s.jsx("button",{type:"button",onClick:()=>i(t.id,p.id),className:"p-1 text-text-disabled hover:text-hot-red",children:s.jsx(hr,{size:14})})]})]},p.id)),s.jsx("button",{type:"button",onClick:()=>r(t.id),className:"w-full text-xs text-electric-blue font-semibold p-1 rounded hover:bg-electric-blue/10",children:"+ Add Reward"})]})]})},o3=({rewards:e,onRewardsChange:t,tier:n,format:r,updateBasePack:a,addToast:i})=>{const[o,l]=h.useState([]),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[f,p]=h.useState(null);h.useEffect(()=>{l(e||[])},[e]);const y=Bv(Fv(kc)),v=T=>{const{active:C,over:D}=T;if(C.id!==D.id){const P=o.findIndex(V=>V.id===C.id),B=o.findIndex(V=>V.id===D.id),I=Cc(o,P,B);l(I),t(I)}},j=T=>{const C=o.filter(D=>D.id!==T);l(C),t(C)},x=T=>{const C=o.map(D=>D.id===T?{...D,rewards:[]}:D);l(C),t(C)},g=T=>{p({lineId:T,reward:{id:te(),type:"xp",value:100}}),d(!0)},b=(T,C)=>{p({lineId:T,reward:C}),d(!0)},w=(T,C)=>{const D=o.map(P=>P.id===T?{...P,rewards:P.rewards.filter(B=>B.id!==C)}:P);l(D),t(D)},N=T=>{if(!f)return;const{lineId:C}=f,D=o.map(P=>{if(P.id===C){const B=P.rewards.findIndex(V=>V.id===T.id),I=[...P.rewards];return B>-1?I[B]=T:I.push(T),{...P,rewards:I}}return P});l(D),t(D)},S=()=>{var P;const T=r==="daily"?"matchday":r,C=((P=Rn[n])==null?void 0:P[T])||[],D=JSON.parse(JSON.stringify(C));l(D),t(D),i("Rewards reset to base pack.","info")},k=()=>{a(n,r==="daily"?"matchday":r,o),i(`Base pack for ${n} - ${r} updated!`,"success")},_=T=>{const C={rank:1,range:2,percent:3};return[...T].sort((D,P)=>D.positionType!==P.positionType?C[D.positionType]-C[P.positionType]:D.start-P.start)},O=T=>{const C={...T,id:te(),rewards:[]},D=_([...o,C]);l(D),t(D)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center bg-deep-navy p-2 rounded-lg",children:[s.jsxs("p",{className:"text-xs font-semibold text-text-disabled px-2",children:["Base: ",n," - ",r]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:S,className:"p-2 text-text-secondary hover:bg-white/10 rounded-lg",title:"Reset to Base",children:s.jsx(dv,{size:14})}),s.jsx("button",{type:"button",onClick:k,className:"p-2 text-text-secondary hover:bg-white/10 rounded-lg",title:"Save as Base Pack",children:s.jsx(uv,{size:14})})]})]}),s.jsx(tb,{sensors:y,collisionDetection:Vv,onDragEnd:v,children:s.jsx(ib,{items:o,strategy:sb,children:s.jsx("div",{className:"space-y-3",children:o.map(T=>s.jsx(i3,{line:T,onDelete:j,onAddReward:g,onEditReward:b,onDeleteReward:w,onClearLine:x},T.id))})})}),s.jsxs("button",{type:"button",onClick:()=>m(!0),className:"w-full flex items-center justify-center gap-2 text-sm font-semibold bg-lime-glow/20 text-lime-glow px-3 py-2 rounded-lg hover:bg-lime-glow/30",children:[s.jsx(fr,{size:16})," Add Range / Percent"]}),c&&s.jsx(j_,{isOpen:c,onClose:()=>d(!1),onSave:N,existingReward:f==null?void 0:f.reward}),s.jsx(n3,{isOpen:u,onClose:()=>m(!1),onSave:O,existingLines:o})]})},l3={name:"",description:"",league_id:Zr[0].id,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],game_type:"betting",tier:"rookie",duration_type:"daily",entry_cost:2e3,custom_entry_cost_enabled:!1,is_linkable:!0,reward_tier:"tier1",format:"leaderboard",requires_subscription:!1,minimum_level:"Amateur",required_badges:[],conditions_logic:"and",minimum_players:0,maximum_players:0,rewards:[]},c3=({onCreate:e,onCancel:t,addToast:n})=>{const[r,a]=h.useState(l3),[i,o]=h.useState(!1),{updateBasePack:l}=he();h.useEffect(()=>{var x;if(!r.tier||!r.duration_type)return;const v={daily:"matchday","mini-series":"mini-series",seasonal:"season"}[r.duration_type]||r.duration_type,j=(x=Rn==null?void 0:Rn[r.tier])==null?void 0:x[v];if(j){const g=JSON.parse(JSON.stringify(j));a(b=>({...b,rewards:g}))}else a(g=>({...g,rewards:[]}))},[r.tier,r.duration_type]);const c=h.useMemo(()=>{const y=r.duration_type==="daily"?"matchday":r.duration_type;return sn[r.tier].base*(sn[r.tier].multipliers[y]||1)},[r.tier,r.duration_type]),d=y=>{const{name:v,value:j,type:x}=y.target;let g=j;x==="checkbox"&&(g=y.target.checked),["entry_cost","minimum_players","maximum_players"].includes(v)&&(g=Number(j));const b={...r,[v]:g};if(!b.custom_entry_cost_enabled&&(v==="tier"||v==="duration_type")){const w=b.duration_type==="daily"?"matchday":b.duration_type,N=sn[b.tier].base*(sn[b.tier].multipliers[w]||1);b.entry_cost=N}a(b)},u=y=>{a({...r,required_badges:y})},m=y=>{a({...r,rewards:y})},f=y=>{y.preventDefault(),e(r)},p="input-base text-sm";return s.jsxs("form",{onSubmit:f,className:"card-base p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"text",name:"name",placeholder:"Game Name",value:r.name,onChange:d,className:p,required:!0}),s.jsx("select",{name:"league_id",value:r.league_id,onChange:d,className:p,children:Zr.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))})]}),s.jsx("textarea",{name:"description",placeholder:"Description...",value:r.description,onChange:d,className:`${p} h-20`}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-text-disabled",children:"Start Date"}),s.jsx("input",{type:"date",name:"start_date",value:r.start_date,onChange:d,className:p,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-text-disabled",children:"End Date"}),s.jsx("input",{type:"date",name:"end_date",value:r.end_date,onChange:d,className:p,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsx("select",{name:"game_type",value:r.game_type,onChange:d,className:p,children:["betting","prediction","fantasy"].map(y=>s.jsx("option",{value:y,className:"capitalize",children:y},y))}),s.jsx("select",{name:"tier",value:r.tier,onChange:d,className:p,children:["rookie","pro","elite"].map(y=>s.jsx("option",{value:y,className:"capitalize",children:y},y))}),s.jsxs("select",{name:"duration_type",value:r.duration_type,onChange:d,className:p,children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"mini-series",children:"Mini-Series"}),s.jsx("option",{value:"seasonal",children:"Seasonal"})]})]}),s.jsxs("div",{className:"flex items-end gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-xs text-text-disabled",children:"Entry Cost"}),s.jsx("input",{type:"number",name:"entry_cost",value:r.custom_entry_cost_enabled?r.entry_cost:c,onChange:d,disabled:!r.custom_entry_cost_enabled,className:`${p} disabled:bg-navy-accent`})]}),s.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"custom_entry_cost_enabled",checked:r.custom_entry_cost_enabled,onChange:d,className:"accent-electric-blue"}),"Override"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"number",name:"minimum_players",placeholder:"Min Players (0=none)",value:r.minimum_players||"",onChange:d,className:p}),s.jsx("input",{type:"number",name:"maximum_players",placeholder:"Max Players (0=none)",value:r.maximum_players||"",onChange:d,className:p})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-semibold text-text-secondary",children:"Access Conditions"}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-primary cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"requires_subscription",checked:r.requires_subscription,onChange:d,className:"accent-electric-blue"}),"Subscriber Only"]}),s.jsxs("select",{name:"minimum_level",value:r.minimum_level,onChange:d,className:p,children:[s.jsx("option",{value:"Amateur",children:"Min Level: Amateur"}),s.jsx("option",{value:"Pro",children:"Min Level: Pro"}),s.jsx("option",{value:"Expert",children:"Min Level: Expert"}),s.jsx("option",{value:"Master",children:"Min Level: Master"}),s.jsx("option",{value:"Legend",children:"Min Level: Legend"}),s.jsx("option",{value:"GOAT",children:"Min Level: GOAT"})]}),s.jsx(y_,{options:ff.map(y=>({value:y.id,label:y.name})),selectedValues:r.required_badges,onChange:u,placeholder:"Select required badges..."})]}),s.jsxs("div",{className:"border-t border-disabled/50 pt-4",children:[s.jsxs("button",{type:"button",onClick:()=>o(!i),className:"w-full flex justify-between items-center",children:[s.jsx("h4",{className:"text-sm font-semibold text-text-secondary",children:"Rewards Configuration"}),s.jsx(mn,{className:`transition-transform ${i?"rotate-180":""}`})]}),i&&s.jsx("div",{className:"mt-4",children:s.jsx(o3,{rewards:r.rewards||[],onRewardsChange:m,tier:r.tier,format:r.duration_type,updateBasePack:l,addToast:n})})]}),s.jsxs("div",{className:"flex gap-3 pt-3",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2 bg-disabled text-text-secondary rounded-lg font-semibold",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 primary-button py-2",children:"Create Game"})]})]})},d3=e=>{const{games:t,onCreateGame:n,onProcessChallengeStart:r,addToast:a,updateBasePack:i,onCelebrate:o}=e,[l,c]=h.useState(!1),d=t.filter(f=>f.status==="Upcoming"),u=t.filter(f=>f.status!=="Upcoming"),m=f=>{n(f),c(!1),a("Game created successfully!","success")};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"font-bold text-lg text-electric-blue",children:"Manage Games"}),s.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 text-sm font-semibold bg-lime-glow/20 text-lime-glow px-4 py-3 rounded-lg hover:bg-lime-glow/30",children:[s.jsx(fr,{size:16})," ",l?"Close Form":"Create New Game"]})]}),l&&s.jsx(c3,{onCreate:m,onCancel:()=>c(!1),addToast:a}),d.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-md font-semibold text-text-secondary",children:"Upcoming"}),d.map(f=>s.jsxs("div",{className:"card-base p-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-text-primary",children:f.name}),s.jsxs("p",{className:"text-xs text-text-disabled",children:["Min Players: ",f.minimum_players||"N/A",", Current: ",f.participants.length]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[f.duration_type==="seasonal"&&s.jsx("button",{onClick:()=>o(f),className:"p-2 text-warm-yellow hover:bg-warm-yellow/10 rounded-lg",title:"Celebrate Winners",children:s.jsx(Ne,{size:16})}),s.jsx("button",{onClick:()=>a("Edit coming soon!","info"),className:"p-2 text-text-secondary hover:bg-white/10 rounded-lg",title:"Edit Game",children:s.jsx(la,{size:16})}),s.jsxs("button",{onClick:()=>r(f.id),className:"flex items-center gap-2 text-sm font-semibold bg-lime-glow/20 text-lime-glow px-3 py-2 rounded-lg hover:bg-lime-glow/30",children:[s.jsx(cv,{size:16})," Start"]})]})]},f.id))]}),u.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-md font-semibold text-text-secondary",children:"Active/Finished"}),u.map(f=>s.jsxs("div",{className:`card-base p-3 flex items-center justify-between opacity-70 ${f.status==="Cancelled"?"bg-hot-red/10":""}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-text-primary",children:f.name}),s.jsxs("p",{className:`text-xs font-bold ${f.status==="Cancelled"?"text-hot-red":"text-text-disabled"}`,children:["Status: ",f.status]})]}),f.duration_type==="seasonal"&&s.jsx("button",{onClick:()=>o(f),className:"p-2 text-warm-yellow hover:bg-warm-yellow/10 rounded-lg",title:"Celebrate Winners",children:s.jsx(Ne,{size:16})})]},f.id))]}),t.length===0&&!l&&s.jsx("p",{className:"text-center text-text-disabled py-4",children:"No games have been created yet."})]})},u3=({level:e,onSubmit:t,onCancel:n})=>{const[r,a]=h.useState({level_name:(e==null?void 0:e.level_name)||"",min_xp:(e==null?void 0:e.min_xp)||0,max_xp:(e==null?void 0:e.max_xp)||0,level_icon_url:(e==null?void 0:e.level_icon_url)||""}),i=c=>{const{name:d,value:u}=c.target;a(m=>({...m,[d]:d.includes("xp")?parseInt(u)||0:u}))},o=c=>{c.preventDefault(),t(e?{...e,...r}:r)},l="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors";return s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsx("input",{name:"level_name",value:r.level_name,onChange:i,placeholder:"Level Name",className:l,required:!0}),s.jsx("input",{name:"level_icon_url",value:r.level_icon_url,onChange:i,placeholder:"Icon (Emoji or URL)",className:l,required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("input",{type:"number",name:"min_xp",value:r.min_xp,onChange:i,placeholder:"Min XP",className:l,required:!0}),s.jsx("input",{type:"number",name:"max_xp",value:r.max_xp,onChange:i,placeholder:"Max XP",className:l,required:!0})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:n,className:"flex-1 py-3 bg-gray-200 rounded-xl font-semibold",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 py-3 bg-purple-600 text-white rounded-xl font-semibold",children:"Save Level"})]})]})},m3=({badge:e,onSubmit:t,onCancel:n})=>{const r=["correct_predictions","high_odds","streak","early_participation","loyalty","risk_averse"],[a,i]=h.useState(e&&Object.keys(e.condition_value)[0]||"count"),[o,l]=h.useState(e&&e.condition_value[Object.keys(e.condition_value)[0]]||""),[c,d]=h.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",icon_url:(e==null?void 0:e.icon_url)||"",condition_type:(e==null?void 0:e.condition_type)||r[0]}),u=p=>{d(y=>({...y,[p.target.name]:p.target.value}))},m=p=>{p.preventDefault();const y={...c,condition_value:{[a]:isNaN(Number(o))?o:Number(o)}};t(e?{...e,...y}:y)},f="w-full p-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors";return s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsx("input",{name:"name",value:c.name,onChange:u,placeholder:"Badge Name",className:f,required:!0}),s.jsx("input",{name:"icon_url",value:c.icon_url,onChange:u,placeholder:"Icon (Emoji or URL)",className:f,required:!0}),s.jsx("textarea",{name:"description",value:c.description,onChange:u,placeholder:"Description",className:`${f} h-24`,required:!0}),s.jsx("select",{name:"condition_type",value:c.condition_type,onChange:u,className:f,children:r.map(p=>s.jsx("option",{value:p,children:p},p))}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{value:a,onChange:p=>i(p.target.value),placeholder:"Condition Key",className:f}),s.jsx("input",{value:o,onChange:p=>l(p.target.value),placeholder:"Condition Value",className:f})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:n,className:"flex-1 py-3 bg-gray-200 rounded-xl font-semibold",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 py-3 bg-purple-600 text-white rounded-xl font-semibold",children:"Save Badge"})]})]})},f3=e=>{const[t,n]=h.useState({type:"main"}),r=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Manage Levels"}),s.jsxs("button",{onClick:()=>n({type:"level-form"}),className:"flex items-center gap-2 text-sm font-semibold bg-purple-100 text-purple-700 px-3 py-2 rounded-lg hover:bg-purple-200",children:[s.jsx(fr,{})," Add New"]})]}),s.jsx("div",{className:"space-y-2",children:e.levels.map(i=>s.jsxs("div",{className:"flex items-center bg-gray-50 p-3 rounded-lg",children:[s.jsx("span",{className:"text-xl mr-3",children:i.level_icon_url}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:i.level_name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["XP: ",i.min_xp," - ",i.max_xp]})]}),s.jsx("button",{onClick:()=>n({type:"level-form",level:i}),className:"p-2 hover:bg-gray-200 rounded-full",children:s.jsx(la,{size:16})}),s.jsx("button",{onClick:()=>e.onDeleteLevel(i.id),className:"p-2 hover:bg-red-100 rounded-full text-red-500",children:s.jsx(hr,{size:16})})]},i.id))})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Manage Badges"}),s.jsxs("button",{onClick:()=>n({type:"badge-form"}),className:"flex items-center gap-2 text-sm font-semibold bg-purple-100 text-purple-700 px-3 py-2 rounded-lg hover:bg-purple-200",children:[s.jsx(fr,{})," Add New"]})]}),s.jsx("div",{className:"space-y-2",children:e.badges.map(i=>s.jsxs("div",{className:"flex items-center bg-gray-50 p-3 rounded-lg",children:[s.jsx("span",{className:"text-2xl mr-4",children:i.icon_url}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:i.name}),s.jsx("p",{className:"text-xs text-gray-500",children:i.description})]}),s.jsx("button",{onClick:()=>n({type:"badge-form",badge:i}),className:"p-2 hover:bg-gray-200 rounded-full",children:s.jsx(la,{size:16})}),s.jsx("button",{onClick:()=>e.onDeleteBadge(i.id),className:"p-2 hover:bg-red-100 rounded-full text-red-500",children:s.jsx(hr,{size:16})})]},i.id))})]})]}),a=()=>{if(t.type==="main")return null;const i=t.type==="level-form",o=`${i?t.level?"Edit":"Add":t.badge?"Edit":"Add"} ${i?"Level":"Badge"}`;return s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>n({type:"main"}),className:"p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Ve,{})}),s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:o})]}),i?s.jsx(u3,{level:t.level,onSubmit:l=>{"id"in l?e.onUpdateLevel(l):e.onAddLevel(l),n({type:"main"})},onCancel:()=>n({type:"main"})}):s.jsx(m3,{badge:t.badge,onSubmit:l=>{"id"in l?e.onUpdateBadge(l):e.onAddBadge(l),n({type:"main"})},onCancel:()=>n({type:"main"})})]})};return t.type==="main"?r():a()},p3=({addToast:e})=>{const[t,n]=h.useState(null),[r,a]=h.useState([]),[i,o]=h.useState("39, 140, 135"),[l,c]=h.useState("2023"),[d,u]=h.useState([]),m=h.useCallback(async()=>{},[e]);return h.useEffect(()=>{m()},[m]),s.jsxs("div",{className:"card-base p-5 space-y-4 text-center opacity-50",children:[s.jsx(nv,{className:"w-10 h-10 mx-auto text-text-disabled"}),s.jsx("h3",{className:"font-bold text-lg text-text-secondary",children:"Data Sync Disabled"}),s.jsxs("p",{className:"text-sm text-text-disabled",children:["Supabase is not configured. Please set ",s.jsx("code",{children:"USE_SUPABASE"})," to ",s.jsx("code",{children:"true"})," in ",s.jsx("code",{children:"src/config/env.ts"})," and provide credentials in ",s.jsx("code",{children:".env"})," to enable this feature."]})]})},h3=({label:e,description:t,isTestMode:n,onToggle:r})=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg flex items-start gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:e}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t})]}),s.jsx("div",{onClick:()=>r(!n),className:`relative w-12 h-7 rounded-full cursor-pointer transition-colors duration-300 ${n?"bg-purple-600":"bg-gray-300"}`,children:s.jsx("span",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-300 ${n?"translate-x-5":"translate-x-0"}`})})]}),x3=({isOpen:e,onClose:t,game:n,onConfirm:r})=>{const{allUsers:a,leaderboardScores:i}=he(),[o,l]=h.useState(!1),[c,d]=h.useState("30d"),[u,m]=h.useState(De(pe(new Date,30),"yyyy-MM-dd")),[f,p]=h.useState(De(new Date,"yyyy-MM-dd")),[y,v]=h.useState(10),[j,x]=h.useState("coins"),[g,b]=h.useState(1e3),[w,N]=h.useState("rookie"),[S,k]=h.useState(""),_=h.useMemo(()=>{let C=new Date,D=new Date;return c==="7d"?D=pe(C,7):c==="30d"?D=pe(C,30):(D=new Date(u),C=new Date(f)),{start:D.toISOString(),end:C.toISOString()}},[c,u,f]),O=h.useMemo(()=>{if(!n.gameWeeks)return[];const C=new Date(_.start),D=new Date(_.end),P=n.gameWeeks.filter(V=>{const z=new Date(V.startDate);return z>=C&&z<=D}),B=new Set(P.map(V=>V.id));return a.map(V=>{var F;let z=0;const R=(F=i[n.id])==null?void 0:F[V.id];if(R)for(const E in R)B.has(E)&&(z+=R[E]);return{userId:V.id,username:V.username||`User ${V.id.slice(0,4)}`,score:z}}).sort((V,z)=>z.score-V.score).slice(0,y)},[n,a,i,_,y]);if(h.useEffect(()=>{let C="";c==="7d"&&(C="last 7 days"),c==="30d"&&(C="last 30 days"),c==="custom"&&(C=`period of ${De(new Date(u),"MMM d")} - ${De(new Date(f),"MMM d")}`),k(`🎉 Congratulations to the top players for the ${C}!`)},[c,u,f]),!e)return null;const T=()=>{l(!0);const C={id:"",type:j,value:j!=="ticket"?g:void 0,tier:j==="ticket"?w:void 0};r(n.id,_,y,C,S),l(!1)};return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-[80] animate-scale-in",children:s.jsxs("div",{className:"modal-base w-full max-w-lg h-auto max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-disabled",children:[s.jsxs("h2",{className:"text-xl font-bold text-text-primary flex items-center gap-2",children:[s.jsx(Ne,{size:20,className:"text-warm-yellow"})," Celebrate Seasonal Winners"]}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[s.jsxs("p",{className:"text-center text-text-secondary",children:["For game: ",s.jsx("b",{className:"text-text-primary",children:n.name})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold text-text-secondary",children:"Filters"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("select",{value:c,onChange:C=>d(C.target.value),className:"input-base text-sm",children:[s.jsx("option",{value:"7d",children:"Last 7 Days"}),s.jsx("option",{value:"30d",children:"Last 30 Days"}),s.jsx("option",{value:"custom",children:"Custom Range"})]}),s.jsx("input",{type:"number",value:y,onChange:C=>v(Number(C.target.value)),placeholder:"Top N",className:"input-base text-sm"})]}),c==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 animate-scale-in",children:[s.jsx("input",{type:"date",value:u,onChange:C=>m(C.target.value),className:"input-base text-sm"}),s.jsx("input",{type:"date",value:f,onChange:C=>p(C.target.value),className:"input-base text-sm"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold text-text-secondary",children:"Rewards"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("select",{value:j,onChange:C=>x(C.target.value),className:"input-base text-sm",children:[s.jsx("option",{value:"coins",children:"Coins"}),s.jsx("option",{value:"xp",children:"XP"}),s.jsx("option",{value:"ticket",children:"Ticket"})]}),j==="ticket"?s.jsxs("select",{value:w,onChange:C=>N(C.target.value),className:"input-base text-sm",children:[s.jsx("option",{value:"rookie",children:"Rookie"}),s.jsx("option",{value:"pro",children:"Pro"}),s.jsx("option",{value:"elite",children:"Elite"})]}):s.jsx("input",{type:"number",value:g,onChange:C=>b(Number(C.target.value)),placeholder:"Amount",className:"input-base text-sm"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-text-secondary",children:"Announcement Message"}),s.jsx("textarea",{value:S,onChange:C=>k(C.target.value),className:"input-base h-24 text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-semibold text-text-secondary",children:["Winners Preview (",O.length,")"]}),s.jsx("div",{className:"bg-deep-navy/50 p-2 rounded-lg max-h-40 overflow-y-auto space-y-1",children:O.length>0?O.map((C,D)=>s.jsxs("div",{className:"flex justify-between items-center text-sm p-1",children:[s.jsxs("p",{children:[s.jsxs("span",{className:"font-bold text-text-disabled mr-2",children:[D+1,"."]}),C.username]}),s.jsxs("p",{className:"font-semibold text-warm-yellow",children:[C.score.toLocaleString()," pts"]})]},C.userId)):s.jsx("p",{className:"text-center text-sm text-text-disabled p-4",children:"No players found for this period."})})]})]}),s.jsx("div",{className:"p-4 border-t border-disabled",children:s.jsxs("button",{onClick:T,disabled:o||O.length===0,className:"w-full primary-button flex items-center justify-center gap-2",children:[o?s.jsx(vt,{className:"animate-spin"}):s.jsx(we,{}),"Confirm & Announce"]})})]})})},g3=({celebrations:e})=>e.length===0?s.jsxs("div",{className:"card-base p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🤫"}),s.jsx("p",{className:"text-text-secondary font-medium",children:"The celebration feed is empty."}),s.jsx("p",{className:"text-sm text-text-disabled mt-2",children:"Celebrate some winners for a seasonal game to see events here!"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"font-bold text-lg text-electric-blue",children:"Celebration Feed"}),e.map(t=>s.jsxs("div",{className:"card-base p-4 space-y-3",children:[s.jsxs("div",{className:"border-b border-disabled pb-3",children:[s.jsx("p",{className:"text-xs text-text-disabled",children:De(se(t.createdAt),"MMM d, yyyy")}),s.jsx("h3",{className:"font-bold text-text-primary",children:t.gameName}),s.jsxs("p",{className:"text-sm text-text-secondary italic",children:['"',t.message,'"']})]}),s.jsx("div",{className:"space-y-2",children:t.topPlayers.map(n=>s.jsxs("div",{className:"flex items-center justify-between bg-deep-navy p-2 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-bold text-text-disabled w-6",children:[n.rank,"."]}),s.jsx("p",{className:"font-semibold text-text-primary",children:n.username})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold text-lime-glow bg-lime-glow/10 px-2 py-1 rounded-md",children:[s.jsx(we,{size:14}),s.jsx("span",{children:n.reward.type==="ticket"?`${n.reward.tier} Ticket`:`${n.reward.value} ${n.reward.type}`})]})]},n.userId))})]},t.id))]}),y3=({profile:e,addToast:t})=>{const{games:n,createGame:r,processChallengeStart:a,levels:i,badges:o,isTestMode:l,setTestMode:c,resetTestUsers:d,setCoinBalance:u,openOnboardingTest:m,updateBasePack:f,updateGameRewards:p,celebrations:y,celebrateSeasonalWinners:v}=he(k=>({games:k.games,createGame:k.createGame,processChallengeStart:k.processChallengeStart,levels:k.levels,badges:k.badges,isTestMode:k.isTestMode,setTestMode:k.setTestMode,resetTestUsers:k.resetTestUsers,setCoinBalance:k.setCoinBalance,openOnboardingTest:k.openOnboardingTest,updateBasePack:k.updateBasePack,updateGameRewards:k.updateGameRewards,celebrations:k.celebrations,celebrateSeasonalWinners:k.celebrateSeasonalWinners})),[j,x]=h.useState("challenges"),[g,b]=h.useState(null),w=k=>{const _=a(k);t(_.message,_.success?"success":"error")},N=(k,_,O,T,C)=>{v(k,_,O,T,C),t("Seasonal winners celebrated successfully!","success"),b(null)},S=({section:k,icon:_,label:O})=>s.jsxs("button",{onClick:()=>x(k),className:`flex-1 flex items-center justify-center gap-2 p-2 rounded-lg font-semibold transition-all text-xs ${j===k?"bg-electric-blue text-white shadow":"text-text-secondary"}`,children:[_," ",O]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-5 bg-navy-accent rounded-xl p-1 gap-1",children:[s.jsx(S,{section:"challenges",icon:s.jsx(pn,{size:16}),label:"Games"}),s.jsx(S,{section:"feed",icon:s.jsx(lv,{size:16}),label:"Feed"}),s.jsx(S,{section:"progression",icon:s.jsx(Vs,{size:16}),label:"Progression"}),s.jsx(S,{section:"datasync",icon:s.jsx(nv,{size:16}),label:"Data Sync"}),s.jsx(S,{section:"developer",icon:s.jsx(IN,{size:16}),label:"Dev"})]}),j==="challenges"&&s.jsx("div",{className:"animate-scale-in",children:s.jsx(d3,{games:n,onCreateGame:r,onProcessChallengeStart:w,addToast:t,updateBasePack:f,updateGameRewards:p,onCelebrate:b})}),j==="feed"&&s.jsx("div",{className:"animate-scale-in",children:s.jsx(g3,{celebrations:y})}),j==="progression"&&s.jsx("div",{className:"animate-scale-in",children:s.jsx(f3,{levels:i,badges:o,onAddLevel:()=>t("This feature is not implemented in mock mode.","info"),onUpdateLevel:()=>t("This feature is not implemented in mock mode.","info"),onDeleteLevel:()=>t("This feature is not implemented in mock mode.","info"),onAddBadge:()=>t("This feature is not implemented in mock mode.","info"),onUpdateBadge:()=>t("This feature is not implemented in mock mode.","info"),onDeleteBadge:()=>t("This feature is not implemented in mock mode.","info")})}),j==="datasync"&&s.jsx("div",{className:"animate-scale-in",children:s.jsx(p3,{addToast:t})}),j==="developer"&&s.jsx("div",{className:"animate-scale-in space-y-6",children:s.jsxs("div",{className:"card-base p-5 space-y-4",children:[s.jsx("h3",{className:"font-bold text-lg text-text-primary",children:"Developer Options"}),s.jsx(h3,{label:"Enable Test Mode",description:"Bypasses email verification for faster testing of the sign-up flow.",isTestMode:l,onToggle:c}),s.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center gap-2 py-3 bg-electric-blue/20 text-electric-blue rounded-xl font-semibold hover:bg-electric-blue/30 transition-colors",children:[s.jsx(cv,{size:16})," Test Onboarding Flow"]}),s.jsxs("button",{onClick:()=>{e?(u(e.id,(e.coins_balance||0)+5e4),t("Added 50,000 coins!","success")):t("No active profile to add coins to.","error")},className:"w-full flex items-center justify-center gap-2 py-3 bg-lime-glow/20 text-lime-glow rounded-xl font-semibold hover:bg-lime-glow/30 transition-colors",children:[s.jsx(_t,{size:16})," Add 50,000 Coins"]}),s.jsxs("button",{onClick:()=>{d(),t("Test users have been reset to their default state.","success")},className:"w-full flex items-center justify-center gap-2 py-3 bg-hot-red/20 text-hot-red rounded-xl font-semibold hover:bg-hot-red/30 transition-colors",children:[s.jsx(hr,{size:16})," Reset All Test Users"]})]})}),g&&s.jsx(x3,{isOpen:!!g,onClose:()=>b(null),game:g,onConfirm:N})]})},v3={betting:{tag:"Betting",color:"bg-electric-blue/20 text-electric-blue"},prediction:{tag:"Prediction",color:"bg-neon-cyan/20 text-neon-cyan"},fantasy:{tag:"Fantasy",color:"bg-lime-glow/20 text-lime-glow"},"fantasy-live":{tag:"Fantasy Live",color:"bg-purple-600/20 text-purple-400"}},b3={rookie:{label:"Rookie",color:"bg-lime-glow/20 text-lime-glow"},pro:{label:"Pro",color:"bg-warm-yellow/20 text-warm-yellow"},elite:{label:"Elite",color:"bg-hot-red/20 text-hot-red"}},j3=({game:e,ctaState:t,onJoinClick:n,onPlay:r,onShowRewards:a,onShowRules:i,profile:o,userTickets:l})=>{const c=v3[e.game_type],d=e.tier?b3[e.tier]:null,{hasTicket:u,hasEnoughCoins:m}=h.useMemo(()=>o?{hasTicket:!!l.find(S=>S.user_id===o.id&&S.type===e.tier&&!S.is_used&&kn(new Date,se(S.expires_at))),hasEnoughCoins:o.coins_balance>=e.entry_cost}:{hasTicket:!1,hasEnoughCoins:!1},[o,l,e]),f=()=>!u&&!m?s.jsx(s.Fragment,{children:"Not enough funds"}):u&&!m?s.jsxs(s.Fragment,{children:[s.jsx(pr,{size:16,className:"text-lime-glow"})," Join with Ticket"]}):!u&&m?s.jsxs(s.Fragment,{children:[s.jsx(_t,{size:16,className:"text-warm-yellow"})," Join (",e.entry_cost.toLocaleString(),")"]}):s.jsx(s.Fragment,{children:"Choose Entry"}),p=e.status==="Cancelled",y=t==="JOIN"&&!u&&!m,v=t==="IN_PROGRESS",x={JOIN:{onClick:n,disabled:y,style:"primary",content:f()},PLAY:{text:e.game_type==="betting"?"Place Bets":"Make Picks",onClick:r,disabled:!1,style:"primary",icon:s.jsx(Jr,{size:16})},SUBMITTED:{text:e.game_type==="betting"?"Bets Submitted":"Picks Submitted",onClick:r,disabled:!1,style:"secondary",icon:s.jsx(Vn,{size:16})},AWAITING:{text:"Matches Awaiting",onClick:()=>{},disabled:!0,style:"disabled",icon:s.jsx(Xi,{size:16})},RESULTS:{text:"View Results",onClick:r,disabled:!1,style:"primary",icon:s.jsx(Jr,{size:16})},VIEW_TEAM:{text:"View Team",onClick:r,disabled:!1,style:"primary",icon:s.jsx(Jr,{size:16})},NOTIFY:{text:"Notify Me",onClick:()=>alert("Notification set!"),disabled:!1,style:"secondary",icon:s.jsx(nf,{size:16})},IN_PROGRESS:{text:"In Progress",onClick:()=>{},disabled:!0,style:"disabled",icon:s.jsx(Gn,{size:16})}}[t],g={primary:"primary-button text-sm py-2 px-4",secondary:"bg-transparent border-2 border-warm-yellow/50 text-warm-yellow hover:bg-warm-yellow/10 text-sm py-2 px-4 rounded-lg",disabled:"bg-disabled text-text-disabled cursor-not-allowed text-sm py-2 px-4 rounded-lg"},b=[e.requires_subscription&&s.jsx(Vs,{size:14,title:"Subscriber only"},"sub"),e.minimum_level!=="Amateur"&&s.jsx(Ne,{size:14,title:`Level ${e.minimum_level}+`},"level"),e.required_badges&&e.required_badges.length>0&&s.jsx(Un,{size:14,title:`Requires ${e.required_badges.length} badge(s)`},"badge")].filter(Boolean),w=h.useMemo(()=>e.status!=="Upcoming"?null:kv(se(e.start_date),{addSuffix:!0,unit:"day"}),[e.start_date,e.status]);return s.jsxs("div",{className:`card-base p-4 space-y-3 transition-all hover:border-neon-cyan/50 ${p||v?"opacity-60":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-md font-bold text-text-primary pr-2",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c&&s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${c.color}`,children:c.tag}),d&&s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${d.color}`,children:d.label}),b.length>0&&s.jsx("div",{className:"flex items-center gap-1 text-warm-yellow",title:"Access conditions apply",children:b})]})]}),s.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full whitespace-nowrap ${p?"bg-hot-red/20 text-hot-red":e.status==="Upcoming"?"bg-electric-blue/20 text-electric-blue":e.status==="Ongoing"?"bg-lime-glow/20 text-lime-glow":"bg-disabled text-text-disabled"}`,children:e.status})]}),p&&s.jsx("div",{className:"text-center text-hot-red font-semibold text-sm border-t border-white/10 pt-3",children:"Your entry has been refunded."}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-text-secondary border-t border-white/10 pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gc,{size:14}),s.jsxs("span",{children:[e.start_date?De(se(e.start_date),"MMM d"):"TBD"," - ",e.end_date?De(se(e.end_date),"MMM d"):"TBD"]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(rt,{size:14}),s.jsxs("span",{children:[e.totalPlayers.toLocaleString()," players"]})]})]}),s.jsxs("div",{className:`flex items-center justify-between border-t border-white/10 pt-3 gap-2 ${p?"hidden":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[e.rewards&&e.rewards.length>0&&s.jsx("button",{onClick:a,className:"flex items-center justify-center p-2 rounded-lg transition-all bg-navy-accent text-text-secondary hover:bg-white/10",title:"View Rewards",children:s.jsx(we,{size:20})}),s.jsx("button",{onClick:i,className:"flex items-center justify-center p-2 rounded-lg transition-all bg-navy-accent text-text-secondary hover:bg-white/10",title:"View Rules",children:s.jsx(Ji,{size:20})})]}),s.jsxs("div",{className:"flex-1 flex justify-end items-center gap-2",children:[w&&t==="NOTIFY"&&s.jsx("span",{className:"text-xs text-text-disabled font-semibold",children:w}),s.jsx("button",{onClick:x.onClick,disabled:x.disabled,className:`flex items-center justify-center gap-2 font-bold rounded-lg transition-all ${g[x.style]}`,children:t==="JOIN"?x.content:s.jsxs(s.Fragment,{children:[s.jsx("span",{children:x.text}),x.icon]})})]})]})]})},w3=({type:e,tier:t})=>{const n={size:20,className:"text-warm-yellow"};switch(e){case"ticket":return s.jsx(pr,{...n});case"spin":return s.jsx(we,{...n});case"xp":return s.jsx(Vs,{...n});case"masterpass":return s.jsx(to,{...n});case"custom":return s.jsx(Un,{...n});default:return s.jsx(we,{...n})}},N3=e=>e.positionType==="rank"?e.start===1?"🥇 1st Place":e.start===2?"🥈 2nd Place":e.start===3?"🥉 3rd Place":`Rank ${e.start}`:e.positionType==="range"?`Ranks ${e.start} - ${e.end}`:e.positionType==="percent"?`Top ${e.start}%`:"Unknown Rank",k3=({isOpen:e,onClose:t,game:n})=>{if(!e)return null;const r=a=>{let i=a.type.replace("_"," ");return a.tier&&(i+=` (${a.tier})`),a.value&&(i+=` - ${a.value}`),a.name&&(i+=`: ${a.name}`),i};return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-[70] animate-scale-in",children:s.jsxs("div",{className:"modal-base w-full max-w-md h-auto max-h-[80vh] flex flex-col p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-text-primary flex items-center gap-2",children:[s.jsx(we,{className:"text-warm-yellow"})," Prize Pool"]}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsx("p",{className:"text-center text-sm text-text-secondary -mt-2 mb-4",children:n.name}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:n.rewards.map(a=>s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-electric-blue mb-2",children:N3(a)}),s.jsx("div",{className:"space-y-2",children:a.rewards.map(i=>s.jsxs("div",{className:"bg-deep-navy p-3 rounded-lg flex items-center gap-3",children:[s.jsx(w3,{type:i.type,tier:i.tier}),s.jsx("p",{className:"text-sm font-semibold text-text-primary capitalize",children:r(i)})]},i.id))})]},a.id))})]})})},cb=({isOpen:e,onClose:t})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:s.jsx(vr,{className:"w-6 h-6 text-purple-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Challenge Rules"})]}),s.jsxs("div",{className:"space-y-4 text-gray-600 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"1. Join the Challenge:"})," Pay the entry cost to receive your starting challenge balance."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"2. Place Your Bets:"})," You must allocate your entire challenge balance across the available matches before the first match begins."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"3. Bets are Locked:"})," Once the challenge status becomes 'Ongoing', you cannot change your bets."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"4. Calculate Winnings:"})," As matches finish, your winnings are calculated based on your predictions and the odds."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"5. The Winner:"})," The player with the highest final coin balance at the end of the challenge wins the top spot on the leaderboard!"]})]}),s.jsx("button",{onClick:t,className:"w-full py-3 mt-4 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-colors",children:"Got it!"})]})}):null,wf=h.createContext({});function io(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Mc=h.createContext(null),Tc=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class S3 extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function _3({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),a=h.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=h.useContext(Tc);return h.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=a.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),s.jsx(S3,{isPresent:t,childRef:r,sizeRef:a,children:h.cloneElement(e,{ref:r})})}const C3=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=io(M3),c=h.useId(),d=h.useCallback(m=>{l.set(m,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:a,onExitComplete:d,register:m=>(l.set(m,!1),()=>l.delete(m))}),i?[Math.random(),d]:[n,d]);return h.useMemo(()=>{l.forEach((m,f)=>l.set(f,!1))},[n]),h.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=s.jsx(_3,{isPresent:n,children:e})),s.jsx(Mc.Provider,{value:u,children:e})};function M3(){return new Map}function db(e=!0){const t=h.useContext(Mc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=h.useId();h.useEffect(()=>{e&&a(i)},[e]);const o=h.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const $o=e=>e.key||"";function lx(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const Nf=typeof window<"u",kf=Nf?h.useLayoutEffect:h.useEffect,$e=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=db(o),d=h.useMemo(()=>lx(e),[e]),u=o&&!l?[]:d.map($o),m=h.useRef(!0),f=h.useRef(d),p=io(()=>new Map),[y,v]=h.useState(d),[j,x]=h.useState(d);kf(()=>{m.current=!1,f.current=d;for(let w=0;w<j.length;w++){const N=$o(j[w]);u.includes(N)?p.delete(N):p.get(N)!==!0&&p.set(N,!1)}},[j,u.length,u.join("-")]);const g=[];if(d!==y){let w=[...d];for(let N=0;N<j.length;N++){const S=j[N],k=$o(S);u.includes(k)||(w.splice(N,0,S),g.push(S))}i==="wait"&&g.length&&(w=g),x(lx(w)),v(d);return}const{forceRender:b}=h.useContext(wf);return s.jsx(s.Fragment,{children:j.map(w=>{const N=$o(w),S=o&&!l?!1:d===j||u.includes(N),k=()=>{if(p.has(N))p.set(N,!0);else return;let _=!0;p.forEach(O=>{O||(_=!1)}),_&&(b==null||b(),x(f.current),o&&(c==null||c()),r&&r())};return s.jsx(C3,{isPresent:S,initial:!m.current||n?void 0:!1,custom:S?void 0:t,presenceAffectsLayout:a,mode:i,onExitComplete:S?void 0:k,children:w},N)})})},Gt=e=>e;let ub=Gt;function Sf(e){let t;return()=>(t===void 0&&(t=e()),t)}const ma=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Zn=e=>e*1e3,es=e=>e/1e3,T3={useManualTiming:!1};function P3(e){let t=new Set,n=new Set,r=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,m=!1)=>{const p=m&&r?t:n;return u&&i.add(d),p.has(d)||p.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,r){a=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,a&&(a=!1,c.process(d))}};return c}const Uo=["read","resolveKeyframes","update","preRender","render","postRender"],D3=40;function mb(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Uo.reduce((x,g)=>(x[g]=P3(i),x),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:m,postRender:f}=o,p=()=>{const x=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(x-a.timestamp,D3),1),a.timestamp=x,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),m.process(a),f.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(p))},y=()=>{n=!0,r=!0,a.isProcessing||e(p)};return{schedule:Uo.reduce((x,g)=>{const b=o[g];return x[g]=(w,N=!1,S=!1)=>(n||y(),b.schedule(w,N,S)),x},{}),cancel:x=>{for(let g=0;g<Uo.length;g++)o[Uo[g]].cancel(x)},state:a,steps:o}}const{schedule:Se,cancel:as,state:ot,steps:Md}=mb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0),fb=h.createContext({strict:!1}),cx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fa={};for(const e in cx)fa[e]={isEnabled:t=>cx[e].some(n=>!!t[n])};function L3(e){for(const t in e)fa[t]={...fa[t],...e[t]}}const A3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||A3.has(e)}let pb=e=>!Hl(e);function E3(e){e&&(pb=t=>t.startsWith("on")?!Hl(t):e(t))}try{E3(require("@emotion/is-prop-valid").default)}catch{}function I3(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(pb(a)||n===!0&&Hl(a)||!t&&!Hl(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function R3(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Pc=h.createContext({});function Bi(e){return typeof e=="string"||Array.isArray(e)}function Dc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const _f=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cf=["initial",..._f];function Lc(e){return Dc(e.animate)||Cf.some(t=>Bi(e[t]))}function hb(e){return!!(Lc(e)||e.variants)}function O3(e,t){if(Lc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Bi(n)?n:void 0,animate:Bi(r)?r:void 0}}return e.inherit!==!1?t:{}}function z3(e){const{initial:t,animate:n}=O3(e,h.useContext(Pc));return h.useMemo(()=>({initial:t,animate:n}),[dx(t),dx(n)])}function dx(e){return Array.isArray(e)?e.join(" "):e}const F3=Symbol.for("motionComponentSymbol");function Vr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function B3(e,t,n){return h.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Vr(n)&&(n.current=r))},[t])}const Mf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V3="framerAppearId",xb="data-"+Mf(V3),{schedule:Tf}=mb(queueMicrotask,!1),gb=h.createContext({});function $3(e,t,n,r,a){var i,o;const{visualElement:l}=h.useContext(Pc),c=h.useContext(fb),d=h.useContext(Mc),u=h.useContext(Tc).reducedMotion,m=h.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=m.current,p=h.useContext(gb);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&U3(m.current,n,a,p);const y=h.useRef(!1);h.useInsertionEffect(()=>{f&&y.current&&f.update(n,d)});const v=n[xb],j=h.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return kf(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Tf.render(f.render),j.current&&f.animationState&&f.animationState.animateChanges())}),h.useEffect(()=>{f&&(!j.current&&f.animationState&&f.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,v)}),j.current=!1))}),f}function U3(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:yb(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Vr(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function yb(e){if(e)return e.options.allowProjection!==!1?e.projection:yb(e.parent)}function G3({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){var i,o;e&&L3(e);function l(d,u){let m;const f={...h.useContext(Tc),...d,layoutId:W3(d)},{isStatic:p}=f,y=z3(d),v=r(d,p);if(!p&&Nf){Y3();const j=H3(f);m=j.MeasureLayout,y.visualElement=$3(a,v,f,t,j.ProjectionNode)}return s.jsxs(Pc.Provider,{value:y,children:[m&&y.visualElement?s.jsx(m,{visualElement:y.visualElement,...f}):null,n(a,d,B3(v,y.visualElement,u),v,p,y.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&o!==void 0?o:""})`}`;const c=h.forwardRef(l);return c[F3]=a,c}function W3({layoutId:e}){const t=h.useContext(wf).id;return t&&e!==void 0?t+"-"+e:e}function Y3(e,t){h.useContext(fb).strict}function H3(e){const{drag:t,layout:n}=fa;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const q3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pf(e){return typeof e!="string"||e.includes("-")?!1:!!(q3.indexOf(e)>-1||/[A-Z]/u.test(e))}function ux(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Df(e,t,n,r){if(typeof t=="function"){const[a,i]=ux(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=ux(r);t=t(n!==void 0?n:e.custom,a,i)}return t}const Gu=e=>Array.isArray(e),K3=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),X3=e=>Gu(e)?e[e.length-1]||0:e,gt=e=>!!(e&&e.getVelocity);function ul(e){const t=gt(e)?e.get():e;return K3(t)?t.toValue():t}function Q3({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,i){const o={latestValues:J3(r,a,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const vb=e=>(t,n)=>{const r=h.useContext(Pc),a=h.useContext(Mc),i=()=>Q3(e,t,r,a);return n?i():io(i)};function J3(e,t,n,r){const a={},i=r(e,{});for(const f in i)a[f]=ul(i[f]);let{initial:o,animate:l}=e;const c=Lc(e),d=hb(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const m=u?l:o;if(m&&typeof m!="boolean"&&!Dc(m)){const f=Array.isArray(m)?m:[m];for(let p=0;p<f.length;p++){const y=Df(e,f[p]);if(y){const{transitionEnd:v,transition:j,...x}=y;for(const g in x){let b=x[g];if(Array.isArray(b)){const w=u?b.length-1:0;b=b[w]}b!==null&&(a[g]=b)}for(const g in v)a[g]=v[g]}}}return a}const Na=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],br=new Set(Na),bb=e=>t=>typeof t=="string"&&t.startsWith(e),jb=bb("--"),Z3=bb("var(--"),Lf=e=>Z3(e)?e4.test(e.split("/*")[0].trim()):!1,e4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wb=(e,t)=>t&&typeof e=="number"?t.transform(e):e,is=(e,t,n)=>n>t?t:n<e?e:n,ka={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vi={...ka,transform:e=>is(0,1,e)},Go={...ka,default:1},oo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gs=oo("deg"),Fn=oo("%"),ee=oo("px"),t4=oo("vh"),n4=oo("vw"),mx={...Fn,parse:e=>Fn.parse(e)/100,transform:e=>Fn.transform(e*100)},s4={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee},r4={rotate:gs,rotateX:gs,rotateY:gs,rotateZ:gs,scale:Go,scaleX:Go,scaleY:Go,scaleZ:Go,skew:gs,skewX:gs,skewY:gs,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:Vi,originX:mx,originY:mx,originZ:ee},fx={...ka,transform:Math.round},Af={...s4,...r4,zIndex:fx,size:ee,fillOpacity:Vi,strokeOpacity:Vi,numOctaves:fx},a4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},i4=Na.length;function o4(e,t,n){let r="",a=!0;for(let i=0;i<i4;i++){const o=Na[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=wb(l,Af[o]);if(!c){a=!1;const u=a4[o]||o;r+=`${u}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Ef(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(br.has(c)){o=!0;continue}else if(jb(c)){a[c]=d;continue}else{const u=wb(d,Af[c]);c.startsWith("origin")?(l=!0,i[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=o4(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}const l4={offset:"stroke-dashoffset",array:"stroke-dasharray"},c4={offset:"strokeDashoffset",array:"strokeDasharray"};function d4(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?l4:c4;e[i.offset]=ee.transform(-r);const o=ee.transform(t),l=ee.transform(n);e[i.array]=`${o} ${l}`}function px(e,t,n){return typeof e=="string"?e:ee.transform(t+n*e)}function u4(e,t,n){const r=px(t,e.x,e.width),a=px(n,e.y,e.height);return`${r} ${a}`}function If(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,m){if(Ef(e,d,m),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:y}=e;f.transform&&(y&&(p.transform=f.transform),delete f.transform),y&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=u4(y,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&d4(f,o,l,c,!1)}const Rf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Nb=()=>({...Rf(),attrs:{}}),Of=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kb(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Sb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _b(e,t,n,r){kb(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Sb.has(a)?a:Mf(a),t.attrs[a])}const ql={};function m4(e){Object.assign(ql,e)}function Cb(e,{layout:t,layoutId:n}){return br.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ql[e]||e==="opacity")}function zf(e,t,n){var r;const{style:a}=e,i={};for(const o in a)(gt(a[o])||t.style&&gt(t.style[o])||Cb(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function Mb(e,t,n){const r=zf(e,t,n);for(const a in e)if(gt(e[a])||gt(t[a])){const i=Na.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}function f4(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const hx=["x","y","width","height","cx","cy","r"],p4={useVisualState:vb({scrapeMotionValuesFromProps:Mb,createRenderState:Nb,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in a)if(br.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<hx.length;l++){const c=hx[l];e[c]!==t[c]&&(o=!0)}o&&Se.read(()=>{f4(n,r),Se.render(()=>{If(r,a,Of(n.tagName),e.transformTemplate),_b(n,r)})})}})},h4={useVisualState:vb({scrapeMotionValuesFromProps:zf,createRenderState:Rf})};function Tb(e,t,n){for(const r in t)!gt(t[r])&&!Cb(r,n)&&(e[r]=t[r])}function x4({transformTemplate:e},t){return h.useMemo(()=>{const n=Rf();return Ef(n,t,e),Object.assign({},n.vars,n.style)},[t])}function g4(e,t){const n=e.style||{},r={};return Tb(r,n,e),Object.assign(r,x4(e,t)),r}function y4(e,t){const n={},r=g4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function v4(e,t,n,r){const a=h.useMemo(()=>{const i=Nb();return If(i,t,Of(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Tb(i,e.style,e),a.style={...i,...a.style}}return a}function b4(e=!1){return(n,r,a,{latestValues:i},o)=>{const c=(Pf(n)?v4:y4)(r,i,o,n),d=I3(r,typeof n=="string",e),u=n!==h.Fragment?{...d,...c,ref:a}:{},{children:m}=r,f=h.useMemo(()=>gt(m)?m.get():m,[m]);return h.createElement(n,{...u,children:f})}}function j4(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...Pf(r)?p4:h4,preloadedFeatures:e,useRender:b4(a),createVisualElement:t,Component:r};return G3(o)}}function Pb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ac(e,t,n){const r=e.getProps();return Df(r,t,n!==void 0?n:r.custom,e)}const w4=Sf(()=>window.ScrollTimeline!==void 0);class N4{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>{if(w4()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class k4 extends N4{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Ff(e,t){return e?e[t]||e.default||e:void 0}const Wu=2e4;function Db(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Wu;)t+=n,r=e.next(t);return t>=Wu?1/0:t}function Bf(e){return typeof e=="function"}function xx(e,t){e.timeline=t,e.onfinish=null}const Vf=e=>Array.isArray(e)&&typeof e[0]=="number",S4={linearEasing:void 0};function _4(e,t){const n=Sf(e);return()=>{var r;return(r=S4[t])!==null&&r!==void 0?r:n()}}const Kl=_4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lb=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=e(ma(0,a-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Ab(e){return!!(typeof e=="function"&&Kl()||!e||typeof e=="string"&&(e in Yu||Kl())||Vf(e)||Array.isArray(e)&&e.every(Ab))}const Xa=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Yu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xa([0,.65,.55,1]),circOut:Xa([.55,0,1,.45]),backIn:Xa([.31,.01,.66,-.59]),backOut:Xa([.33,1.53,.69,.99])};function Eb(e,t){if(e)return typeof e=="function"&&Kl()?Lb(e,t):Vf(e)?Xa(e):Array.isArray(e)?e.map(n=>Eb(n,t)||Yu.easeOut):Yu[e]}const bn={x:!1,y:!1};function Ib(){return bn.x||bn.y}function C4(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const i=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function Rb(e,t){const n=C4(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function gx(e){return t=>{t.pointerType==="touch"||Ib()||e(t)}}function M4(e,t,n={}){const[r,a,i]=Rb(e,n),o=gx(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=gx(m=>{d(m),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,a)});return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Ob=(e,t)=>t?e===t?!0:Ob(e,t.parentElement):!1,$f=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,T4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P4(e){return T4.has(e.tagName)||e.tabIndex!==-1}const Qa=new WeakSet;function yx(e){return t=>{t.key==="Enter"&&e(t)}}function Td(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const D4=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=yx(()=>{if(Qa.has(n))return;Td(n,"down");const a=yx(()=>{Td(n,"up")}),i=()=>Td(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function vx(e){return $f(e)&&!Ib()}function L4(e,t,n={}){const[r,a,i]=Rb(e,n),o=l=>{const c=l.currentTarget;if(!vx(l)||Qa.has(c))return;Qa.add(c);const d=t(l),u=(p,y)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",f),!(!vx(p)||!Qa.has(c))&&(Qa.delete(c),typeof d=="function"&&d(p,{success:y}))},m=p=>{u(p,n.useGlobalTarget||Ob(c,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",f,a)};return r.forEach(l=>{!P4(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",d=>D4(d,a),a)}),i}function A4(e){return e==="x"||e==="y"?bn[e]?null:(bn[e]=!0,()=>{bn[e]=!1}):bn.x||bn.y?null:(bn.x=bn.y=!0,()=>{bn.x=bn.y=!1})}const zb=new Set(["width","height","top","left","right","bottom",...Na]);let ml;function E4(){ml=void 0}const Bn={now:()=>(ml===void 0&&Bn.set(ot.isProcessing||T3.useManualTiming?ot.timestamp:performance.now()),ml),set:e=>{ml=e,queueMicrotask(E4)}};function Uf(e,t){e.indexOf(t)===-1&&e.push(t)}function Gf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Wf{constructor(){this.subscriptions=[]}add(t){return Uf(this.subscriptions,t),()=>Gf(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Fb(e,t){return t?e*(1e3/t):0}const bx=30,I4=e=>!isNaN(parseFloat(e)),fi={current:void 0};class R4{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const i=Bn.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=I4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Wf);const r=this.events[t].add(n);return t==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return fi.current&&fi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bx);return Fb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pa(e,t){return new R4(e,t)}function O4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,pa(n))}function z4(e,t){const n=Ac(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const l=X3(i[o]);O4(e,o,l)}}function F4(e){return!!(gt(e)&&e.add)}function Hu(e,t){const n=e.getValue("willChange");if(F4(n))return n.add(t)}function Bb(e){return e.props[xb]}const Vb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,B4=1e-7,V4=12;function $4(e,t,n,r,a){let i,o,l=0;do o=t+(n-t)/2,i=Vb(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>B4&&++l<V4);return o}function lo(e,t,n,r){if(e===t&&n===r)return Gt;const a=i=>$4(i,0,1,e,n);return i=>i===0||i===1?i:Vb(a(i),t,r)}const $b=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ub=e=>t=>1-e(1-t),Gb=lo(.33,1.53,.69,.99),Yf=Ub(Gb),Wb=$b(Yf),Yb=e=>(e*=2)<1?.5*Yf(e):.5*(2-Math.pow(2,-10*(e-1))),Hf=e=>1-Math.sin(Math.acos(e)),Hb=Ub(Hf),qb=$b(Hf),Kb=e=>/^0[^.\s]+$/u.test(e);function U4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Kb(e):!0}const pi=e=>Math.round(e*1e5)/1e5,qf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G4(e){return e==null}const W4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kf=(e,t)=>n=>!!(typeof n=="string"&&W4.test(n)&&n.startsWith(e)||t&&!G4(n)&&Object.prototype.hasOwnProperty.call(n,t)),Xb=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,l]=r.match(qf);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Y4=e=>is(0,255,e),Pd={...ka,transform:e=>Math.round(Y4(e))},sr={test:Kf("rgb","red"),parse:Xb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Pd.transform(e)+", "+Pd.transform(t)+", "+Pd.transform(n)+", "+pi(Vi.transform(r))+")"};function H4(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const qu={test:Kf("#"),parse:H4,transform:sr.transform},$r={test:Kf("hsl","hue"),parse:Xb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Fn.transform(pi(t))+", "+Fn.transform(pi(n))+", "+pi(Vi.transform(r))+")"},pt={test:e=>sr.test(e)||qu.test(e)||$r.test(e),parse:e=>sr.test(e)?sr.parse(e):$r.test(e)?$r.parse(e):qu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?sr.transform(e):$r.transform(e)},q4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K4(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(qf))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(q4))===null||n===void 0?void 0:n.length)||0)>0}const Qb="number",Jb="color",X4="var",Q4="var(",jx="${}",J4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $i(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(J4,c=>(pt.test(c)?(r.color.push(i),a.push(Jb),n.push(pt.parse(c))):c.startsWith(Q4)?(r.var.push(i),a.push(X4),n.push(c)):(r.number.push(i),a.push(Qb),n.push(parseFloat(c))),++i,jx)).split(jx);return{values:n,split:l,indexes:r,types:a}}function Zb(e){return $i(e).values}function e1(e){const{split:t,types:n}=$i(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===Qb?i+=pi(a[o]):l===Jb?i+=pt.transform(a[o]):i+=a[o]}return i}}const Z4=e=>typeof e=="number"?0:e;function eM(e){const t=Zb(e);return e1(e)(t.map(Z4))}const Os={test:K4,parse:Zb,createTransformer:e1,getAnimatableNone:eM},tM=new Set(["brightness","contrast","saturate","opacity"]);function nM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(qf)||[];if(!r)return e;const a=n.replace(r,"");let i=tM.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const sM=/\b([a-z-]*)\(.*?\)/gu,Ku={...Os,getAnimatableNone:e=>{const t=e.match(sM);return t?t.map(nM).join(" "):e}},rM={...Af,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:Ku,WebkitFilter:Ku},Xf=e=>rM[e];function t1(e,t){let n=Xf(e);return n!==Ku&&(n=Os),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const aM=new Set(["auto","none","0"]);function iM(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!aM.has(i)&&$i(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=t1(n,a)}const wx=e=>e===ka||e===ee,Nx=(e,t)=>parseFloat(e.split(", ")[t]),kx=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return Nx(a[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Nx(i[1],e):0}},oM=new Set(["x","y","z"]),lM=Na.filter(e=>!oM.has(e));function cM(e){const t=[];return lM.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ha={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:kx(4,13),y:kx(5,14)};ha.translateX=ha.x;ha.translateY=ha.y;const or=new Set;let Xu=!1,Qu=!1;function n1(){if(Qu){const e=Array.from(or).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=cM(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qu=!1,Xu=!1,or.forEach(e=>e.complete()),or.clear()}function s1(){or.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qu=!0)})}function dM(){s1(),n1()}class Qf{constructor(t,n,r,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(or.add(this),Xu||(Xu=!0,Se.read(s1),Se.resolveKeyframes(n1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),or.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,or.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const r1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),uM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mM(e){const t=uM.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function a1(e,t,n=1){const[r,a]=mM(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return r1(o)?parseFloat(o):o}return Lf(a)?a1(a,t,n+1):a}const i1=e=>t=>t.test(e),fM={test:e=>e==="auto",parse:e=>e},o1=[ka,ee,Fn,gs,n4,t4,fM],Sx=e=>o1.find(i1(e));class l1 extends Qf{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Lf(d))){const u=a1(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!zb.has(r)||t.length!==2)return;const[a,i]=t,o=Sx(a),l=Sx(i);if(o!==l)if(wx(o)&&wx(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)U4(t[a])&&r.push(a);r.length&&iM(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ha[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=ha[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const _x=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Os.test(e)||e==="0")&&!e.startsWith("url("));function pM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function hM(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=_x(a,t),l=_x(i,t);return!o||!l?!1:pM(e)||(n==="spring"||Bf(n))&&r}const xM=e=>e!==null;function Ec(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(xM),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return!i||r===void 0?a[i]:r}const gM=40;class c1{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Bn.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>gM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&dM(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Bn.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!hM(t,r,a,i))if(o)this.options.duration=0;else{c&&c(Ec(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ie=(e,t,n)=>e+(t-e)*n;function Dd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yM({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=Dd(c,l,e+1/3),i=Dd(c,l,e),o=Dd(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Xl(e,t){return n=>n>0?t:e}const Ld=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},vM=[qu,sr,$r],bM=e=>vM.find(t=>t.test(e));function Cx(e){const t=bM(e);if(!t)return!1;let n=t.parse(e);return t===$r&&(n=yM(n)),n}const Mx=(e,t)=>{const n=Cx(e),r=Cx(t);if(!n||!r)return Xl(e,t);const a={...n};return i=>(a.red=Ld(n.red,r.red,i),a.green=Ld(n.green,r.green,i),a.blue=Ld(n.blue,r.blue,i),a.alpha=Ie(n.alpha,r.alpha,i),sr.transform(a))},jM=(e,t)=>n=>t(e(n)),co=(...e)=>e.reduce(jM),Ju=new Set(["none","hidden"]);function wM(e,t){return Ju.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function NM(e,t){return n=>Ie(e,t,n)}function Jf(e){return typeof e=="number"?NM:typeof e=="string"?Lf(e)?Xl:pt.test(e)?Mx:_M:Array.isArray(e)?d1:typeof e=="object"?pt.test(e)?Mx:kM:Xl}function d1(e,t){const n=[...e],r=n.length,a=e.map((i,o)=>Jf(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function kM(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Jf(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function SM(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,a[o]++}return r}const _M=(e,t)=>{const n=Os.createTransformer(t),r=$i(e),a=$i(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ju.has(e)&&!a.values.length||Ju.has(t)&&!r.values.length?wM(e,t):co(d1(SM(r,a),a.values),n):Xl(e,t)};function u1(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ie(e,t,n):Jf(e)(e,t)}const CM=5;function m1(e,t,n){const r=Math.max(t-CM,0);return Fb(n-e(r),t-r)}const Fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ad=.001;function MM({duration:e=Fe.duration,bounce:t=Fe.bounce,velocity:n=Fe.velocity,mass:r=Fe.mass}){let a,i,o=1-t;o=is(Fe.minDamping,Fe.maxDamping,o),e=is(Fe.minDuration,Fe.maxDuration,es(e)),o<1?(a=d=>{const u=d*o,m=u*e,f=u-n,p=Zu(d,o),y=Math.exp(-m);return Ad-f/p*y},i=d=>{const m=d*o*e,f=m*n+n,p=Math.pow(o,2)*Math.pow(d,2)*e,y=Math.exp(-m),v=Zu(Math.pow(d,2),o);return(-a(d)+Ad>0?-1:1)*((f-p)*y)/v}):(a=d=>{const u=Math.exp(-d*e),m=(d-n)*e+1;return-Ad+u*m},i=d=>{const u=Math.exp(-d*e),m=(n-d)*(e*e);return u*m});const l=5/e,c=PM(a,i,l);if(e=Zn(e),isNaN(c))return{stiffness:Fe.stiffness,damping:Fe.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const TM=12;function PM(e,t,n){let r=n;for(let a=1;a<TM;a++)r=r-e(r)/t(r);return r}function Zu(e,t){return e*Math.sqrt(1-t*t)}const DM=["duration","bounce"],LM=["stiffness","damping","mass"];function Tx(e,t){return t.some(n=>e[n]!==void 0)}function AM(e){let t={velocity:Fe.velocity,stiffness:Fe.stiffness,damping:Fe.damping,mass:Fe.mass,isResolvedFromDuration:!1,...e};if(!Tx(e,LM)&&Tx(e,DM))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*is(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Fe.mass,stiffness:a,damping:i}}else{const n=MM(e);t={...t,...n,mass:Fe.mass},t.isResolvedFromDuration=!0}return t}function f1(e=Fe.visualDuration,t=Fe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:m,velocity:f,isResolvedFromDuration:p}=AM({...n,velocity:-es(n.velocity||0)}),y=f||0,v=d/(2*Math.sqrt(c*u)),j=o-i,x=es(Math.sqrt(c/u)),g=Math.abs(j)<5;r||(r=g?Fe.restSpeed.granular:Fe.restSpeed.default),a||(a=g?Fe.restDelta.granular:Fe.restDelta.default);let b;if(v<1){const N=Zu(x,v);b=S=>{const k=Math.exp(-v*x*S);return o-k*((y+v*x*j)/N*Math.sin(N*S)+j*Math.cos(N*S))}}else if(v===1)b=N=>o-Math.exp(-x*N)*(j+(y+x*j)*N);else{const N=x*Math.sqrt(v*v-1);b=S=>{const k=Math.exp(-v*x*S),_=Math.min(N*S,300);return o-k*((y+v*x*j)*Math.sinh(_)+N*j*Math.cosh(_))/N}}const w={calculatedDuration:p&&m||null,next:N=>{const S=b(N);if(p)l.done=N>=m;else{let k=0;v<1&&(k=N===0?Zn(y):m1(b,N,S));const _=Math.abs(k)<=r,O=Math.abs(o-S)<=a;l.done=_&&O}return l.value=l.done?o:S,l},toString:()=>{const N=Math.min(Db(w),Wu),S=Lb(k=>w.next(N*k).value,N,30);return N+"ms "+S}};return w}function Px({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],f={done:!1,value:m},p=_=>l!==void 0&&_<l||c!==void 0&&_>c,y=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let v=n*t;const j=m+v,x=o===void 0?j:o(j);x!==j&&(v=x-m);const g=_=>-v*Math.exp(-_/r),b=_=>x+g(_),w=_=>{const O=g(_),T=b(_);f.done=Math.abs(O)<=d,f.value=f.done?x:T};let N,S;const k=_=>{p(f.value)&&(N=_,S=f1({keyframes:[f.value,y(f.value)],velocity:m1(b,_,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:_=>{let O=!1;return!S&&N===void 0&&(O=!0,w(_),k(_)),N!==void 0&&_>=N?S.next(_-N):(!O&&w(_),f)}}}const EM=lo(.42,0,1,1),IM=lo(0,0,.58,1),p1=lo(.42,0,.58,1),RM=e=>Array.isArray(e)&&typeof e[0]!="number",OM={linear:Gt,easeIn:EM,easeInOut:p1,easeOut:IM,circIn:Hf,circInOut:qb,circOut:Hb,backIn:Yf,backInOut:Wb,backOut:Gb,anticipate:Yb},Dx=e=>{if(Vf(e)){ub(e.length===4);const[t,n,r,a]=e;return lo(t,n,r,a)}else if(typeof e=="string")return OM[e];return e};function zM(e,t,n){const r=[],a=n||u1,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Gt:t;l=co(c,l)}r.push(l)}return r}function h1(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(ub(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=zM(t,r,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const f=ma(e[m],e[m+1],u);return l[m](f)};return n?u=>d(is(e[0],e[i-1],u)):d}function FM(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=ma(0,t,r);e.push(Ie(n,1,a))}}function BM(e){const t=[0];return FM(t,e.length-1),t}function VM(e,t){return e.map(n=>n*t)}function $M(e,t){return e.map(()=>t||p1).splice(0,e.length-1)}function Ql({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=RM(r)?r.map(Dx):Dx(r),i={done:!1,value:t[0]},o=VM(n&&n.length===t.length?n:BM(t),e),l=h1(o,t,{ease:Array.isArray(a)?a:$M(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const UM=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Se.update(t,!0),stop:()=>as(t),now:()=>ot.isProcessing?ot.timestamp:Bn.now()}},GM={decay:Px,inertia:Px,tween:Ql,keyframes:Ql,spring:f1},WM=e=>e/100;class Zf extends c1{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||Qf,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=Bf(n)?n:GM[n]||Ql;let c,d;l!==Ql&&typeof t[0]!="number"&&(c=co(WM,u1(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Db(u));const{calculatedDuration:m}=u,f=m+a,p=f*(r+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:m}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:y,repeatDelay:v,onUpdate:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,w=i;if(p){const _=Math.min(this.currentTime,u)/m;let O=Math.floor(_),T=_%1;!T&&_>=1&&(T=1),T===1&&O--,O=Math.min(O,p+1),!!(O%2)&&(y==="reverse"?(T=1-T,v&&(T-=v/m)):y==="mirror"&&(w=o)),b=is(0,1,T)*m}const N=g?{done:!1,value:c[0]}:w.next(b);l&&(N.value=l(N.value));let{done:S}=N;!g&&d!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return k&&a!==void 0&&(N.value=Ec(c,this.options,a)),j&&j(N.value),k&&this.finish(),N}get duration(){const{resolved:t}=this;return t?es(t.calculatedDuration):0}get time(){return es(this.currentTime)}set time(t){t=Zn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=es(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=UM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const YM=new Set(["opacity","clipPath","filter","transform"]);function HM(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:n};c&&(d.offset=c);const u=Eb(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const qM=Sf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jl=10,KM=2e4;function XM(e){return Bf(e.type)||e.type==="spring"||!Ab(e.ease)}function QM(e,t){const n=new Zf({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let i=0;for(;!r.done&&i<KM;)r=n.sample(i),a.push(r.value),i+=Jl;return{times:void 0,keyframes:a,duration:i-Jl,ease:"linear"}}const x1={anticipate:Yb,backInOut:Wb,circInOut:qb};function JM(e){return e in x1}class Lx extends c1{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:i}=this.options;this.resolver=new l1(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:a,ease:i,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Kl()&&JM(i)&&(i=x1[i]),XM(this.options)){const{onComplete:m,onUpdate:f,motionValue:p,element:y,...v}=this.options,j=QM(t,v);t=j.keyframes,t.length===1&&(t[1]=t[0]),r=j.duration,a=j.times,i=j.ease,o="keyframes"}const u=HM(l.owner.current,c,t,{...this.options,duration:r,times:a,ease:i});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(xx(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:m}=this.options;l.set(Ec(t,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:a,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return es(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return es(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Zn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Gt;const{animation:r}=n;xx(r,t)}return Gt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:m,element:f,...p}=this.options,y=new Zf({...p,keyframes:r,duration:a,type:i,ease:o,times:l,isGenerator:!0}),v=Zn(this.time);d.setWithVelocity(y.sample(v-Jl).value,y.sample(v).value,Jl)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=n.owner.getProps();return qM()&&r&&YM.has(r)&&!c&&!d&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const ZM={type:"spring",stiffness:500,damping:25,restSpeed:10},eT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tT={type:"keyframes",duration:.8},nT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sT=(e,{keyframes:t})=>t.length>2?tT:br.has(e)?e.startsWith("scale")?eT(t[1]):ZM:nT;function rT({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const ep=(e,t,n,r={},a,i)=>o=>{const l=Ff(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Zn(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};rT(l)||(u={...u,...sT(e,u)}),u.duration&&(u.duration=Zn(u.duration)),u.repeatDelay&&(u.repeatDelay=Zn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),m&&!i&&t.get()!==void 0){const f=Ec(u.keyframes,l);if(f!==void 0)return Se.update(()=>{u.onUpdate(f),u.onComplete()}),new k4([])}return!i&&Lx.supports(u)?new Lx(u):new Zf(u)};function aT({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function g1(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const m in c){const f=e.getValue(m,(i=e.latestValues[m])!==null&&i!==void 0?i:null),p=c[m];if(p===void 0||u&&aT(u,m))continue;const y={delay:n,...Ff(o||{},m)};let v=!1;if(window.MotionHandoffAnimation){const x=Bb(e);if(x){const g=window.MotionHandoffAnimation(x,m,Se);g!==null&&(y.startTime=g,v=!0)}}Hu(e,m),f.start(ep(m,f,p,e.shouldReduceMotion&&zb.has(m)?{type:!1}:y,e,v));const j=f.animation;j&&d.push(j)}return l&&Promise.all(d).then(()=>{Se.update(()=>{l&&z4(e,l)})}),d}function em(e,t,n={}){var r;const a=Ac(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const o=a?()=>Promise.all(g1(e,a,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:f}=i;return iT(e,t,u+d,m,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(n.delay)])}function iT(e,t,n=0,r=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=a===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(oT).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(em(d,t,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function oT(e,t){return e.sortNodePosition(t)}function lT(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>em(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=em(e,t,n);else{const a=typeof t=="function"?Ac(e,t,n.custom):t;r=Promise.all(g1(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const cT=Cf.length;function y1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?y1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<cT;n++){const r=Cf[n],a=e.props[r];(Bi(a)||a===!1)&&(t[r]=a)}return t}const dT=[..._f].reverse(),uT=_f.length;function mT(e){return t=>Promise.all(t.map(({animation:n,options:r})=>lT(e,n,r)))}function fT(e){let t=mT(e),n=Ax(),r=!0;const a=c=>(d,u)=>{var m;const f=Ac(e,u,c==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(f){const{transition:p,transitionEnd:y,...v}=f;d={...d,...v,...y}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=y1(e.parent)||{},m=[],f=new Set;let p={},y=1/0;for(let j=0;j<uT;j++){const x=dT[j],g=n[x],b=d[x]!==void 0?d[x]:u[x],w=Bi(b),N=x===c?g.isActive:null;N===!1&&(y=j);let S=b===u[x]&&b!==d[x]&&w;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),g.protectedKeys={...p},!g.isActive&&N===null||!b&&!g.prevProp||Dc(b)||typeof b=="boolean")continue;const k=pT(g.prevProp,b);let _=k||x===c&&g.isActive&&!S&&w||j>y&&w,O=!1;const T=Array.isArray(b)?b:[b];let C=T.reduce(a(x),{});N===!1&&(C={});const{prevResolvedValues:D={}}=g,P={...D,...C},B=z=>{_=!0,f.has(z)&&(O=!0,f.delete(z)),g.needsAnimating[z]=!0;const R=e.getValue(z);R&&(R.liveStyle=!1)};for(const z in P){const R=C[z],F=D[z];if(p.hasOwnProperty(z))continue;let E=!1;Gu(R)&&Gu(F)?E=!Pb(R,F):E=R!==F,E?R!=null?B(z):f.add(z):R!==void 0&&f.has(z)?B(z):g.protectedKeys[z]=!0}g.prevProp=b,g.prevResolvedValues=C,g.isActive&&(p={...p,...C}),r&&e.blockInitialAnimation&&(_=!1),_&&(!(S&&k)||O)&&m.push(...T.map(z=>({animation:z,options:{type:x}})))}if(f.size){const j={};f.forEach(x=>{const g=e.getBaseTarget(x),b=e.getValue(x);b&&(b.liveStyle=!0),j[x]=g??null}),m.push({animation:j})}let v=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(m):Promise.resolve()}function l(c,d){var u;if(n[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,d)}),n[c].isActive=d;const m=o(c);for(const f in n)n[f].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Ax(),r=!0}}}function pT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Pb(t,e):!1}function Ys(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ax(){return{animate:Ys(!0),whileInView:Ys(),whileHover:Ys(),whileTap:Ys(),whileDrag:Ys(),whileFocus:Ys(),exit:Ys()}}class $s{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hT extends $s{constructor(t){super(t),t.animationState||(t.animationState=fT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Dc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let xT=0;class gT extends $s{constructor(){super(...arguments),this.id=xT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const yT={animation:{Feature:hT},exit:{Feature:gT}};function Ui(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function uo(e){return{point:{x:e.pageX,y:e.pageY}}}const vT=e=>t=>$f(t)&&e(t,uo(t));function hi(e,t,n,r){return Ui(e,t,vT(n),r)}const Ex=(e,t)=>Math.abs(e-t);function bT(e,t){const n=Ex(e.x,t.x),r=Ex(e.y,t.y);return Math.sqrt(n**2+r**2)}class v1{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Id(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=bT(m.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:y}=m,{timestamp:v}=ot;this.history.push({...y,timestamp:v});const{onStart:j,onMove:x}=this.handlers;f||(j&&j(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ed(f,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Id(m.type==="pointercancel"?this.lastMoveEventInfo:Ed(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,j),y&&y(m,j)},!$f(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=uo(t),l=Ed(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=ot;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,Id(l,this.history)),this.removeListeners=co(hi(this.contextWindow,"pointermove",this.handlePointerMove),hi(this.contextWindow,"pointerup",this.handlePointerUp),hi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),as(this.updatePoint)}}function Ed(e,t){return t?{point:t(e.point)}:e}function Ix(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Id({point:e},t){return{point:e,delta:Ix(e,b1(t)),offset:Ix(e,jT(t)),velocity:wT(t,.1)}}function jT(e){return e[0]}function b1(e){return e[e.length-1]}function wT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=b1(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Zn(t)));)n--;if(!r)return{x:0,y:0};const i=es(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const j1=1e-4,NT=1-j1,kT=1+j1,w1=.01,ST=0-w1,_T=0+w1;function Ht(e){return e.max-e.min}function CT(e,t,n){return Math.abs(e-t)<=n}function Rx(e,t,n,r=.5){e.origin=r,e.originPoint=Ie(t.min,t.max,e.origin),e.scale=Ht(n)/Ht(t),e.translate=Ie(n.min,n.max,e.origin)-e.originPoint,(e.scale>=NT&&e.scale<=kT||isNaN(e.scale))&&(e.scale=1),(e.translate>=ST&&e.translate<=_T||isNaN(e.translate))&&(e.translate=0)}function xi(e,t,n,r){Rx(e.x,t.x,n.x,r?r.originX:void 0),Rx(e.y,t.y,n.y,r?r.originY:void 0)}function Ox(e,t,n){e.min=n.min+t.min,e.max=e.min+Ht(t)}function MT(e,t,n){Ox(e.x,t.x,n.x),Ox(e.y,t.y,n.y)}function zx(e,t,n){e.min=t.min-n.min,e.max=e.min+Ht(t)}function gi(e,t,n){zx(e.x,t.x,n.x),zx(e.y,t.y,n.y)}function TT(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ie(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ie(n,e,r.max):Math.min(e,n)),e}function Fx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function PT(e,{top:t,left:n,bottom:r,right:a}){return{x:Fx(e.x,n,a),y:Fx(e.y,t,r)}}function Bx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function DT(e,t){return{x:Bx(e.x,t.x),y:Bx(e.y,t.y)}}function LT(e,t){let n=.5;const r=Ht(e),a=Ht(t);return a>r?n=ma(t.min,t.max-r,e.min):r>a&&(n=ma(e.min,e.max-a,t.min)),is(0,1,n)}function AT(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const tm=.35;function ET(e=tm){return e===!1?e=0:e===!0&&(e=tm),{x:Vx(e,"left","right"),y:Vx(e,"top","bottom")}}function Vx(e,t,n){return{min:$x(e,t),max:$x(e,n)}}function $x(e,t){return typeof e=="number"?e:e[t]||0}const Ux=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ur=()=>({x:Ux(),y:Ux()}),Gx=()=>({min:0,max:0}),Ue=()=>({x:Gx(),y:Gx()});function nn(e){return[e("x"),e("y")]}function N1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function IT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function RT(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rd(e){return e===void 0||e===1}function nm({scale:e,scaleX:t,scaleY:n}){return!Rd(e)||!Rd(t)||!Rd(n)}function Qs(e){return nm(e)||k1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function k1(e){return Wx(e.x)||Wx(e.y)}function Wx(e){return e&&e!=="0%"}function Zl(e,t,n){const r=e-n,a=t*r;return n+a}function Yx(e,t,n,r,a){return a!==void 0&&(e=Zl(e,a,r)),Zl(e,n,r)+t}function sm(e,t=0,n=1,r,a){e.min=Yx(e.min,t,n,r,a),e.max=Yx(e.max,t,n,r,a)}function S1(e,{x:t,y:n}){sm(e.x,t.translate,t.scale,t.originPoint),sm(e.y,n.translate,n.scale,n.originPoint)}const Hx=.999999999999,qx=1.0000000000001;function OT(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Wr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,S1(e,o)),r&&Qs(i.latestValues)&&Wr(e,i.latestValues))}t.x<qx&&t.x>Hx&&(t.x=1),t.y<qx&&t.y>Hx&&(t.y=1)}function Gr(e,t){e.min=e.min+t,e.max=e.max+t}function Kx(e,t,n,r,a=.5){const i=Ie(e.min,e.max,a);sm(e,t,n,i,r)}function Wr(e,t){Kx(e.x,t.x,t.scaleX,t.scale,t.originX),Kx(e.y,t.y,t.scaleY,t.scale,t.originY)}function _1(e,t){return N1(RT(e.getBoundingClientRect(),t))}function zT(e,t,n){const r=_1(e,n),{scroll:a}=t;return a&&(Gr(r.x,a.offset.x),Gr(r.y,a.offset.y)),r}const C1=({current:e})=>e?e.ownerDocument.defaultView:null,FT=new WeakMap;class BT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(uo(u).point)},i=(u,m)=>{const{drag:f,dragPropagation:p,onDragStart:y}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A4(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(j=>{let x=this.getAxisMotionValue(j).get()||0;if(Fn.test(x)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[j];b&&(x=Ht(b)*(parseFloat(x)/100))}}this.originPoint[j]=x}),y&&Se.postRender(()=>y(u,m)),Hu(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,m)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:y,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:j}=m;if(p&&this.currentDirection===null){this.currentDirection=VT(j),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,j),this.updateAxis("y",m.point,j),this.visualElement.render(),v&&v(u,m)},l=(u,m)=>this.stop(u,m),c=()=>nn(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new v1(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:C1(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Se.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Wo(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=TT(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Vr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=PT(a.layoutBox,n):this.constraints=!1,this.elastic=ET(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&nn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=AT(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Vr(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=zT(r,a.root,this.visualElement.getTransformPagePoint());let o=DT(a.layout.layoutBox,i);if(n){const l=n(IT(o));this.hasMutatedConstraints=!!l,l&&(o=N1(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=nn(u=>{if(!Wo(u,n,this.currentDirection))return;let m=c&&c[u]||{};o&&(m={min:0,max:0});const f=a?200:1e6,p=a?40:1e7,y={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Hu(this.visualElement,t),r.start(ep(t,r,0,n,this.visualElement,!1))}stopAnimation(){nn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){nn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){nn(n=>{const{drag:r}=this.getProps();if(!Wo(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-Ie(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vr(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};nn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=LT({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nn(o=>{if(!Wo(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ie(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;FT.set(this.visualElement,this);const t=this.visualElement.current,n=hi(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Vr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Se.read(r);const o=Ui(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(nn(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=tm,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Wo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function VT(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class $T extends $s{constructor(t){super(t),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new BT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xx=e=>(t,n)=>{e&&Se.postRender(()=>e(t,n))};class UT extends $s{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(t){this.session=new v1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Xx(t),onStart:Xx(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Se.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=hi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ga={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ee.test(e))e=parseFloat(e);else return e;const n=Qx(e,t.target.x),r=Qx(e,t.target.y);return`${n}% ${r}%`}},GT={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Os.parse(e);if(a.length>5)return r;const i=Os.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=Ie(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class WT extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;m4(YT),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Se.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Tf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function M1(e){const[t,n]=db(),r=h.useContext(wf);return s.jsx(WT,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(gb),isPresent:t,safeToRemove:n})}const YT={borderRadius:{...Ga,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ga,borderTopRightRadius:Ga,borderBottomLeftRadius:Ga,borderBottomRightRadius:Ga,boxShadow:GT};function HT(e,t,n){const r=gt(e)?e:pa(e);return r.start(ep("",r,t,n)),r.animation}function qT(e){return e instanceof SVGElement&&e.tagName!=="svg"}const KT=(e,t)=>e.depth-t.depth;class XT{constructor(){this.children=[],this.isDirty=!1}add(t){Uf(this.children,t),this.isDirty=!0}remove(t){Gf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KT),this.isDirty=!1,this.children.forEach(t)}}function QT(e,t){const n=Bn.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(as(r),e(i-t))};return Se.read(r,!0),()=>as(r)}const T1=["TopLeft","TopRight","BottomLeft","BottomRight"],JT=T1.length,Jx=e=>typeof e=="string"?parseFloat(e):e,Zx=e=>typeof e=="number"||ee.test(e);function ZT(e,t,n,r,a,i){a?(e.opacity=Ie(0,n.opacity!==void 0?n.opacity:1,eP(r)),e.opacityExit=Ie(t.opacity!==void 0?t.opacity:1,0,tP(r))):i&&(e.opacity=Ie(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<JT;o++){const l=`border${T1[o]}Radius`;let c=eg(t,l),d=eg(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||Zx(c)===Zx(d)?(e[l]=Math.max(Ie(Jx(c),Jx(d),r),0),(Fn.test(d)||Fn.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Ie(t.rotate||0,n.rotate||0,r))}function eg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const eP=P1(0,.5,Hb),tP=P1(.5,.95,Gt);function P1(e,t,n){return r=>r<e?0:r>t?1:n(ma(e,t,r))}function tg(e,t){e.min=t.min,e.max=t.max}function en(e,t){tg(e.x,t.x),tg(e.y,t.y)}function ng(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function sg(e,t,n,r,a){return e-=t,e=Zl(e,1/n,r),a!==void 0&&(e=Zl(e,1/a,r)),e}function nP(e,t=0,n=1,r=.5,a,i=e,o=e){if(Fn.test(t)&&(t=parseFloat(t),t=Ie(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ie(i.min,i.max,r);e===i&&(l-=t),e.min=sg(e.min,t,n,l,a),e.max=sg(e.max,t,n,l,a)}function rg(e,t,[n,r,a],i,o){nP(e,t[n],t[r],t[a],t.scale,i,o)}const sP=["x","scaleX","originX"],rP=["y","scaleY","originY"];function ag(e,t,n,r){rg(e.x,t,sP,n?n.x:void 0,r?r.x:void 0),rg(e.y,t,rP,n?n.y:void 0,r?r.y:void 0)}function ig(e){return e.translate===0&&e.scale===1}function D1(e){return ig(e.x)&&ig(e.y)}function og(e,t){return e.min===t.min&&e.max===t.max}function aP(e,t){return og(e.x,t.x)&&og(e.y,t.y)}function lg(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function L1(e,t){return lg(e.x,t.x)&&lg(e.y,t.y)}function cg(e){return Ht(e.x)/Ht(e.y)}function dg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iP{constructor(){this.members=[]}add(t){Uf(this.members,t),t.scheduleRender()}remove(t){if(Gf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oP(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:f,skewX:p,skewY:y}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),m&&(r+=`rotateX(${m}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Js={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ja=typeof window<"u"&&window.MotionDebug!==void 0,Od=["","X","Y","Z"],lP={visibility:"hidden"},ug=1e3;let cP=0;function zd(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function A1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Bb(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Se,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&A1(r)}function E1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=cP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ja&&(Js.totalNodes=Js.resolvedTargetDeltas=Js.recalculatedProjection=0),this.nodes.forEach(mP),this.nodes.forEach(gP),this.nodes.forEach(yP),this.nodes.forEach(fP),Ja&&window.MotionDebug.record(Js)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new XT)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Wf),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qT(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let m;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=QT(f,250),fl.hasAnimatedSinceResize&&(fl.hasAnimatedSinceResize=!1,this.nodes.forEach(fg))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||NP,{onLayoutAnimationStart:j,onLayoutAnimationComplete:x}=u.getProps(),g=!this.targetLayout||!L1(this.targetLayout,y)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,b);const w={...Ff(v,"layout"),onPlay:j,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||fg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,as(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vP),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mg);return}this.isUpdating||this.nodes.forEach(hP),this.isUpdating=!1,this.nodes.forEach(xP),this.nodes.forEach(dP),this.nodes.forEach(uP),this.clearAllSnapshots();const l=Bn.now();ot.delta=is(0,1e3/60,l-ot.timestamp),ot.timestamp=l,ot.isProcessing=!0,Md.update.process(ot),Md.preRender.process(ot),Md.render.process(ot),ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pP),this.sharedNodes.forEach(bP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!D1(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Qs(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),kP(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Ue();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(SP))){const{scroll:u}=this.root;u&&(Gr(c.x,u.offset.x),Gr(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Ue();if(en(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:f}=u;u!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&en(c,o),Gr(c.x,m.offset.x),Gr(c.y,m.offset.y))}return c}applyTransform(o,l=!1){const c=Ue();en(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Wr(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Qs(u.latestValues)&&Wr(c,u.latestValues)}return Qs(this.latestValues)&&Wr(c,this.latestValues),c}removeTransform(o){const l=Ue();en(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Qs(d.latestValues))continue;nm(d.latestValues)&&d.updateSnapshot();const u=Ue(),m=d.measurePageBox();en(u,m),ag(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Qs(this.latestValues)&&ag(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!(!this.layout||!(m||f))){if(this.resolvedRelativeTargetAt=ot.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),gi(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),S1(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),gi(this.relativeTargetOrigin,this.target,p.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ja&&Js.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nm(this.parent.latestValues)||k1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ot.timestamp&&(d=!1),d)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;en(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;OT(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ue());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ng(this.prevProjectionDelta.x,this.projectionDelta.x),ng(this.prevProjectionDelta.y,this.projectionDelta.y)),xi(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!dg(this.projectionDelta.x,this.prevProjectionDelta.x)||!dg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Ja&&Js.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ur(),this.projectionDelta=Ur(),this.projectionDeltaWithTransform=Ur()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=Ur();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Ue(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=p!==y,j=this.getStack(),x=!j||j.members.length<=1,g=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(wP));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const N=w/1e3;pg(m.x,o.x,N),pg(m.y,o.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jP(this.relativeTarget,this.relativeTargetOrigin,f,N),b&&aP(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ue()),en(b,this.relativeTarget)),v&&(this.animationValues=u,ZT(u,d,this.latestValues,N,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(as(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{fl.hasAnimatedSinceResize=!0,this.currentAnimation=HT(0,ug,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ug),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&I1(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ue();const m=Ht(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const f=Ht(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}en(l,c),Wr(l,u),xi(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new iP),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&zd("z",o,d,this.animationValues);for(let u=0;u<Od.length;u++)zd(`rotate${Od[u]}`,o,d,this.animationValues),zd(`skew${Od[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lP;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=ul(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ul(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qs(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=oP(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:p,y}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=m===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in ql){if(f[v]===void 0)continue;const{correct:j,applyTo:x}=ql[v],g=d.transform==="none"?f[v]:j(f[v],m);if(x){const b=x.length;for(let w=0;w<b;w++)d[x[w]]=g}else d[v]=g}return this.options.layoutId&&(d.pointerEvents=m===this?ul(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(mg),this.root.sharedNodes.clear()}}}function dP(e){e.updateLayout()}function uP(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?nn(m=>{const f=o?n.measuredBox[m]:n.layoutBox[m],p=Ht(f);f.min=r[m].min,f.max=f.min+p}):I1(i,n.layoutBox,r)&&nn(m=>{const f=o?n.measuredBox[m]:n.layoutBox[m],p=Ht(r[m]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const l=Ur();xi(l,r,n.layoutBox);const c=Ur();o?xi(c,e.applyTransform(a,!0),n.measuredBox):xi(c,r,n.layoutBox);const d=!D1(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:p}=m;if(f&&p){const y=Ue();gi(y,n.layoutBox,f.layoutBox);const v=Ue();gi(v,r,p.layoutBox),L1(y,v)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function mP(e){Ja&&Js.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pP(e){e.clearSnapshot()}function mg(e){e.clearMeasurements()}function hP(e){e.isLayoutDirty=!1}function xP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gP(e){e.resolveTargetDelta()}function yP(e){e.calcProjection()}function vP(e){e.resetSkewAndRotation()}function bP(e){e.removeLeadSnapshot()}function pg(e,t,n){e.translate=Ie(t.translate,0,n),e.scale=Ie(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hg(e,t,n,r){e.min=Ie(t.min,n.min,r),e.max=Ie(t.max,n.max,r)}function jP(e,t,n,r){hg(e.x,t.x,n.x,r),hg(e.y,t.y,n.y,r)}function wP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const NP={duration:.45,ease:[.4,0,.1,1]},xg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),gg=xg("applewebkit/")&&!xg("chrome/")?Math.round:Gt;function yg(e){e.min=gg(e.min),e.max=gg(e.max)}function kP(e){yg(e.x),yg(e.y)}function I1(e,t,n){return e==="position"||e==="preserve-aspect"&&!CT(cg(t),cg(n),.2)}function SP(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const _P=E1({attachResizeListener:(e,t)=>Ui(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fd={current:void 0},R1=E1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fd.current){const e=new _P({});e.mount(window),e.setOptions({layoutScroll:!0}),Fd.current=e}return Fd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CP={pan:{Feature:UT},drag:{Feature:$T,ProjectionNode:R1,MeasureLayout:M1}};function vg(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&Se.postRender(()=>i(t,uo(t)))}class MP extends $s{mount(){const{current:t}=this.node;t&&(this.unmount=M4(t,n=>(vg(this.node,n,"Start"),r=>vg(this.node,r,"End"))))}unmount(){}}class TP extends $s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=co(Ui(this.node.current,"focus",()=>this.onFocus()),Ui(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bg(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&Se.postRender(()=>i(t,uo(t)))}class PP extends $s{mount(){const{current:t}=this.node;t&&(this.unmount=L4(t,n=>(bg(this.node,n,"Start"),(r,{success:a})=>bg(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rm=new WeakMap,Bd=new WeakMap,DP=e=>{const t=rm.get(e.target);t&&t(e)},LP=e=>{e.forEach(DP)};function AP({root:e,...t}){const n=e||document;Bd.has(n)||Bd.set(n,{});const r=Bd.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(LP,{root:e,...t})),r[a]}function EP(e,t,n){const r=AP(t);return rm.set(e,n),r.observe(e),()=>{rm.delete(e),r.unobserve(e)}}const IP={some:0,all:1};class RP extends $s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:IP[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),f=d?u:m;f&&f(c)};return EP(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(OP(t,n))&&this.startObserver()}unmount(){}}function OP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const zP={inView:{Feature:RP},tap:{Feature:PP},focus:{Feature:TP},hover:{Feature:MP}},FP={layout:{ProjectionNode:R1,MeasureLayout:M1}},am={current:null},O1={current:!1};function BP(){if(O1.current=!0,!!Nf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>am.current=e.matches;e.addListener(t),t()}else am.current=!1}const VP=[...o1,pt,Os],$P=e=>VP.find(i1(e)),jg=new WeakMap;function UP(e,t,n){for(const r in t){const a=t[r],i=n[r];if(gt(a))e.addValue(r,a);else if(gt(i))e.addValue(r,pa(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,pa(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const wg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GP{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Bn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Se.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Lc(n),this.isVariantNode=hb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];c[p]!==void 0&&gt(y)&&y.set(c[p],!1)}}mount(t){this.current=t,jg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),O1.current||BP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:am.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jg.delete(this.current),this.projection&&this.projection.unmount(),as(this.notifyUpdate),as(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=br.has(t),a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fa){const n=fa[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wg.length;r++){const a=wg[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=UP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=pa(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(r1(a)||Kb(a))?a=parseFloat(a):!$P(a)&&Os.test(n)&&(a=t1(t,n)),this.setBaseTarget(t,gt(a)?a.get():a)),gt(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=Df(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!gt(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Wf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class z1 extends GP{constructor(){super(...arguments),this.KeyframeResolver=l1}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WP(e){return window.getComputedStyle(e)}class YP extends z1{constructor(){super(...arguments),this.type="html",this.renderInstance=kb}readValueFromInstance(t,n){if(br.has(n)){const r=Xf(n);return r&&r.default||0}else{const r=WP(t),a=(jb(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _1(t,n)}build(t,n,r){Ef(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return zf(t,n,r)}}class HP extends z1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(br.has(n)){const r=Xf(n);return r&&r.default||0}return n=Sb.has(n)?n:Mf(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Mb(t,n,r)}build(t,n,r){If(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){_b(t,n,r,a)}mount(t){this.isSVGTag=Of(t.tagName),super.mount(t)}}const qP=(e,t)=>Pf(e)?new HP(t):new YP(t,{allowProjection:e!==h.Fragment}),KP=j4({...yT,...zP,...CP,...FP},qP),ye=R3(KP);function im(e){const t=io(()=>pa(e)),{isStatic:n}=h.useContext(Tc);if(n){const[,r]=h.useState(e);h.useEffect(()=>t.on("change",r),[])}return t}function F1(e,t){const n=im(t()),r=()=>n.set(t());return r(),kf(()=>{const a=()=>Se.preRender(r,!1,!0),i=e.map(o=>o.on("change",a));return()=>{i.forEach(o=>o()),as(r)}}),n}const XP=e=>e&&typeof e=="object"&&e.mix,QP=e=>XP(e)?e.mix:void 0;function JP(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],a=e[1+n],i=e[2+n],o=e[3+n],l=h1(a,i,{mixer:QP(i[0]),...o});return t?l(r):l}function ZP(e){fi.current=[],e();const t=F1(fi.current,e);return fi.current=void 0,t}function Yo(e,t,n,r){if(typeof e=="function")return ZP(e);const a=typeof t=="function"?t:JP(t,n,r);return Array.isArray(e)?Ng(e,a):Ng([e],([i])=>a(i))}function Ng(e,t){const n=io(()=>[]);return F1(e,()=>{n.length=0;const r=e.length;for(let a=0;a<r;a++)n[a]=e[a].get();return t(n)})}const e5=({label:e,onRemove:t})=>s.jsxs("div",{className:"flex items-center gap-1 bg-electric-blue/20 text-electric-blue text-xs font-semibold px-2 py-1 rounded-full",children:[s.jsx("span",{children:e}),s.jsx("button",{onClick:t,className:"hover:bg-electric-blue/20 rounded-full",children:s.jsx(Z,{size:14})})]}),t5=({filters:e,onFilterChange:t})=>{const[n,r]=h.useState(!1);h.useEffect(()=>{const d=()=>{r(window.innerWidth>=768)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const a=d=>{const{name:u,value:m}=d.target;t({...e,[u]:m})},i=d=>{const{name:u,checked:m}=d.target;t({...e,[u]:m})},o=d=>{const u=d==="eligibleOnly"?!1:"all";t({...e,[d]:u})},l=()=>{t({type:"all",format:"all",tier:"all",duration:"all",eligibleOnly:!1})},c=Object.entries(e).filter(([d,u])=>d==="eligibleOnly"&&u===!0||d!=="eligibleOnly"&&u!=="all");return s.jsxs("div",{className:"card-base p-0 overflow-hidden",children:[s.jsxs("button",{onClick:()=>r(!n),className:"w-full flex justify-between items-center p-4 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pv,{size:18,className:"text-electric-blue"}),s.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"Filters"}),c.length>0&&s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-full bg-electric-blue/20 text-electric-blue",children:c.length})]}),s.jsx(mn,{className:`w-6 h-6 text-text-disabled transition-transform duration-300 ${n?"rotate-180":""}`})]}),s.jsx($e,{children:n&&s.jsx(ye.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsxs("div",{className:"p-4 space-y-4 border-t border-white/10",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("select",{name:"type",value:e.type,onChange:a,className:"input-base text-sm",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"betting",children:"Betting"}),s.jsx("option",{value:"prediction",children:"Prediction"}),s.jsx("option",{value:"fantasy",children:"Fantasy"})]}),s.jsxs("select",{name:"format",value:e.format,onChange:a,className:"input-base text-sm",children:[s.jsx("option",{value:"all",children:"All Formats"}),s.jsx("option",{value:"leaderboard",children:"Leaderboard"}),s.jsx("option",{value:"championship",children:"Championship"}),s.jsx("option",{value:"knockout",children:"Knockout"})]}),s.jsxs("select",{name:"tier",value:e.tier,onChange:a,className:"input-base text-sm",children:[s.jsx("option",{value:"all",children:"All Tiers"}),s.jsx("option",{value:"rookie",children:"Rookie"}),s.jsx("option",{value:"pro",children:"Pro"}),s.jsx("option",{value:"elite",children:"Elite"})]}),s.jsxs("select",{name:"duration",value:e.duration,onChange:a,className:"input-base text-sm",children:[s.jsx("option",{value:"all",children:"All Durations"}),s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"mini-series",children:"Mini-Series"}),s.jsx("option",{value:"seasonal",children:"Seasonal"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-text-secondary cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"eligibleOnly",checked:e.eligibleOnly,onChange:i,className:"w-4 h-4 accent-electric-blue"}),"Only show games I can play"]}),c.length>0&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.map(([d,u])=>{const m=d==="eligibleOnly"?"Eligible Only":`${d}: ${u}`;return s.jsx(e5,{label:m,onRemove:()=>o(d)},d)}),s.jsx("button",{onClick:l,className:"text-xs font-semibold text-hot-red hover:underline",children:"Clear All"})]})]})]})})})]})},kg={Amateur:0,Pro:1,Expert:2,Master:3,Legend:4,GOAT:5},n5=(e,t,n)=>{if(!e||e.is_guest)return{isEligible:!1,reasons:["guest"]};const r=[];let a=!1;e.coins_balance>=t.entry_cost&&(a=!0),n.some(d=>d.user_id===e.id&&d.type===t.tier&&!d.is_used&&kn(new Date,se(d.expires_at)))&&(a=!0),a||r.push("funds"),t.requires_subscription&&!e.is_subscriber&&r.push("subscription");const l=kg[e.level||"Amateur"],c=kg[t.minimum_level||"Amateur"];if(l<c&&r.push("level"),t.required_badges&&t.required_badges.length>0){const d=new Set(e.badges||[]);t.required_badges.every(m=>d.has(m))||r.push("badges")}return{isEligible:r.length===0,reasons:r}},Ho=({title:e,count:t,children:n,defaultOpen:r=!0,icon:a,colorClass:i})=>{const[o,l]=h.useState(r);return t===0?null:s.jsxs("div",{className:"card-base overflow-hidden",children:[s.jsxs("button",{onClick:()=>l(!o),className:"w-full flex justify-between items-center p-4 text-left",children:[s.jsxs("div",{className:`flex items-center gap-3 ${i}`,children:[a,s.jsx("h3",{className:"text-lg font-bold",children:e}),s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-full bg-current/10",children:t})]}),s.jsx(mn,{className:`w-6 h-6 text-text-disabled transition-transform duration-300 ${o?"rotate-180":""}`})]}),s.jsx($e,{children:o&&s.jsx(ye.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsx("div",{className:"p-4 space-y-4 border-t border-white/10",children:n})})})]})},Sg=e=>{const{games:t,userChallengeEntries:n,userSwipeEntries:r,userFantasyTeams:a,onJoinChallenge:i,onViewChallenge:o,onJoinSwipeGame:l,onPlaySwipeGame:c,onViewFantasyGame:d,profile:u,userTickets:m}=e,[f,p]=h.useState({type:"all",format:"all",tier:"all",duration:"all",eligibleOnly:!1}),[y,v]=h.useState(null),[j,x]=h.useState(!1),g=h.useMemo(()=>{if(!u)return new Set;const T=new Set;return n.forEach(C=>T.add(C.challengeId)),r.forEach(C=>T.add(C.matchDayId)),a.forEach(C=>T.add(C.gameId)),T},[n,r,a,u]),b=h.useMemo(()=>t.map(T=>{const{isEligible:C}=n5(u,T,m);return{...T,isEligible:C}}).filter(T=>!(f.type!=="all"&&T.game_type!==f.type||f.format!=="all"&&T.format!==f.format||f.tier!=="all"&&T.tier!==f.tier||f.duration!=="all"&&T.duration_type!==f.duration||f.eligibleOnly&&!T.isEligible)),[t,u,m,f]),{playableToday:w,comingSoon:N,inProgress:S,finished:k}=h.useMemo(()=>{const C=Eh(new Date("2025-07-24T00:00:00Z"),{hours:24}),D={playableToday:[],comingSoon:[],inProgress:[],finished:[]};for(const I of b){const V=se(I.start_date),z=g.has(I.id);I.status==="Finished"||I.status==="Cancelled"?D.finished.push(I):I.status==="Ongoing"?z?D.playableToday.push(I):D.inProgress.push(I):I.status==="Upcoming"&&(V<=C&&I.isEligible?D.playableToday.push(I):D.comingSoon.push(I))}const P=(I,V)=>se(I.start_date).getTime()-se(V.start_date).getTime(),B=(I,V)=>se(V.end_date).getTime()-se(I.end_date).getTime();return D.playableToday.sort(P),D.comingSoon.sort(P),D.inProgress.sort(P),D.finished.sort(B),D},[b,g]),_=T=>{var B;const C=g.has(T.id),D=new Date("2025-07-24T00:00:00Z"),P=no(new Date(T.start_date),{start:D,end:Eh(D,{days:1})});if(T.status==="Finished"||T.status==="Cancelled")return"RESULTS";if(T.status==="Ongoing"&&!C)return"IN_PROGRESS";if(T.status==="Upcoming"&&!P&&!C)return"NOTIFY";if(!C)return"JOIN";if(T.game_type==="fantasy")return"VIEW_TEAM";if(T.status==="Ongoing")return"AWAITING";if(T.game_type==="betting"){const I=n.find(z=>z.challengeId===T.id);return I&&I.dailyEntries.every(z=>z.bets.reduce((F,E)=>F+E.amount,0)>=(T.challengeBalance||1e3))?"SUBMITTED":"PLAY"}else{const I=r.find(z=>z.matchDayId===T.id);return I&&I.predictions.length>=(((B=T.matches)==null?void 0:B.length)||0)?"SUBMITTED":"PLAY"}},O=T=>{const C=_(T);let D=()=>{};return T.game_type==="betting"&&(D=()=>o(T.id)),T.game_type==="prediction"&&(D=()=>c(T.id)),T.game_type==="fantasy"&&(D=()=>d(T.id)),s.jsx(j3,{game:T,ctaState:C,onJoinClick:()=>T.game_type==="betting"?i(T):l(T.id),onPlay:D,onShowRewards:()=>v(T),onShowRules:()=>x(!0),profile:u,userTickets:m},T.id)};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(t5,{filters:f,onFilterChange:p}),s.jsx(Ho,{title:"Playable Today",count:w.length,icon:s.jsx(Rs,{}),colorClass:"text-lime-glow",children:w.map(O)}),s.jsx(Ho,{title:"Coming Soon",count:N.length,icon:s.jsx(TN,{}),colorClass:"text-warm-yellow",defaultOpen:!1,children:N.map(O)}),s.jsx(Ho,{title:"In Progress",count:S.length,icon:s.jsx(Gn,{}),colorClass:"text-orange-500",defaultOpen:!1,children:S.map(O)}),s.jsx(Ho,{title:"Finished",count:k.length,icon:s.jsx(kN,{}),colorClass:"text-text-disabled",defaultOpen:!1,children:k.map(O)}),y&&s.jsx(k3,{isOpen:!!y,onClose:()=>v(null),game:y}),s.jsx(cb,{isOpen:j,onClose:()=>x(!1)})]})},s5=({match:e,bet:t,onBetChange:n,disabled:r,maxAmount:a,isBoosterArmed:i,onApplyBooster:o,isBoosted:l,boosterType:c,profile:d})=>{const{teamA:u,teamB:m,odds:f}=e,p=t==null?void 0:t.prediction,y=(t==null?void 0:t.amount)||"",v=d.level?xv[d.level]:500,j=v?Math.min(a,v):a,x=S=>{if(r)return;const k=(t==null?void 0:t.amount)||0;S===p?n(null,0):n(S,k)},g=S=>{if(r||!p)return;let k=parseInt(S.target.value)||0;k>j&&(k=j),k<0&&(k=0),n(p,k)},b=h.useMemo(()=>{if(t&&t.amount>0&&t.prediction){let S=t.amount*e.odds[t.prediction];return l&&(c==="x2"&&(S*=2),c==="x3"&&(S*=3)),S}return 0},[t,e.odds,l,c]),w=h.useMemo(()=>{const k=[100,200,500].filter(O=>O<j);return j>0&&k.push(j),[...new Set(k)].slice(0,4)},[j]),N=({label:S,odd:k,prediction:_})=>{const O=p===_,T=e.status==="played"&&e.result===_;return s.jsxs("button",{onClick:()=>x(_),disabled:r,className:`flex-1 p-2 border-2 rounded-lg text-center transition-all ${O?"bg-electric-blue/20 border-electric-blue":"bg-deep-navy border-disabled hover:border-electric-blue/50"} ${r?"cursor-not-allowed bg-navy-accent":""} ${T?"!bg-lime-glow/20 !border-lime-glow":""}`,children:[s.jsx("div",{className:"text-sm font-semibold text-text-primary",children:S}),s.jsxs("div",{className:"text-xs text-electric-blue",children:["@",k.toFixed(2)]})]})};return s.jsxs("div",{className:`bg-navy-accent rounded-xl p-3 space-y-3 border-2 relative ${p?"border-electric-blue/50":"border-transparent"} ${r&&e.status==="played"?"opacity-70":""}`,children:[l&&s.jsx("span",{className:`absolute -top-2 -right-2 text-xs font-bold px-2 py-1 rounded-full text-white shadow-lg ${c==="x2"?"bg-blue-500":"bg-red-500"}`,children:c==="x2"?"x2 🔥":"x3 🚀"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{className:"text-sm font-bold text-text-primary pr-10",children:[u.emoji," ",u.name," vs ",m.emoji," ",m.name]}),e.status==="played"&&s.jsx("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-disabled text-text-disabled",children:"Played"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(N,{label:u.name,odd:f.teamA,prediction:"teamA"}),s.jsx(N,{label:"Draw",odd:f.draw,prediction:"draw"}),s.jsx(N,{label:m.name,odd:f.teamB,prediction:"teamB"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",value:y,onChange:g,placeholder:"Bet amount",disabled:!p||r,max:j,min:"0",className:"w-full p-2 bg-deep-navy border-2 border-disabled rounded-lg focus:border-electric-blue focus:outline-none disabled:bg-navy-accent disabled:cursor-not-allowed"}),v&&Number(y)>v&&s.jsxs("p",{className:"text-xs text-hot-red mt-1 text-center",children:["Max bet for your level is ",v," coins."]}),p&&!r&&w.length>0&&s.jsx("div",{className:"flex gap-2 mt-2",children:w.map(S=>s.jsx("button",{onClick:()=>n(p,S),className:"flex-1 py-1.5 px-2 bg-deep-navy hover:bg-electric-blue/20 rounded-lg text-xs font-semibold text-text-secondary hover:text-electric-blue transition-colors",children:S===j?"All In":S.toLocaleString()},S))})]}),b>0&&!r&&s.jsxs("div",{className:"flex items-center justify-end gap-2 text-lime-glow",children:[s.jsx(eo,{size:14}),s.jsxs("span",{className:"text-xs font-semibold",children:["Potential Gain: +",b.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i&&s.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 text-sm p-2 bg-warm-yellow/20 text-warm-yellow rounded-lg hover:bg-warm-yellow/30 font-semibold mt-2",children:[s.jsx(Rs,{size:14})," Apply Booster to this Match"]})]})},_g=({type:e,onClick:t,onCancel:n,activeBooster:r,armingBoosterType:a})=>{const i=!!r,o=a===e,l=i&&r.type!==e,c=(r==null?void 0:r.type)===e,d="w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 transition-all duration-200",u={x2:{base:"bg-blue-100 text-blue-600 border-blue-300",armed:"ring-4 ring-blue-300 shadow-lg",disabled:"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed",applied:"bg-blue-500 text-white border-blue-600 shadow-md"},x3:{base:"bg-red-100 text-red-600 border-red-300",armed:"ring-4 ring-red-300 shadow-lg",disabled:"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed",applied:"bg-red-500 text-white border-red-600 shadow-md"}};let m=`${d} ${u[e].base}`;return l&&(m=`${d} ${u[e].disabled}`),o&&(m+=` ${u[e].armed}`),c&&(m=`${d} ${u[e].applied}`),s.jsxs("div",{className:"relative w-10 h-10",children:[s.jsx("button",{onClick:()=>t(e),disabled:l||c,className:m,children:e}),c&&s.jsx("button",{onClick:f=>{f.stopPropagation(),n()},"aria-label":`Cancel ${e} booster`,className:"absolute -top-1 -right-1 bg-white rounded-full text-gray-500 hover:text-red-500 z-10 flex items-center justify-center",children:s.jsx(yr,{size:16})})]})},r5=({day:e,activeBooster:t,armingBoosterType:n,onBoosterClick:r,onCancel:a})=>s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(_g,{type:"x2",onClick:r,onCancel:a,activeBooster:t,armingBoosterType:n}),s.jsx(_g,{type:"x3",onClick:r,onCancel:a,activeBooster:t,armingBoosterType:n})]}),a5=({boosterType:e,isOpen:t,onClose:n,onActivate:r,onSetDontShowAgain:a})=>{const[i,o]=h.useState(!1);if(!t)return null;const c={x2:{title:"x2 Profit Booster",description:"Doubles the net profit of one winning bet for this day.",example:"Bet 100 at 2.0 odds → Win 200 → Profit 100 → With x2, you get 200 points!",penalty:"There is no penalty if your boosted bet loses.",color:"blue"},x3:{title:"x3 High-Risk Booster",description:"Triples the net profit of one winning bet for this day.",example:"Bet 100 at 2.0 odds → Win 200 → Profit 100 → With x3, you get 300 points!",penalty:"Warning: If your boosted bet loses, you get a -200 point penalty.",color:"red"}}[e],u={blue:{bg:"bg-blue-600",hoverBg:"hover:bg-blue-700",lightBg:"bg-blue-100",text:"text-blue-600"},red:{bg:"bg-red-600",hoverBg:"hover:bg-red-700",lightBg:"bg-red-100",text:"text-red-600"}}[c.color],m=()=>{i&&a(),r()};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`${u.lightBg} p-3 rounded-full`,children:s.jsx(Rs,{className:`w-6 h-6 ${u.text}`})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c.title})]}),s.jsxs("div",{className:"space-y-3 text-gray-600 text-sm",children:[s.jsx("p",{children:c.description}),s.jsxs("p",{className:"bg-gray-50 p-2 rounded-lg italic",children:["E.g., ",c.example]}),s.jsx("p",{className:`font-semibold ${c.color==="red"?u.text:""}`,children:c.penalty})]}),s.jsxs("div",{className:"pt-2 space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"dont-show-again",type:"checkbox",checked:i,onChange:f=>o(f.target.checked),className:"h-4 w-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("label",{htmlFor:"dont-show-again",className:"ml-2 block text-sm text-gray-700",children:"Don't show this again"})]}),s.jsx("div",{className:"flex justify-center pt-2",children:s.jsx("button",{onClick:m,className:`w-full py-3 px-6 ${u.bg} ${u.hoverBg} text-white rounded-xl font-bold transition-all`,children:"Apply"})})]})]})})},tp=({gameWeeks:e,selectedGameWeekId:t,onSelect:n})=>{const r=h.useRef(null),[a,i]=h.useState(!1),[o,l]=h.useState(!1),c=h.useCallback(()=>{const u=r.current;if(u){const{scrollLeft:m,scrollWidth:f,clientWidth:p}=u,y=1;i(m>y),l(m<f-p-y)}},[]);h.useEffect(()=>{const u=r.current;if(!u)return;const m=u.querySelector(`[data-id="${t}"]`);m&&m.scrollIntoView({behavior:"auto",inline:"center",block:"nearest"});const f=setTimeout(c,100);return u.addEventListener("scroll",c,{passive:!0}),window.addEventListener("resize",c),()=>{clearTimeout(f),u&&u.removeEventListener("scroll",c),window.removeEventListener("resize",c)}},[t,c,e]);const d=u=>{if(r.current){const m=r.current.clientWidth*.8;r.current.scrollBy({left:u==="left"?-m:m,behavior:"smooth"})}};return s.jsxs("div",{className:"relative group",children:[a&&s.jsx("button",{onClick:()=>d("left"),className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center shadow-md border border-gray-200 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity duration-300","aria-label":"Scroll left",children:s.jsx(vN,{size:20,className:"text-gray-600"})}),s.jsx("div",{ref:r,className:"flex items-center space-x-3 overflow-x-auto px-4 pb-2 scroll-smooth no-scrollbar",children:e.map(u=>{const m=u.id===t;return s.jsxs("button",{"data-id":u.id,onClick:()=>n(u.id),className:`flex-shrink-0 px-4 py-2 rounded-xl transition-all duration-300 w-auto text-center border-2 ${m?"bg-white border-purple-500 shadow-md":"bg-white/70 border-transparent hover:bg-white"}`,children:[s.jsx("p",{className:`font-bold text-sm ${m?"text-purple-700":"text-gray-800"}`,children:u.name}),s.jsx("p",{className:`text-xs ${m?"text-purple-500":"text-gray-500"}`,children:De(se(u.startDate),"d MMM")}),m&&s.jsx("div",{className:"w-1/2 h-0.5 bg-purple-500 rounded-full mx-auto mt-1.5"})]},u.id)})}),o&&s.jsx("button",{onClick:()=>d("right"),className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center shadow-md border border-gray-200 hover:bg-white opacity-0 group-hover:opacity-100 transition-opacity duration-300","aria-label":"Scroll right",children:s.jsx(bN,{size:20,className:"text-gray-600"})})]})},np=({game:e,userId:t,userLeagues:n,leagueMembers:r,leagueGames:a,onLink:i,loading:o})=>{const[l,c]=h.useState(!1),{isLinked:d,linkedLeaguesNames:u}=h.useMemo(()=>{const p=a.filter(v=>v.game_id===e.id);return p.length===0?{isLinked:!1,linkedLeaguesNames:[]}:{isLinked:!0,linkedLeaguesNames:p.map(v=>{const j=n.find(x=>x.id===v.league_id);return(j==null?void 0:j.name)||""}).filter(Boolean)}},[e.id,a,n]);if(!e.is_linkable)return null;const m=()=>o?s.jsx(vt,{size:16,className:"animate-spin"}):d?s.jsxs(s.Fragment,{children:[s.jsx(Vn,{size:16})," Linked"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ru,{size:16})," Link Game"]}),f=d?"bg-lime-glow/20 text-lime-glow":"bg-navy-accent text-text-secondary hover:bg-white/10";return s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>i(e),disabled:o,onMouseEnter:()=>d&&c(!0),onMouseLeave:()=>c(!1),className:`flex-shrink-0 flex items-center justify-center gap-2 font-bold rounded-lg transition-all text-sm py-2 px-4 shadow-lg disabled:opacity-70 ${f}`,children:m()}),s.jsx($e,{children:l&&u.length>0&&s.jsx(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max max-w-xs p-2 bg-deep-navy border border-disabled rounded-lg shadow-xl z-10",children:s.jsxs("p",{className:"text-xs text-text-secondary",children:["Linked with: ",s.jsx("span",{className:"font-semibold text-text-primary",children:u.join(", ")})]})})})]})},Cg=(e,t)=>{let n=0;return e.dailyEntries.forEach(r=>{const a=r.booster;r.bets.forEach(i=>{const o=t.find(d=>d.id===i.challengeMatchId);if(!o||o.status!=="played"||!o.result)return;const l=o.result===i.prediction,c=(a==null?void 0:a.matchId)===i.challengeMatchId;if(l){let d=i.amount*o.odds[i.prediction];c&&((a==null?void 0:a.type)==="x2"?d*=2:(a==null?void 0:a.type)==="x3"&&(d*=3)),n+=d}else c&&(a==null?void 0:a.type)==="x3"&&(n-=200)})}),Math.round(n)},i5=e=>{const{challenge:t,matches:n,userEntry:r,onUpdateDailyBets:a,onSetDailyBooster:i,onBack:o,onViewLeaderboard:l,boosterInfoPreferences:c,onUpdateBoosterPreferences:d,onLinkGame:u,profile:m,userLeagues:f,leagueMembers:p,leagueGames:y}=e,v=t.status==="Ongoing"||t.status==="Finished",[j,x]=h.useState(()=>{var H;const E=new Date;E.setHours(0,0,0,0);const Y=se(t.start_date);for(const Q of r.dailyEntries){const X=xt(Y,Q.day-1);if(!kn(X,E))return Q.day}return((H=r.dailyEntries[r.dailyEntries.length-1])==null?void 0:H.day)||1}),[g,b]=h.useState(null),[w,N]=h.useState(null),[S,k]=h.useState(!1),_=h.useMemo(()=>r.dailyEntries.map(E=>{const Y=xt(se(t.start_date),E.day-1);return{id:E.day.toString(),name:`Day ${E.day}`,startDate:Y.toISOString(),endDate:Y.toISOString(),leagues:[],status:t.status}}),[r.dailyEntries,t.start_date,t.status]),O=(E,Y,H,Q)=>{const X=r.dailyEntries.find(oe=>oe.day===E);if(!X)return;const le=X.bets.filter(oe=>oe.challengeMatchId!==Y);let K;H===null?K=le:K=[...le,{challengeMatchId:Y,prediction:H,amount:Q}],a(t.id,E,K)},T=(E,Y)=>{const H=r.dailyEntries.find(Q=>Q.day===E);if(!(!H||H.booster)){if((g==null?void 0:g.day)===E&&(g==null?void 0:g.type)===Y){b(null);return}c[Y]?b({day:E,type:Y}):N({day:E,type:Y})}},C=()=>{w&&(b({day:w.day,type:w.type}),N(null))},D=(E,Y)=>{!g||g.day!==E||(i(t.id,E,{type:g.type,matchId:Y}),b(null))},P=E=>{i(t.id,E,void 0),b(null)},{rank:B,totalPlayers:I}=h.useMemo(()=>{var oe;const E=[{day:1,bets:[{challengeMatchId:"cm-new-1",prediction:"draw",amount:1e3}],booster:{type:"x2",matchId:"cm-new-1"}},{day:2,bets:[{challengeMatchId:"cm-new-3",prediction:"teamA",amount:1e3}]}],Y={challengeId:t.id,dailyEntries:E,user_id:"mock-user",entryMethod:"coins"},H=[{username:"TopPlayer",entry:Y},{username:"SmartBettor",entry:{...Y,dailyEntries:[{day:1,bets:[{challengeMatchId:"cm-new-2",prediction:"teamA",amount:1e3}]},{day:2,bets:[]}]}}];return{rank:((oe=[{username:"You",finalCoins:0,points:Cg(r,n)},...H.map(ne=>({username:ne.username,finalCoins:0,points:Cg(ne.entry,n)}))].sort((ne,je)=>je.points-ne.points).map((ne,je)=>({...ne,rank:je+1})).find(ne=>ne.username==="You"))==null?void 0:oe.rank)||0,totalPlayers:t.totalPlayers}},[r,n,t]),V=1e3,z=E=>E>=1e3?`${(E/1e3).toFixed(1)}k`:E.toString(),{points:R,pointsLabel:F}=h.useMemo(()=>{const E=r.dailyEntries.find(Q=>Q.day===j);if(!E)return{points:0,pointsLabel:"Potential Points"};const Y=n.filter(Q=>Q.day===j);if(Y.every(Q=>Q.status==="played")){let Q=0;return E.bets.forEach(X=>{var K,oe;const le=Y.find(ne=>ne.id===X.challengeMatchId);if(le&&le.result)if(le.result===X.prediction){let ne=X.amount*le.odds[X.prediction];((K=E.booster)==null?void 0:K.matchId)===X.challengeMatchId&&(E.booster.type==="x2"&&(ne*=2),E.booster.type==="x3"&&(ne*=3)),Q+=ne}else((oe=E.booster)==null?void 0:oe.matchId)===X.challengeMatchId&&E.booster.type==="x3"&&(Q-=200)}),{points:Math.round(Q),pointsLabel:"Final Points"}}else{const Q=E.bets.reduce((X,le)=>{const K=Y.find(oe=>oe.id===le.challengeMatchId);return K&&(X+=le.amount*K.odds[le.prediction]),X},0);return{points:Math.round(Q),pointsLabel:"Potential Points"}}},[r,j,n]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to Games"]}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:t.name})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(np,{game:t,userId:m.id,userLeagues:f,leagueMembers:p,leagueGames:y,onLink:u,loading:!1}),s.jsx("button",{onClick:()=>k(!0),className:"p-2 bg-navy-accent rounded-lg shadow-sm text-text-secondary hover:text-electric-blue",children:s.jsx(Ji,{size:20})}),s.jsxs("button",{onClick:()=>l(t.id),className:"flex items-center gap-1.5 p-2 bg-navy-accent rounded-lg shadow-sm text-text-secondary hover:text-electric-blue",children:[s.jsx(Ne,{size:20}),s.jsxs("span",{className:"text-xs font-bold",children:[z(B),"/",z(I)]})]})]})]}),s.jsx("div",{className:"-mx-4",children:s.jsx(tp,{gameWeeks:_,selectedGameWeekId:j.toString(),onSelect:E=>x(Number(E))})}),s.jsxs("div",{className:"card-base p-4 text-center animate-scale-in",children:[s.jsx("p",{className:"text-sm font-semibold text-text-secondary",children:F}),s.jsx("p",{className:`text-3xl font-bold ${R>=0?"text-lime-glow":"text-hot-red"}`,children:R>=0?`+${R.toLocaleString()}`:R.toLocaleString()})]}),v&&s.jsx("div",{className:"bg-warm-yellow/10 border-l-4 border-warm-yellow text-warm-yellow p-4 rounded-r-lg",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"py-1",children:s.jsx(Zi,{size:20,className:"mr-3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Bets are Locked"}),s.jsx("p",{className:"text-sm",children:"This challenge has started. You can no longer place or modify bets."})]})]})}),s.jsx("div",{className:"space-y-6",children:r.dailyEntries.filter(E=>E.day===j).map(E=>{const Y=n.filter(X=>X.day===E.day),H=E.bets.reduce((X,le)=>X+le.amount,0),Q=V-H;return s.jsxs("div",{className:"card-base p-4 space-y-4 animate-scale-in",children:[s.jsxs("div",{className:"flex justify-between items-center border-b border-white/10 pb-3",children:[s.jsx("div",{className:"flex items-baseline gap-3",children:!v&&s.jsx(r5,{day:E.day,activeBooster:E.booster,armingBoosterType:(g==null?void 0:g.day)===E.day?g.type:void 0,onBoosterClick:X=>T(E.day,X),onCancel:()=>P(E.day)})}),s.jsxs("div",{className:"flex items-center gap-2 bg-deep-navy px-3 py-1.5 rounded-lg",children:[s.jsx(_t,{size:16,className:"text-warm-yellow"}),s.jsx("span",{className:"font-bold text-text-primary",children:Q.toLocaleString()}),s.jsx("span",{className:"text-xs text-text-disabled",children:"left"})]})]}),(g==null?void 0:g.day)===E.day&&!E.booster&&s.jsx("div",{className:"bg-warm-yellow/10 border border-warm-yellow/20 p-3 rounded-lg text-center",children:s.jsxs("p",{className:"text-sm font-semibold text-warm-yellow",children:["Select a match below to apply the ",s.jsx("span",{className:"font-bold",children:g.type.toUpperCase()})," booster."]})}),s.jsx("div",{className:"space-y-3",children:Y.map(X=>{var K,oe;const le=E.bets.find(ne=>ne.challengeMatchId===X.id);return s.jsx(s5,{match:X,bet:le,onBetChange:(ne,je)=>O(E.day,X.id,ne,je),disabled:v,maxAmount:Q+((le==null?void 0:le.amount)||0),isBoosterArmed:(g==null?void 0:g.day)===E.day&&!E.booster,onApplyBooster:()=>D(E.day,X.id),isBoosted:((K=E.booster)==null?void 0:K.matchId)===X.id,boosterType:((oe=E.booster)==null?void 0:oe.matchId)===X.id?E.booster.type:void 0,profile:m},X.id)})})]},E.day)})}),w&&s.jsx(a5,{boosterType:w.type,isOpen:!!w,onClose:()=>N(null),onActivate:C,onSetDontShowAgain:()=>d(w.type)}),s.jsx(cb,{isOpen:S,onClose:()=>k(!1)})]})},o5=e=>e===1?s.jsx(Ne,{size:20,className:"text-yellow-500"}):e===2?s.jsx(Qi,{size:20,className:"text-gray-400"}):e===3?s.jsx(Un,{size:20,className:"text-orange-400"}):s.jsx("span",{className:"font-bold text-gray-500 w-5 text-center",children:e}),l5=({challenge:e,leaderboard:t})=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5 space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-purple-700",children:e.name}),s.jsx("p",{className:"text-sm font-semibold text-gray-500",children:"Final Leaderboard"})]}),s.jsx("div",{className:"space-y-2",children:t.map(n=>s.jsxs("div",{className:`flex items-center p-3 rounded-xl ${n.username==="You"?"bg-purple-50 border-2 border-purple-200":"bg-gray-50"}`,children:[s.jsx("div",{className:"w-8 flex justify-center",children:o5(n.rank)}),s.jsx("div",{className:"flex-1 font-semibold text-gray-800",children:n.username}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-purple-600",children:[n.finalCoins.toLocaleString()," coins"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[n.points," pts"]})]})]},n.rank))})]}),sp=({gameId:e,userLeagues:t,leagueGames:n,leagueMembers:r,activeLeagueId:a,onSelectLeague:i})=>{const[o,l]=h.useState(!1),c=h.useRef(null),d=h.useMemo(()=>{const p=new Set(n.filter(y=>y.game_id===e).map(y=>y.league_id));return t.filter(y=>p.has(y.id))},[e,t,n]),u=p=>r.filter(y=>y.league_id===p).length,m=h.useMemo(()=>{if(a===null)return{id:"global",name:"Global",icon:s.jsx(li,{size:20})};const p=d.find(y=>y.id===a);return p?{id:p.id,name:p.name,icon:s.jsx("img",{src:p.image_url,alt:p.name,className:"w-5 h-5 rounded-full"})}:{id:"global",name:"Global",icon:s.jsx(li,{size:20})}},[a,d]);h.useEffect(()=>{const p=y=>{c.current&&!c.current.contains(y.target)&&l(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=p=>{i(p),l(!1)};return d.length===0?null:s.jsxs("div",{className:"relative w-full",ref:c,children:[s.jsxs("button",{type:"button",onClick:()=>l(!o),className:"w-full flex items-center justify-between p-3 bg-navy-accent border-2 border-disabled rounded-xl text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[m.icon,s.jsx("span",{className:"font-semibold text-text-primary",children:m.name})]}),s.jsx(mn,{className:`transition-transform text-text-secondary ${o?"rotate-180":""}`})]}),s.jsx($e,{children:o&&s.jsx(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 w-full bg-navy-accent rounded-xl shadow-lg border border-disabled z-10 p-2",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("button",{onClick:()=>f(null),className:"w-full flex items-center justify-between gap-3 p-3 text-left hover:bg-electric-blue/10 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2 font-semibold text-text-primary",children:[s.jsx(li,{size:20})," Global"]})}),d.map(p=>s.jsxs("button",{type:"button",onClick:()=>f(p.id),className:"w-full flex items-center justify-between gap-3 p-3 text-left hover:bg-electric-blue/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:p.image_url,alt:p.name,className:"w-5 h-5 rounded-full"}),s.jsx("span",{className:"text-text-primary font-semibold",children:p.name})]}),s.jsxs("span",{className:"text-xs text-text-disabled",children:[u(p.id)," members"]})]},p.id))]})})})]})},Cr=({id:e,name:t,value:n,label:r,checked:a,onChange:i})=>s.jsxs("label",{htmlFor:e,className:`flex items-center p-2 rounded-lg cursor-pointer transition-colors ${a?"bg-electric-blue/10":"hover:bg-white/5"}`,children:[s.jsx("input",{type:"radio",id:e,name:t,value:n,checked:a,onChange:i,className:"hidden"}),s.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center mr-2 ${a?"border-electric-blue bg-electric-blue":"border-text-disabled"}`,children:a&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),s.jsx("span",{className:`text-sm font-semibold ${a?"text-electric-blue":"text-text-secondary"}`,children:r})]}),rp=({league:e,leagueGame:t,members:n,events:r,onApply:a,loading:i})=>{const[o,l]=h.useState(!1),c=t.leaderboard_period,[d,u]=h.useState((c==null?void 0:c.start_type)||"season_start"),[m,f]=h.useState((c==null?void 0:c.end_type)||"season_end"),[p,y]=h.useState((c==null?void 0:c.start_date)||e.season_start_date||""),[v,j]=h.useState((c==null?void 0:c.end_date)||e.season_end_date||""),x=h.useMemo(()=>{let w,N;switch(d){case"link_date":w=t.linked_at;break;case"last_member_joined":const S=n.map(k=>se(k.joined_at).getTime());w=new Date(Math.max(...S)).toISOString();break;case"custom":w=p?new Date(p).toISOString():new Date().toISOString();break;case"season_start":default:w=e.season_start_date||new Date().toISOString()}switch(m){case"custom":N=v?new Date(v).toISOString():new Date().toISOString();break;case"season_end":default:N=e.season_end_date||new Date().toISOString()}return{startDate:se(w),endDate:se(N)}},[d,m,p,v,e,t,n]),g=h.useMemo(()=>r?r.filter(w=>no(se(w.startDate),{start:x.startDate,end:x.endDate})).length:0,[x,r]),b=()=>{const w={start_type:d,end_type:m,start_date:x.startDate.toISOString(),end_date:x.endDate.toISOString()};a(w)};return s.jsxs("div",{className:"bg-navy-accent/50 border border-disabled rounded-xl",children:[s.jsxs("button",{onClick:()=>l(!o),className:"w-full flex justify-between items-center p-4 text-left",children:[s.jsxs("h4",{className:"text-sm font-bold text-text-secondary uppercase flex items-center gap-2",children:[s.jsx(gc,{size:16})," Leaderboard Period"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-xs font-semibold text-lime-glow bg-lime-glow/10 px-2 py-1 rounded",children:["Events: ",g]}),s.jsx(mn,{className:`transition-transform text-text-secondary ${o?"rotate-180":""}`})]})]}),s.jsx($e,{children:o&&s.jsx(ye.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-disabled/50 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-deep-navy/50 p-3 rounded-lg space-y-2",children:[s.jsx("p",{className:"font-semibold text-text-primary text-sm",children:"Start From"}),s.jsx(Cr,{id:"start_season",name:"start",value:"season_start",label:"Season Start",checked:d==="season_start",onChange:w=>u(w.target.value)}),s.jsx(Cr,{id:"start_link",name:"start",value:"link_date",label:"Link Date",checked:d==="link_date",onChange:w=>u(w.target.value)}),s.jsx(Cr,{id:"start_member",name:"start",value:"last_member_joined",label:"Last Member Joined",checked:d==="last_member_joined",onChange:w=>u(w.target.value)}),s.jsx(Cr,{id:"start_custom",name:"start",value:"custom",label:"Custom Date",checked:d==="custom",onChange:w=>u(w.target.value)}),d==="custom"&&s.jsx("input",{type:"date",value:p.split("T")[0],onChange:w=>y(w.target.value),className:"input-base text-sm p-2 ml-6 w-auto"})]}),s.jsxs("div",{className:"bg-deep-navy/50 p-3 rounded-lg space-y-2",children:[s.jsx("p",{className:"font-semibold text-text-primary text-sm",children:"End At"}),s.jsx(Cr,{id:"end_season",name:"end",value:"season_end",label:"Season End",checked:m==="season_end",onChange:w=>f(w.target.value)}),s.jsx(Cr,{id:"end_custom",name:"end",value:"custom",label:"Custom Date",checked:m==="custom",onChange:w=>f(w.target.value)}),m==="custom"&&s.jsx("input",{type:"date",value:v.split("T")[0],onChange:w=>j(w.target.value),className:"input-base text-sm p-2 ml-6 w-auto"})]})]}),s.jsx("div",{className:"bg-deep-navy/50 p-3 rounded-lg text-center space-y-2",children:s.jsxs("p",{className:"text-xs text-text-disabled",children:["The leaderboard will be calculated from ",s.jsx("b",{className:"text-text-secondary",children:De(x.startDate,"MMM d, yyyy")})," to ",s.jsx("b",{className:"text-text-secondary",children:De(x.endDate,"MMM d, yyyy")}),"."]})}),s.jsxs("button",{onClick:b,disabled:i,className:"w-full primary-button flex items-center justify-center gap-2",children:[i?s.jsx(vt,{size:16,className:"animate-spin"}):s.jsx(Vn,{size:16}),"Apply Changes"]})]})})})]})},Mg=e=>"points"in e?e.points:e.totalPoints,mo=({isOpen:e,onClose:t,onConfirm:n,leaderboard:r,period:a,loading:i})=>{const o=h.useMemo(()=>r.slice(0,3),[r]),l=h.useMemo(()=>{let f=`🎉 Congratulations to the top 3 players!
`;return o.forEach((p,y)=>{const v=["🥇","🥈","🥉"][y];f+=`${v} ${p.username} — ${Mg(p)} pts
`}),f+=`*(Ranking calculated between ${De(new Date(a.start_date),"MMM d")} and ${De(new Date(a.end_date),"MMM d")})*`,f},[o,a]),[c,d]=h.useState(l);if(!e)return null;const u=c.length,m=u>300;return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-[60] animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block bg-warm-yellow/10 p-3 rounded-full mb-3",children:s.jsx(Ne,{className:"w-8 h-8 text-warm-yellow"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Celebrate the Winners"}),s.jsx("p",{className:"text-text-secondary mt-1",children:"Take a snapshot and post the winners in the feed."})]}),s.jsxs("div",{className:"bg-deep-navy/50 p-3 rounded-lg space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-text-secondary",children:"Top 3 Players:"}),o.map((f,p)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{children:["🥇","🥈","🥉"][p]}),s.jsx("span",{className:"font-bold text-text-primary",children:f.username}),s.jsxs("span",{className:"text-warm-yellow",children:[Mg(f)," pts"]})]},f.rank))]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Message (optional)"}),s.jsx("textarea",{value:c,onChange:f=>d(f.target.value),className:"input-base h-32",maxLength:300}),s.jsxs("p",{className:`text-xs text-right ${m?"text-hot-red":"text-text-disabled"}`,children:[u," / 300"]})]}),s.jsx("button",{onClick:()=>n(c),disabled:i||m,className:"w-full primary-button",children:i?s.jsx(vt,{className:"animate-spin mx-auto"}):"Confirm & Celebrate"})]})})},Tg=(e,t)=>{let n=0;return e.dailyEntries.forEach(r=>{const a=r.booster;r.bets.forEach(i=>{const o=t.find(d=>d.id===i.challengeMatchId);if(!o||o.status!=="played"||!o.result)return;const l=o.result===i.prediction,c=(a==null?void 0:a.matchId)===i.challengeMatchId;if(l){let d=i.amount*o.odds[i.prediction];c&&((a==null?void 0:a.type)==="x2"?d*=2:(a==null?void 0:a.type)==="x3"&&(d*=3)),n+=d}else c&&(a==null?void 0:a.type)==="x3"&&(n-=200)})}),Math.round(n)},c5=e=>{const{challenge:t,matches:n,userEntry:r,onBack:a,initialLeagueContext:i,allUsers:o,userLeagues:l,leagueMembers:c,leagueGames:d,currentUserId:u}=e,{updateLeagueGameLeaderboardPeriod:m,celebrateWinners:f}=he(),[p,y]=h.useState(!1),[v,j]=h.useState((i==null?void 0:i.leagueId)||null),[x,g]=h.useState(!1),{leagueGame:b,currentLeague:w,isCurrentUserAdmin:N}=h.useMemo(()=>{if(!v)return{leagueGame:null,currentLeague:null,isCurrentUserAdmin:!1};const P=d.find(z=>z.league_id===v&&z.game_id===t.id)||null,B=l.find(z=>z.id===v)||null,I=c.find(z=>z.league_id===v&&z.user_id===u),V=(I==null?void 0:I.role)==="admin";return{leagueGame:P,currentLeague:B,isCurrentUserAdmin:V}},[v,d,t.id,l,c,u]),S=h.useMemo(()=>b!=null&&b.leaderboard_period?b.leaderboard_period:w?{start_type:"season_start",end_type:"season_end",start_date:w.season_start_date||t.startDate,end_date:w.season_end_date||t.endDate}:{start_type:"season_start",end_type:"season_end",start_date:t.startDate,end_date:t.endDate},[b,w,t]),k=h.useMemo(()=>{const P={start:se(S.start_date),end:se(S.end_date)};return n.filter(B=>{const I=xt(se(t.startDate),B.day-1);return no(I,P)})},[n,S,t.startDate]),_=h.useMemo(()=>{const P=o.filter(I=>I.id!==u),B=[];if(r){const I=Tg(r,k),V=t.challengeBalance+I;B.push({username:"You",finalCoins:V,points:I,userId:u})}return P.forEach(I=>{const V=t.status==="Finished"?k.map(E=>({day:E.day,bets:[{challengeMatchId:E.id,prediction:"teamA",amount:100}]})):[],z={challengeId:t.id,dailyEntries:V.filter((E,Y,H)=>H.findIndex(Q=>Q.day===E.day)===Y)},R=Tg(z,k)+Math.floor(Math.random()*500-250),F=t.challengeBalance+R;B.push({username:I.username||"Player",finalCoins:F,points:R,userId:I.id})}),B.sort((I,V)=>V.points-I.points).map((I,V)=>({...I,rank:V+1}))},[r,k,t,o,u]),O=h.useMemo(()=>{if(v){const P=new Set(c.filter(B=>B.league_id===v).map(B=>B.user_id));return _.filter(B=>P.has(B.userId))}return _},[v,c,_]),T=P=>{b&&(y(!0),m(b.id,P),setTimeout(()=>y(!1),300))},C=P=>{if(!v)return;y(!0);const B=f(v,t,O,S,P,u);B.success||console.error(B.error),y(!1),g(!1)},D=h.useMemo(()=>[...new Set(n.map(B=>B.day))].map(B=>({startDate:xt(se(t.startDate),B-1).toISOString()})),[n,t.startDate]);return s.jsxs("div",{className:"animate-scale-in space-y-4",children:[s.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back"]}),s.jsx(sp,{gameId:t.id,userLeagues:l,leagueGames:d,leagueMembers:c,activeLeagueId:v,onSelectLeague:j}),!N&&s.jsxs("div",{className:"text-xs text-center text-text-disabled bg-deep-navy/50 p-2 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(vr,{size:14}),"Showing results from ",De(se(S.start_date),"MMM d")," to ",De(se(S.end_date),"MMM d")]}),N&&w&&b&&s.jsx(rp,{league:w,leagueGame:b,members:c.filter(P=>P.league_id===w.id),events:D,onApply:T,loading:p}),s.jsx(l5,{challenge:t,leaderboard:O}),N&&v&&s.jsx("div",{className:"pt-4",children:s.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center gap-2 py-3 bg-warm-yellow/20 text-warm-yellow rounded-xl font-semibold hover:bg-warm-yellow/30 transition-colors",children:[s.jsx(Ne,{size:16})," Celebrate the Winners"]})}),s.jsx(mo,{isOpen:x,onClose:()=>g(!1),onConfirm:C,leaderboard:O,period:S,loading:p})]})},d5={rookie:{label:"Rookie",color:"text-lime-glow"},pro:{label:"Pro",color:"text-warm-yellow"},elite:{label:"Elite",color:"text-hot-red"}},u5=({isOpen:e,onClose:t,onSelectMethod:n,challenge:r})=>{if(!e)return null;const a=d5[r.tier];return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-2xl font-bold text-center text-text-primary",children:"How do you want to join?"}),s.jsx("p",{className:"text-center text-sm text-text-secondary -mt-3",children:"You have multiple ways to enter this challenge."}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("button",{onClick:()=>n("coins"),className:"w-full flex items-center justify-between p-4 bg-deep-navy hover:bg-navy-accent rounded-xl border-2 border-disabled hover:border-electric-blue transition-all",children:[s.jsx("span",{className:"font-bold text-lg text-text-primary",children:"Use Coins"}),s.jsxs("div",{className:"flex items-center gap-2 font-semibold text-warm-yellow",children:[s.jsx(_t,{size:20}),s.jsx("span",{children:r.entry_cost.toLocaleString()})]})]}),s.jsxs("button",{onClick:()=>n("ticket"),className:"w-full flex items-center justify-between p-4 bg-deep-navy hover:bg-navy-accent rounded-xl border-2 border-disabled hover:border-electric-blue transition-all",children:[s.jsx("span",{className:"font-bold text-lg text-text-primary",children:"Use Ticket"}),s.jsxs("div",{className:`flex items-center gap-2 font-semibold ${a.color}`,children:[s.jsx(pr,{size:20}),s.jsx("span",{className:"capitalize",children:a.label})]})]})]}),s.jsx("button",{onClick:t,className:"w-full py-3 text-sm font-semibold text-text-secondary hover:bg-white/10 rounded-xl",children:"Cancel"})]})})},Vd=100,m5={initial:{scale:.95,y:20,opacity:0},animate:{scale:1,y:0,opacity:1},exit:e=>{let t=0,n=0;return e==="left"&&(t=-500),e==="right"&&(t=500),e==="up"&&(n=-500),{x:t,y:n,opacity:0,transition:{duration:.3}}}},f5=({match:e,onSwipe:t,isTop:n,currentPrediction:r})=>{const a=im(0),i=im(0),[o,l]=h.useState(null),c=Yo(a,[-200,200],[-25,25]),d=Yo(a,[-120,-70],[1,0]),u=Yo(a,[70,120],[0,1]),m=Yo(i,[-120,-70],[1,0]),f=(p,y)=>{if(!n)return;const{offset:v}=y;let j=null,x=null;v.y<-Vd&&Math.abs(v.y)>Math.abs(v.x)?(j="up",x="draw"):v.x<-Vd?(j="left",x="teamA"):v.x>Vd&&(j="right",x="teamB"),j&&x&&(nr.flushSync(()=>{l(j)}),t(e.id,x))};return s.jsxs(ye.div,{variants:m5,initial:"initial",animate:"animate",exit:"exit",custom:o,drag:n,dragConstraints:{left:0,right:0,top:0,bottom:0},onDragEnd:f,style:{x:a,y:i,rotate:c},whileTap:{scale:.98,cursor:"grabbing"},className:`absolute w-[90vw] max-w-sm h-[60vh] bg-white rounded-3xl shadow-2xl p-6 flex flex-col justify-between cursor-grab ${n?"":"pointer-events-none"}`,children:[n&&s.jsxs(s.Fragment,{children:[s.jsx(ye.div,{style:{opacity:d},className:"absolute top-1/2 left-4 -translate-y-1/2 text-red-500 font-bold text-3xl border-4 border-red-500 px-4 py-2 rounded-xl rotate-[-15deg] pointer-events-none",children:e.teamA.name.split(" ")[0].toUpperCase()}),s.jsx(ye.div,{style:{opacity:u},className:"absolute top-1/2 right-4 -translate-y-1/2 text-green-500 font-bold text-3xl border-4 border-green-500 px-4 py-2 rounded-xl rotate-[15deg] pointer-events-none",children:e.teamB.name.split(" ")[0].toUpperCase()}),s.jsx(ye.div,{style:{opacity:m},className:"absolute top-10 left-1/2 -translate-x-1/2 text-blue-500 font-bold text-3xl border-4 border-blue-500 px-4 py-2 rounded-xl pointer-events-none",children:"DRAW"})]}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-gray-500 font-semibold",children:e.kickoffTime})}),s.jsxs("div",{className:"flex items-center justify-around",children:[s.jsxs("div",{className:`text-center p-3 rounded-xl transition-colors ${r==="teamA"?"bg-purple-100":""}`,children:[s.jsx("p",{className:"text-6xl",children:e.teamA.emoji}),s.jsx("p",{className:"font-bold text-lg",children:e.teamA.name}),s.jsxs("p",{className:"font-semibold text-purple-600",children:["@",e.odds.teamA.toFixed(2)]})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-300",children:"VS"}),s.jsxs("div",{className:`text-center p-3 rounded-xl transition-colors ${r==="teamB"?"bg-purple-100":""}`,children:[s.jsx("p",{className:"text-6xl",children:e.teamB.emoji}),s.jsx("p",{className:"font-bold text-lg",children:e.teamB.name}),s.jsxs("p",{className:"font-semibold text-purple-600",children:["@",e.odds.teamB.toFixed(2)]})]})]}),s.jsxs("div",{className:`text-center p-3 rounded-xl transition-colors ${r==="draw"?"bg-purple-100":""}`,children:[s.jsx("p",{className:"font-bold text-lg",children:"Draw"}),s.jsxs("p",{className:"font-semibold text-purple-600",children:["@",e.odds.draw.toFixed(2)]})]})]},e.id)},p5=({onClose:e})=>{const[t,n]=h.useState(!1),r=({icon:a,title:i,description:o})=>s.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 p-3 rounded-lg",children:[s.jsx("div",{className:"bg-gray-200 p-3 rounded-full text-gray-600",children:a}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800",children:i}),s.jsx("p",{className:"text-sm text-gray-600",children:o})]})]});return s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-6 relative",children:[s.jsxs("div",{className:"text-center space-y-1",children:[s.jsx("div",{className:"inline-block bg-purple-100 p-3 rounded-full mb-2",children:s.jsx(ov,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"How to Play"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Swipe the cards to make your predictions!"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(r,{icon:s.jsx(Ve,{}),title:"Swipe Left",description:"To predict Team A wins"}),s.jsx(r,{icon:s.jsx(Jr,{}),title:"Swipe Right",description:"To predict Team B wins"}),s.jsx(r,{icon:s.jsx(ev,{}),title:"Swipe Up",description:"To predict a Draw"})]}),s.jsx("p",{className:"text-center text-xs text-gray-500 bg-blue-50 p-3 rounded-lg",children:"Don't worry! You can review and edit all your picks on the next screen before the first match starts."}),s.jsxs("div",{className:"pt-2 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("input",{id:"dont-show-again-swipe",type:"checkbox",checked:t,onChange:a=>n(a.target.checked),className:"h-4 w-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),s.jsx("label",{htmlFor:"dont-show-again-swipe",className:"ml-2 block text-sm text-gray-700",children:"Don't show this again"})]}),s.jsx("button",{onClick:()=>e(t),className:"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg text-white rounded-xl font-bold transition-colors",children:"Got it!"})]})]})})},h5=({matchDay:e,userEntry:t,onSwipePrediction:n,hasSeenSwipeTutorial:r,onDismissTutorial:a,onExit:i})=>{const[o,l]=h.useState(!r),[c,d]=h.useState([]),[u,m]=h.useState(-1);h.useEffect(()=>{const x=new Set(t.predictions.map(w=>w.matchId)),g=e.matches.filter(w=>!x.has(w.id)),b=g.length>0?g:e.matches;d(b),m(b.length-1)},[e.id]);const f=(x,g)=>{u<0||(m(b=>b-1),n(e.id,x,g))},p=x=>{l(!1),a(x)},y=c.length-(u+1),v=c.length,j=h.useMemo(()=>u<0||c.length===0?[]:c.slice(0,u+1),[c,u]);return s.jsxs("div",{className:"fixed inset-0 bg-gray-100 flex flex-col items-center justify-center z-40 overflow-hidden",children:[s.jsx("button",{onClick:i,className:"absolute top-4 right-4 z-50 bg-white/50 backdrop-blur-sm p-2 rounded-full text-gray-700 hover:bg-white hover:scale-110 transition-all",children:s.jsx(Z,{size:24})}),s.jsx("div",{className:"relative w-[90vw] max-w-sm h-[60vh] flex items-center justify-center",children:s.jsx($e,{children:j.map((x,g)=>{var N;const b=g===j.length-1,w=(N=t.predictions.find(S=>S.matchId===x.id))==null?void 0:N.prediction;return s.jsx(f5,{match:x,onSwipe:f,isTop:b,currentPrediction:w},x.id)})})}),u>=0&&s.jsx("div",{className:"absolute bottom-6 text-center text-gray-500 font-semibold bg-white/50 backdrop-blur-sm px-4 py-2 rounded-full",children:s.jsxs("p",{children:[y," / ",v]})}),o&&s.jsx(p5,{onClose:p})]})},x5=({isOpen:e,onClose:t})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:s.jsx(ov,{className:"w-6 h-6 text-purple-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Prediction Game Rules"})]}),s.jsxs("div",{className:"space-y-4 text-gray-600 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"1. Join the Game:"})," Pay the entry cost to participate in the MatchDay."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"2. Swipe to Predict:"})," For each match, swipe left for Team A win, right for Team B win, or up for a draw. You must predict all matches."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"3. Edit Your Picks:"})," You can review and change your predictions on the recap screen until the first match of the day begins."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"4. Points System:"})," If your prediction is correct, you earn points equal to the ",s.jsx("span",{className:"font-bold",children:"odds × 100"}),". Incorrect predictions earn 0 points."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"5. The Winner:"})," The player with the most points at the end of the MatchDay wins!"]})]}),s.jsx("button",{onClick:t,className:"w-full py-3 mt-4 bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg text-white rounded-xl font-bold transition-colors",children:"Got it!"})]})}):null,g5=e=>{const{allMatchDays:t,selectedMatchDayId:n,userEntry:r,onBack:a,onUpdatePrediction:i,onViewLeaderboard:o,onSelectMatchDay:l,onEditPicks:c,onLinkGame:d,profile:u,userLeagues:m,leagueMembers:f,leagueGames:p}=e,[y,v]=h.useState(!0),[j,x]=h.useState(!1),g=h.useMemo(()=>t.find(C=>C.id===n),[t,n]);if(!g)return s.jsxs("div",{className:"space-y-4 text-center p-8",children:[s.jsx("p",{className:"font-semibold text-text-secondary",children:"Match day not found."}),s.jsx("button",{onClick:a,className:"text-electric-blue font-semibold hover:underline",children:"Return to Games"})]});const b=g.status==="Upcoming",{totalPoints:w,potentialPoints:N,rank:S,totalPlayers:k}=h.useMemo(()=>{let C=0,D=0;return r.predictions.forEach(P=>{const B=g.matches.find(I=>I.id===P.matchId);if(B){const I=B.odds[P.prediction];C+=I*100,B.result&&B.result===P.prediction&&(D+=I*100)}}),{totalPoints:Math.round(D),potentialPoints:Math.round(C),rank:Math.floor(Math.random()*500)+1,totalPlayers:g.totalPlayers}},[g,r]),_=h.useMemo(()=>{if(!g||g.matches.length===0)return null;const D=[...g.matches].sort((B,I)=>B.kickoffTime.localeCompare(I.kickoffTime))[0],P=new Date(`${g.start_date}T${D.kickoffTime}:00`);return De(P,"MMM d, yyyy 'at' h:mm a")},[g]),O=h.useMemo(()=>t.map(C=>({id:C.id,name:C.name,startDate:C.start_date,endDate:C.end_date,leagues:[],status:C.status})),[t]),T=C=>C>=1e3?`${(C/1e3).toFixed(1)}k`:C.toString();return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("header",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(np,{game:g,userId:u.id,userLeagues:m,leagueMembers:f,leagueGames:p,onLink:d,loading:!1}),s.jsx("button",{onClick:()=>x(!0),className:"p-2 bg-navy-accent rounded-lg shadow-sm text-text-secondary hover:text-electric-blue",children:s.jsx(Ji,{size:20})}),s.jsxs("button",{onClick:()=>o(g.id),className:"flex items-center gap-1.5 p-2 bg-navy-accent rounded-lg shadow-sm text-text-secondary hover:text-electric-blue",children:[s.jsx(Ne,{size:20}),s.jsxs("span",{className:"text-xs font-bold",children:[T(S),"/",T(k)]})]})]})]}),s.jsx("div",{className:"-mx-4",children:s.jsx(tp,{gameWeeks:O,selectedGameWeekId:n,onSelect:l})}),b&&_&&s.jsxs("div",{className:"bg-warm-yellow/10 border border-warm-yellow/20 text-warm-yellow p-3 rounded-xl flex items-center justify-center gap-3",children:[s.jsx(Xi,{size:20}),s.jsxs("p",{className:"text-sm font-semibold text-center",children:["You can edit your picks until ",s.jsx("span",{className:"font-bold",children:_})]})]}),s.jsxs("div",{className:"card-base p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-left",children:[s.jsxs("button",{onClick:()=>v(!y),className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-lg font-bold text-text-primary",children:g.name}),s.jsx(mn,{className:`w-5 h-5 text-text-secondary transition-transform duration-300 ${y?"rotate-180":""}`})]}),c&&b&&s.jsxs("button",{onClick:c,className:"flex items-center gap-1.5 text-xs font-bold text-electric-blue bg-electric-blue/20 px-3 py-1.5 rounded-lg hover:bg-electric-blue/30 transition-colors",children:[s.jsx(rv,{size:14}),s.jsx("span",{children:"Swipe"})]})]}),b?s.jsxs("div",{className:"text-center mt-3",children:[s.jsx("p",{className:"text-xs font-semibold text-text-secondary flex items-center justify-center gap-1",children:"Potential Points"}),s.jsx("p",{className:"text-2xl font-bold text-electric-blue",children:N.toFixed(0)})]}):s.jsxs("div",{className:"text-center mt-3",children:[s.jsx("p",{className:"text-xs font-semibold text-text-secondary flex items-center justify-center gap-1",children:"Final Points"}),s.jsx("p",{className:"text-2xl font-bold text-lime-glow",children:w.toFixed(0)})]})]}),y&&s.jsx("div",{className:"space-y-3 border-t border-white/10 pt-4 animate-scale-in",children:g.matches.map(C=>{const D=r.predictions.find(z=>z.matchId===C.id),P=C.result&&D&&C.result===D.prediction,B=P&&D?C.odds[D.prediction]*100:0,I=z=>{const R=(D==null?void 0:D.prediction)===z;return b?R?"bg-gradient-to-r from-electric-blue to-neon-cyan text-white":"bg-deep-navy text-text-secondary hover:bg-navy-accent":R?P?"bg-lime-glow text-deep-navy":"bg-hot-red text-white":C.result===z?"bg-lime-glow/20 text-lime-glow":"bg-disabled text-text-disabled"},V=({outcome:z,label:R,odds:F})=>s.jsxs("button",{disabled:!b,onClick:()=>i==null?void 0:i(g.id,C.id,z),className:`p-2 rounded-lg text-sm font-semibold transition-colors flex flex-col items-center justify-center ${I(z)}`,children:[s.jsx("span",{children:R}),b&&s.jsxs("span",{className:"text-xs opacity-70",children:["@",F.toFixed(2)]})]});return s.jsxs("div",{className:"bg-deep-navy rounded-xl p-3 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("p",{className:"font-bold text-text-primary",children:[C.teamA.name," vs ",C.teamB.name]}),!b&&D&&s.jsxs("div",{className:`flex items-center gap-1 font-bold ${P?"text-lime-glow":"text-hot-red"}`,children:[P?s.jsx(sf,{size:16}):s.jsx(yr,{size:16}),s.jsx("span",{children:P?`+${B.toFixed(0)} pts`:"0 pts"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx(V,{outcome:"teamA",label:C.teamA.name.split(" ")[0],odds:C.odds.teamA}),s.jsx(V,{outcome:"draw",label:"Draw",odds:C.odds.draw}),s.jsx(V,{outcome:"teamB",label:C.teamB.name.split(" ")[0],odds:C.odds.teamB})]})]},C.id)})})]}),s.jsx(x5,{isOpen:j,onClose:()=>x(!1)})]})},y5=({isOpen:e,onClose:t,onConfirm:n,game:r,userBalance:a})=>{if(!e)return null;const i=a>=r.entry_cost;return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900",children:"Join Challenge"}),s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-4 text-center space-y-2",children:[s.jsx("p",{className:"text-lg font-bold text-purple-700",children:r.name}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Entry Cost"}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(_t,{className:"w-6 h-6 text-amber-500"}),s.jsx("p",{className:"text-3xl font-bold text-slate-800",children:r.entry_cost.toLocaleString()})]})]})]}),i?s.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 p-3 rounded-xl flex items-center gap-3",children:[s.jsx(fn,{size:20}),s.jsx("p",{className:"text-sm font-medium",children:"You have enough coins to join. This amount will be deducted from your balance."})]}):s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-3 rounded-xl flex items-center gap-3",children:[s.jsx(Zi,{size:20}),s.jsx("p",{className:"text-sm font-medium",children:"You do not have enough coins to join this challenge."})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsx("button",{onClick:n,disabled:!i,className:"w-full py-3.5 px-6 bg-gradient-to-r from-purple-600 to-blue-600 hover:shadow-lg disabled:bg-slate-300 disabled:cursor-not-allowed text-white rounded-xl font-bold transition-all",children:i?"Confirm & Join":"Insufficient Funds"}),s.jsx("button",{onClick:t,className:"w-full py-3 px-6 bg-slate-100 hover:bg-slate-200 rounded-xl font-bold text-slate-700 transition-colors",children:"Cancel"}),s.jsx("div",{className:"text-center",children:s.jsxs("span",{className:"text-sm text-gray-500",children:["Your Balance: ",s.jsxs("span",{className:"font-semibold",children:[a.toLocaleString()," coins"]})]})})]})]})})},v5=(e,t)=>{let n=0;return e.predictions.forEach(r=>{const a=t.matches.find(i=>i.id===r.matchId);a&&a.result&&a.result===r.prediction&&(n+=a.odds[r.prediction]*100)}),Math.round(n)},b5=e=>e===1?s.jsx(Ne,{size:20,className:"text-yellow-500"}):e===2?s.jsx(Qi,{size:20,className:"text-gray-400"}):e===3?s.jsx(Un,{size:20,className:"text-orange-400"}):s.jsx("span",{className:"font-bold text-text-secondary w-5 text-center",children:e}),j5=e=>{const{matchDay:t,userEntry:n,onBack:r,initialLeagueContext:a,allUsers:i,userLeagues:o,leagueMembers:l,leagueGames:c,currentUserId:d}=e,{updateLeagueGameLeaderboardPeriod:u,celebrateWinners:m}=he(),[f,p]=h.useState(!1),[y,v]=h.useState((a==null?void 0:a.leagueId)||null),[j,x]=h.useState(!1),{leagueGame:g,currentLeague:b,isCurrentUserAdmin:w}=h.useMemo(()=>{if(!y)return{leagueGame:null,currentLeague:null,isCurrentUserAdmin:!1};const C=c.find(I=>I.league_id===y&&I.game_id===t.id)||null,D=o.find(I=>I.id===y)||null,P=l.find(I=>I.league_id===y&&I.user_id===d),B=(P==null?void 0:P.role)==="admin";return{leagueGame:C,currentLeague:D,isCurrentUserAdmin:B}},[y,c,t.id,o,l,d]),N=h.useMemo(()=>g!=null&&g.leaderboard_period?g.leaderboard_period:b?{start_type:"season_start",end_type:"season_end",start_date:b.season_start_date||t.start_date,end_date:b.season_end_date||t.end_date}:{start_type:"season_start",end_type:"season_end",start_date:t.start_date,end_date:t.end_date},[g,b,t]),S=h.useMemo(()=>{const C={start:se(N.start_date),end:se(N.end_date)};return no(se(t.start_date),C)},[N,t.start_date]),k=h.useMemo(()=>{const C=i.filter(P=>P.id!==d),D=[];if(n){const P=S?v5(n,t):0;D.push({username:"You",points:P,userId:d,correct_picks:0,submission_timestamp:0})}return C.forEach(P=>{const B=S?Math.floor(Math.random()*500):0;D.push({username:P.username||"Player",points:B,userId:P.id,correct_picks:0,submission_timestamp:0})}),D.sort((P,B)=>B.points-P.points).map((P,B)=>({...P,rank:B+1}))},[n,t,i,d,S]),_=h.useMemo(()=>{if(y){const C=new Set(l.filter(D=>D.league_id===y).map(D=>D.user_id));return k.filter(D=>C.has(D.userId))}return k},[y,l,k]),O=C=>{g&&(p(!0),u(g.id,C),setTimeout(()=>p(!1),300))},T=C=>{if(!y)return;p(!0);const D=m(y,t,_,N,C,d);D.success||console.error(D.error),p(!1),x(!1)};return s.jsxs("div",{className:"animate-scale-in space-y-4",children:[s.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back"]}),s.jsx(sp,{gameId:t.id,userLeagues:o,leagueGames:c,leagueMembers:l,activeLeagueId:y,onSelectLeague:v}),!w&&s.jsxs("div",{className:"text-xs text-center text-text-disabled bg-deep-navy/50 p-2 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(vr,{size:14}),"Showing results from ",De(se(N.start_date),"MMM d")," to ",De(se(N.end_date),"MMM d")]}),w&&b&&g&&s.jsx(rp,{league:b,leagueGame:g,members:l.filter(C=>C.league_id===b.id),events:[t],onApply:O,loading:f}),s.jsxs("div",{className:"card-base p-5 space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-electric-blue",children:t.name}),s.jsx("p",{className:"text-sm font-semibold text-text-secondary",children:"Final Leaderboard"})]}),s.jsx("div",{className:"space-y-2",children:_.map(C=>s.jsxs("div",{className:`flex items-center p-3 rounded-xl ${C.username==="You"?"bg-electric-blue/10 border-2 border-electric-blue/50":"bg-deep-navy"}`,children:[s.jsx("div",{className:"w-8 flex justify-center",children:b5(C.rank)}),s.jsx("div",{className:"flex-1 font-semibold text-text-primary",children:C.username}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"font-bold text-warm-yellow",children:[C.points.toLocaleString()," pts"]})})]},C.rank))})]}),w&&y&&s.jsx("div",{className:"pt-4",children:s.jsxs("button",{onClick:()=>x(!0),className:"w-full flex items-center justify-center gap-2 py-3 bg-warm-yellow/20 text-warm-yellow rounded-xl font-semibold hover:bg-warm-yellow/30 transition-colors",children:[s.jsx(Ne,{size:16})," Celebrate the Winners"]})}),s.jsx(mo,{isOpen:j,onClose:()=>x(!1),onConfirm:T,leaderboard:_,period:N,loading:f})]})},B1=()=>{const[e,t]=h.useState([]),n=h.useCallback(a=>{t(i=>i.filter(o=>o.id!==a))},[]),r=h.useCallback((a,i="info",o=3e3)=>{const l=te();t(c=>[...c,{id:l,message:a,type:i}]),setTimeout(()=>{n(l)},o)},[n]);return{toasts:e,addToast:r,removeToast:n}},w5={success:s.jsx(fn,{className:"text-green-500"}),error:s.jsx(yr,{className:"text-red-500"}),info:s.jsx(vr,{className:"text-blue-500"})},N5=({toasts:e,removeToast:t})=>s.jsx("div",{className:"fixed top-5 right-5 z-[100] w-full max-w-xs space-y-2",children:s.jsx($e,{children:e.map(n=>s.jsxs(ye.div,{layout:!0,initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.8},transition:{type:"spring",stiffness:300,damping:25},className:"bg-white rounded-xl shadow-lg p-4 flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:w5[n.type]}),s.jsx("p",{className:"flex-1 text-sm font-medium text-gray-800",children:n.message}),s.jsx("button",{onClick:()=>t(n.id),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Z,{size:16})})]},n.id))})}),k5=({isOpen:e,onClose:t,onConfirm:n})=>{const[r,a]=h.useState(""),[i,o]=h.useState(!1),l="DELETE";if(!e)return null;const c=()=>{o(!0),n(),o(!1),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[60] animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block bg-red-100 p-3 rounded-full mb-3",children:s.jsx(Zi,{className:"w-8 h-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Delete Account"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This action is irreversible. All your data, progress, and coins will be permanently lost."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:['To confirm, please type "',s.jsx("span",{className:"font-bold",children:l}),'" below:']}),s.jsx("input",{type:"text",value:r,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-center font-mono tracking-widest"})]}),s.jsx("button",{onClick:c,disabled:r!==l||i,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:i?s.jsx(vt,{className:"animate-spin"}):"Permanently Delete My Account"})]})})},ec=({options:e,value:t,onChange:n,placeholder:r,label:a})=>{const[i,o]=h.useState(!1),[l,c]=h.useState(""),d=h.useRef(null),u=h.useMemo(()=>e.find(y=>y.value===t),[e,t]),m=h.useMemo(()=>e.filter(y=>y.label.toLowerCase().includes(l.toLowerCase())),[e,l]);h.useEffect(()=>{const y=v=>{d.current&&!d.current.contains(v.target)&&o(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const f=y=>{n(y),o(!1),c("")},p=y=>y.startsWith("http")?s.jsx("img",{src:y,alt:"",className:"w-6 h-6"}):s.jsx("span",{className:"text-2xl",children:y});return s.jsxs("div",{className:"relative w-full",ref:d,children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),s.jsxs("button",{type:"button",onClick:()=>o(!i),className:"w-full flex items-center justify-between p-3 bg-gray-100 border-2 border-gray-200 rounded-xl text-left",children:[u?s.jsxs("div",{className:"flex items-center gap-2",children:[u.icon&&p(u.icon),s.jsx("span",{className:"font-semibold",children:u.label})]}):s.jsx("span",{className:"text-gray-500",children:r}),s.jsx(mn,{className:`transition-transform ${i?"rotate-180":""}`})]}),s.jsx($e,{children:i&&s.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 w-full bg-white rounded-xl shadow-lg border z-10 p-2 max-h-60 overflow-y-auto",children:[s.jsxs("div",{className:"relative p-2",children:[s.jsx(mv,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Search...",className:"w-full pl-10 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg"})]}),s.jsx("div",{className:"space-y-1 mt-1",children:m.length>0?m.map(y=>s.jsxs("button",{type:"button",onClick:()=>f(y.value),className:"w-full flex items-center gap-3 p-3 text-left hover:bg-purple-50 rounded-lg",children:[y.icon&&p(y.icon),s.jsx("span",{children:y.label})]},y.value)):s.jsx("p",{className:"text-center text-sm text-gray-500 p-4",children:"No results found."})})]})})]})},ap=[{id:"team-1",name:"Real Madrid",logo:"https://media.api-sports.io/football/teams/541.png"},{id:"team-2",name:"Barcelona",logo:"https://media.api-sports.io/football/teams/529.png"},{id:"team-3",name:"Manchester United",logo:"https://media.api-sports.io/football/teams/33.png"},{id:"team-4",name:"Liverpool",logo:"https://media.api-sports.io/football/teams/40.png"},{id:"team-5",name:"Manchester City",logo:"https://media.api-sports.io/football/teams/50.png"},{id:"team-6",name:"Chelsea",logo:"https://media.api-sports.io/football/teams/49.png"},{id:"team-7",name:"Arsenal",logo:"https://media.api-sports.io/football/teams/42.png"},{id:"team-8",name:"Bayern Munich",logo:"https://media.api-sports.io/football/teams/157.png"},{id:"team-9",name:"Borussia Dortmund",logo:"https://media.api-sports.io/football/teams/165.png"},{id:"team-10",name:"Paris Saint-Germain",logo:"https://media.api-sports.io/football/teams/85.png"},{id:"team-11",name:"Juventus",logo:"https://media.api-sports.io/football/teams/496.png"},{id:"team-12",name:"AC Milan",logo:"https://media.api-sports.io/football/teams/489.png"},{id:"team-13",name:"Inter Milan",logo:"https://media.api-sports.io/football/teams/505.png"}],ip=[{name:"Argentina",flag:"🇦🇷"},{name:"Brazil",flag:"🇧🇷"},{name:"England",flag:"🏴󠁧󠁢󠁥󠁮󠁧󠁿"},{name:"France",flag:"🇫🇷"},{name:"Germany",flag:"🇩🇪"},{name:"Italy",flag:"🇮🇹"},{name:"Netherlands",flag:"🇳🇱"},{name:"Portugal",flag:"🇵🇹"},{name:"Spain",flag:"🇪🇸"},{name:"USA",flag:"🇺🇸"},{name:"Belgium",flag:"🇧🇪"},{name:"Croatia",flag:"🇭🇷"}],S5=/^[a-z0-9._]{3,20}$/,V1=({value:e,onChange:t,currentUserId:n,setExternalError:r})=>{const[a,i]=h.useState(null),{checkUsernameAvailability:o}=he(),l=h.useCallback(async u=>{if(!u){i(null),r(null);return}if(!S5.test(u)){i("invalid"),r("Invalid format.");return}i("checking"),await o(u,n)?(i("taken"),r("This username is already taken.")):(i("available"),r(null))},[o,n,r]);h.useEffect(()=>{const u=setTimeout(()=>{l(e)},500);return()=>{clearTimeout(u)}},[e,l]);const c=()=>{switch(a){case"checking":return s.jsx(vt,{className:"animate-spin text-gray-400"});case"available":return s.jsx(fn,{className:"text-green-500"});case"taken":case"invalid":return s.jsx(yr,{className:"text-red-500"});default:return null}},d=()=>{switch(a){case"invalid":return"3-20 chars, lowercase, numbers, '.', '_'";case"taken":return"This username is already taken.";case"available":return"This username is available.";default:return null}};return s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(to,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"username",type:"text",value:e,onChange:u=>t(u.target.value.toLowerCase().trim()),placeholder:"Choose a unique username",className:`w-full p-3 pl-10 pr-10 bg-gray-100 border-2 rounded-xl ${a==="invalid"||a==="taken"?"border-red-400":"border-gray-200 focus:border-purple-500"}`,required:!0,maxLength:20}),s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c()})]}),d()&&s.jsx("p",{className:`text-xs mt-1 ${a==="available"?"text-green-600":"text-red-500"}`,children:d()})]})},$1=({displayName:e,username:t})=>s.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"How your name will appear:"}),e?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xl font-bold text-gray-900",children:e}),s.jsxs("p",{className:"text-sm text-gray-500",children:["@",t||"username"]})]}):s.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["@",t||"username"]})]}),_5=({isOpen:e,onClose:t,profile:n,onUpdateProfile:r,onUpdateEmail:a,onSignOut:i,onDeleteAccount:o})=>{const[l,c]=h.useState(n.username||""),[d,u]=h.useState(n.display_name||""),[m,f]=h.useState(null),[p,y]=h.useState(""),[v,j]=h.useState(null),[x,g]=h.useState(n.profile_picture_url||null),[b,w]=h.useState(n.favorite_club||null),[N,S]=h.useState(n.favorite_national_team||null),[k,_]=h.useState(!1),[O,T]=h.useState(null),C=h.useRef(null);if(h.useEffect(()=>()=>{x&&x.startsWith("blob:")&&URL.revokeObjectURL(x)},[x]),!e)return null;const D=z=>{z.preventDefault(),!m&&(T("profile"),r({username:l,displayName:d,newProfilePic:v,favoriteClub:b,favoriteNationalTeam:N}),T(null),t())},P=z=>{z.preventDefault(),p&&p!==n.email&&(T("email"),a(p),T(null))},B=z=>{var F;const R=(F=z.target.files)==null?void 0:F[0];R&&(j(R),x&&x.startsWith("blob:")&&URL.revokeObjectURL(x),g(URL.createObjectURL(R)))},I=ap.map(z=>({value:z.id,label:z.name,icon:z.logo})),V=ip.map(z=>({value:z.name,label:z.name,icon:z.flag}));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full h-auto max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Profile Settings"}),s.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[s.jsxs("form",{onSubmit:D,className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Edit Profile"}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("input",{type:"file",ref:C,onChange:B,className:"hidden",accept:"image/png, image/jpeg"}),s.jsxs("button",{type:"button",onClick:()=>{var z;return(z=C.current)==null?void 0:z.click()},className:"relative w-24 h-24 rounded-full group",children:[s.jsx("img",{src:x||`https://api.dicebear.com/8.x/bottts/svg?seed=${n.id}`,alt:"Profile Preview",className:"w-full h-full rounded-full object-cover bg-gray-200"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(tv,{className:"text-white",size:32})})]})]}),s.jsx(V1,{value:l,onChange:c,currentUserId:n.id,setExternalError:f}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),s.jsx("input",{type:"text",value:d,onChange:z=>u(z.target.value),className:"w-full p-3 bg-gray-100 border-2 border-gray-200 rounded-xl",maxLength:30})]}),s.jsx($1,{displayName:d,username:l}),s.jsx(ec,{label:"Favorite Club",options:I,value:b,onChange:w,placeholder:"Choose a club"}),s.jsx(ec,{label:"Favorite National Team",options:V,value:N,onChange:S,placeholder:"Choose a country"}),s.jsx("button",{type:"submit",disabled:!!m,className:"w-full py-2.5 bg-purple-600 text-white font-semibold rounded-lg shadow-sm hover:bg-purple-700 disabled:bg-gray-300",children:O==="profile"?s.jsx(vt,{className:"animate-spin mx-auto"}):"Save Changes"})]}),s.jsxs("form",{onSubmit:P,className:"space-y-4 border-t pt-6",children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Change Email"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Email"}),s.jsx("p",{className:"text-sm text-gray-500 p-2 bg-gray-100 rounded-lg",children:n.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(iv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",value:p,onChange:z=>y(z.target.value),className:"w-full pl-10 pr-3 py-2 bg-gray-100 border border-gray-200 rounded-lg",placeholder:"Enter new email"})]})]}),s.jsx("button",{type:"submit",disabled:!p||p===n.email,className:"w-full py-2.5 bg-blue-600 text-white font-semibold rounded-lg shadow-sm hover:bg-blue-700 disabled:bg-gray-300",children:O==="email"?s.jsx(vt,{className:"animate-spin mx-auto"}):"Send Verification Email"})]}),s.jsxs("div",{className:"space-y-4 border-t pt-6",children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Account Actions"}),s.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 py-2.5 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:[s.jsx(av,{size:16})," Sign Out"]}),s.jsxs("button",{onClick:()=>_(!0),className:"w-full flex items-center justify-center gap-2 py-2.5 bg-red-100 text-red-700 font-semibold rounded-lg hover:bg-red-200",children:[s.jsx(hr,{size:16})," Delete Account"]})]})]})]})}),s.jsx(k5,{isOpen:k,onClose:()=>_(!1),onConfirm:o})]})},C5=({streak:e})=>{const t=(e==null?void 0:e.current_day)||0,n=Array.from({length:7},(r,a)=>a+1);return s.jsxs("div",{className:"card-base p-5",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-secondary flex items-center gap-2 mb-4",children:[s.jsx(Gn,{className:"text-warm-yellow"})," Daily Streak"]}),s.jsx("div",{className:"flex justify-between items-center mb-3",children:n.map(r=>{const a=r<=t,i=r===t+1,o=hv[r];return s.jsxs("div",{className:"flex flex-col items-center gap-1 text-center flex-1",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${a?"bg-lime-glow/20 border-lime-glow":i?"bg-electric-blue/20 border-electric-blue animate-pulse":"bg-deep-navy border-disabled"}`,children:a?s.jsx(fn,{size:20,className:"text-lime-glow"}):o.coins?s.jsxs("span",{className:`font-bold text-xs ${i?"text-electric-blue":"text-text-disabled"}`,children:["+",o.coins]}):s.jsx(we,{size:16,className:i?"text-electric-blue":"text-text-disabled"})}),s.jsxs("p",{className:`text-xs font-semibold ${a?"text-lime-glow":i?"text-electric-blue":"text-text-disabled"}`,children:["Day ",r]})]},r)})}),s.jsx("div",{className:"text-center text-sm text-text-secondary mt-4",children:t>0?s.jsxs("p",{children:["You're on a ",s.jsxs("span",{className:"font-bold text-warm-yellow",children:[t,"-day streak!"]})," Keep it up!"]}):s.jsx("p",{children:"Log in tomorrow to start a new streak."})})]})},et={predictionsTotal:500,predictionsCorrect:200,hotPerformanceIndex:2.13,bestHotDay:{date:"2025-01-19",hpi:2.85},streak:3,averageBetCoins:82,riskIndex:7.8,gamesPlayed:148,podiums:{gold:4,silver:6,bronze:10},trophies:8,badges:["Analyst","Hot Streak","Bold Player"],mostPlayedLeague:"La Liga",mostPlayedTeam:"Chelsea FC",favoriteGameType:"Prediction"},tn=({icon:e,title:t,value:n,footer:r,accentColor:a})=>s.jsxs("div",{className:"card-base p-4 flex flex-col justify-between border-l-4",style:{borderLeftColor:a||"var(--electric-blue)"},children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary mb-2",children:[e,s.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider",children:t})]}),s.jsx("div",{className:"text-2xl md:text-3xl font-bold text-text-primary",children:n})]}),r&&s.jsx("div",{className:"text-xs text-text-disabled mt-2",children:r})]}),M5=(e,t)=>({ratio:e/t*100,label:`${e}/${t} (${(e/t*100).toFixed(1)}%)`}),T5=e=>"#FB923C",P5=()=>{const e=M5(et.predictionsCorrect,et.predictionsTotal);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(tn,{icon:s.jsx(bc,{size:16}),title:"Prediction Accuracy",value:e.label,accentColor:"#38BDF8"}),s.jsx(tn,{icon:s.jsx(Gn,{size:16}),title:"Hot Performance Index",value:et.hotPerformanceIndex.toFixed(2),footer:s.jsxs(s.Fragment,{children:["Best: ",et.bestHotDay.hpi," on ",et.bestHotDay.date]}),accentColor:T5()}),s.jsx(tn,{icon:s.jsx(Rs,{size:16}),title:"Hot Streak",value:`${et.streak} Days`,footer:"Consecutive days with HPI ≥ 1.0",accentColor:"#FBBF24"}),s.jsx(tn,{icon:s.jsx(eo,{size:16}),title:"Risk Index",value:`${et.riskIndex}/10`,footer:"Based on odds variance",accentColor:"#F87171"}),s.jsx(tn,{icon:s.jsx(_t,{size:16}),title:"Average Bet",value:s.jsxs(s.Fragment,{children:[et.averageBetCoins," ",s.jsx("span",{className:"text-base",children:"coins"})]}),accentColor:"#FACC15"}),s.jsx(tn,{icon:s.jsx(pn,{size:16}),title:"Games Played",value:et.gamesPlayed,accentColor:"#A78BFA"}),s.jsx(tn,{icon:s.jsx(Ne,{size:16}),title:"Podiums",value:s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("span",{children:["🥇 ",et.podiums.gold]}),s.jsxs("span",{children:["🥈 ",et.podiums.silver]}),s.jsxs("span",{children:["🥉 ",et.podiums.bronze]})]}),accentColor:"#FBBF24"}),s.jsx(tn,{icon:s.jsx(Un,{size:16}),title:"Trophies",value:et.trophies,accentColor:"#C0C0C0"}),s.jsx(tn,{icon:s.jsx(fv,{size:16}),title:"Badges",value:et.badges.length,footer:et.badges.join(" · "),accentColor:"#4ADE80"}),s.jsx(tn,{icon:s.jsx(li,{size:16}),title:"Most Played League",value:et.mostPlayedLeague,accentColor:"#60A5FA"}),s.jsx(tn,{icon:s.jsx(rt,{size:16}),title:"Most Played Team",value:et.mostPlayedTeam,accentColor:"#38BDF8"}),s.jsx(tn,{icon:s.jsx(rv,{size:16}),title:"Favorite Game Type",value:et.favoriteGameType,accentColor:"#A78BFA"})]})},D5=({currentUserId:e,onInvite:t})=>{const{playerGraph:n}=he(),r=h.useMemo(()=>{const a=n[e]||{};return Object.values(a).sort((i,o)=>o.interactions-i.interactions).slice(0,5)},[n,e]);return Object.keys(n).length===0||r.length===0?s.jsxs("div",{className:"card-base p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🤝"}),s.jsx("p",{className:"text-text-secondary font-medium",children:"Your squad is forming."}),s.jsx("p",{className:"text-sm text-text-disabled mt-2",children:"Play games with others to see your frequent teammates here!"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-secondary flex items-center gap-2",children:[s.jsx(rt,{size:20,className:"text-warm-yellow"})," Your Squad"]}),s.jsx("div",{className:"space-y-3",children:r.map(a=>s.jsxs("div",{className:"card-base p-3 flex items-center gap-3",children:[s.jsx("img",{src:`https://api.dicebear.com/8.x/bottts/svg?seed=${a.playerId}`,alt:a.username,className:"w-12 h-12 rounded-full bg-deep-navy"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-text-primary",children:a.username}),s.jsxs("p",{className:"text-xs text-text-disabled",children:["Played ",a.interactions," games together"]}),s.jsxs("p",{className:"text-xs text-text-disabled",children:["Last played: ",mf(new Date(a.lastInteraction),{addSuffix:!0})]})]}),s.jsxs("button",{onClick:()=>t(a.username),className:"flex items-center gap-2 text-sm font-semibold bg-lime-glow/20 text-lime-glow px-3 py-2 rounded-lg hover:bg-lime-glow/30",children:[s.jsx(pn,{size:16})," Invite"]})]},a.playerId))})]})},U1=({profile:e,className:t,fallback:n="Player"})=>{const r=(e==null?void 0:e.display_name)||(e==null?void 0:e.username)||n;return s.jsx("span",{className:t,children:r})},L5=({onClick:e})=>s.jsxs("div",{className:"card-base p-4 flex items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-warm-yellow flex items-center gap-2",children:[s.jsx(yc,{size:16})," Unlock Premium"]}),s.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Enjoy exclusive tournaments, double tickets, and faster XP gain."})]}),s.jsx("button",{onClick:e,className:"primary-button text-sm py-2 px-4 flex-shrink-0",children:"Learn More"})]}),G1=({expiryDate:e})=>s.jsxs("div",{className:"bg-gradient-to-r from-warm-yellow/20 to-warm-yellow/5 p-4 rounded-2xl border-2 border-warm-yellow/50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vs,{size:24,className:"text-warm-yellow fill-current"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-warm-yellow",children:"Premium Active"}),s.jsxs("p",{className:"text-xs text-text-secondary",children:["Expires on ",De(new Date(e),"MMM d, yyyy")]})]})]}),s.jsx("button",{className:"text-xs font-bold text-electric-blue hover:underline",children:"Manage"})]}),A5=e=>{var D;const{profile:t,levels:n,allBadges:r,userBadges:a,userStreaks:i,onOpenSpinWheel:o,onOpenPremiumModal:l}=e,[c,d]=h.useState(!1),[u,m]=h.useState("overview"),f=Oi(P=>P.userSpinStates[t.id]),{addNotification:p}=he(),y=n.find(P=>P.level_name===(t.level??"Amateur"))||n[0],v=n.find(P=>P.min_xp>((y==null?void 0:y.min_xp)||0)),j=v&&y?v.min_xp-y.min_xp:0,x=y?(t.xp??0)-y.min_xp:0,g=j>0?x/j*100:100,b=a.map(P=>r.find(B=>B.id===P.badge_id)).filter(Boolean),w=t.favorite_club?ap.find(P=>P.id===t.favorite_club):null,N=t.favorite_national_team?ip.find(P=>P.name===t.favorite_national_team):null,S=!t.is_guest&&!t.favorite_club&&!t.favorite_national_team,k=i.find(P=>P.user_id===t.id),_=y?xv[y.level_name]:"N/A",O=({icon:P,label:B,value:I,valueIcon:V,onClick:z})=>s.jsxs("div",{className:"bg-deep-navy p-4 rounded-xl",children:[s.jsxs("p",{className:"text-xs font-semibold text-text-disabled mb-2 flex items-center gap-1.5",children:[P," ",B]}),I?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold text-text-primary",children:[typeof V=="string"?s.jsx("img",{src:V,alt:I,className:"w-6 h-6"}):V,s.jsx("span",{children:I})]}),s.jsx("button",{onClick:z,className:"text-xs font-bold text-electric-blue hover:underline",children:"Change"})]}):s.jsx("button",{onClick:z,className:"w-full text-left text-sm font-semibold text-text-disabled hover:text-electric-blue",children:"Tap to choose"})]}),T=({tier:P,spins:B})=>{const I={rookie:"border-lime-glow text-lime-glow",pro:"border-warm-yellow text-warm-yellow",elite:"border-hot-red text-hot-red"};return s.jsxs("button",{onClick:()=>o(P),disabled:B<=0,className:`flex-1 flex flex-col items-center justify-center p-3 rounded-xl border-2 ${I[P]} bg-deep-navy/50 disabled:opacity-50 disabled:border-disabled disabled:text-text-disabled`,children:[s.jsx("span",{className:"font-bold capitalize",children:P}),s.jsxs("span",{className:"text-xs",children:["(",B," spins)"]})]})},C=({label:P,icon:B,isActive:I,onClick:V})=>s.jsxs("button",{onClick:V,className:`flex-1 flex items-center justify-center gap-2 p-2 rounded-lg font-semibold transition-all text-sm ${I?"bg-electric-blue text-white shadow":"text-text-secondary"}`,children:[B," ",P]});return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-6 animate-scale-in",children:[s.jsxs("div",{className:"card-base p-5 flex flex-col items-center space-y-3 relative",children:[s.jsx("button",{onClick:()=>d(!0),className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(vc,{size:20})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-electric-blue to-neon-cyan p-1 rounded-full",children:t.profile_picture_url?s.jsx("img",{src:t.profile_picture_url,alt:"Profile",className:"w-full h-full rounded-full object-cover border-4 border-navy-accent"}):s.jsx("div",{className:"w-full h-full rounded-full bg-navy-accent flex items-center justify-center",children:s.jsx(to,{className:"w-12 h-12 text-electric-blue"})})}),y&&s.jsx("span",{className:"absolute bottom-0 right-0 bg-navy-accent p-1.5 rounded-full text-2xl shadow-md border-2 border-neon-cyan/50",children:y.level_icon_url})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(U1,{profile:t,className:"text-2xl font-bold text-text-primary"}),s.jsxs("p",{className:"text-sm text-text-disabled",children:["@",t.username]}),y&&s.jsx("p",{className:"text-sm font-semibold text-electric-blue mt-1",children:y.level_name})]})]}),s.jsxs("div",{className:"flex bg-navy-accent rounded-xl p-1 gap-1",children:[s.jsx(C,{label:"Overview",icon:s.jsx(PN,{size:16}),isActive:u==="overview",onClick:()=>m("overview")}),s.jsx(C,{label:"Stats",icon:s.jsx(Ki,{size:16}),isActive:u==="stats",onClick:()=>m("stats")}),s.jsx(C,{label:"Squad",icon:s.jsx(rt,{size:16}),isActive:u==="squad",onClick:()=>m("squad")})]}),u==="overview"&&s.jsxs("div",{className:"space-y-6",children:[t.is_subscriber&&t.subscription_expires_at?s.jsx(G1,{expiryDate:t.subscription_expires_at}):s.jsx(L5,{onClick:l}),S&&s.jsxs("div",{className:"bg-gradient-to-r from-warm-yellow to-orange-500 text-deep-navy p-4 rounded-2xl shadow-lg flex items-center gap-3",children:[s.jsx(Gn,{className:"flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:"Complete your profile!"}),s.jsx("p",{className:"text-sm",children:"Choose your fan preferences to unlock fan stats and community leagues."})]})]}),s.jsx(C5,{streak:k}),f&&s.jsxs("div",{className:"card-base p-5 space-y-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-secondary flex items-center gap-2",children:[s.jsx(we,{size:20,className:"text-warm-yellow"})," Spin the Wheel"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(T,{tier:"rookie",spins:f.availableSpins.rookie}),s.jsx(T,{tier:"pro",spins:f.availableSpins.pro}),s.jsx(T,{tier:"elite",spins:f.availableSpins.elite})]})]}),s.jsxs("div",{className:"card-base p-5 space-y-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-secondary flex items-center gap-2",children:[s.jsx(la,{size:20,className:"text-electric-blue"})," Fan Preferences"]}),s.jsx(O,{icon:s.jsx(Un,{size:16}),label:"Favorite Club",value:w==null?void 0:w.name,valueIcon:w==null?void 0:w.logo,onClick:()=>d(!0)}),s.jsx(O,{icon:s.jsx(li,{size:16}),label:"Favorite National Team",value:N==null?void 0:N.name,valueIcon:s.jsx("span",{className:"text-2xl",children:N==null?void 0:N.flag}),onClick:()=>d(!0)})]}),s.jsxs("div",{className:"card-base p-5",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-secondary flex items-center gap-2",children:[s.jsx(Vs,{size:20,className:"text-warm-yellow"})," XP Progress"]}),s.jsxs("span",{className:"font-bold text-sm text-text-secondary",children:[((D=t.xp)==null?void 0:D.toLocaleString())||0," / ",v?v.min_xp.toLocaleString():"Max"," XP"]})]}),s.jsx("div",{className:"w-full bg-disabled rounded-full h-4",children:s.jsx("div",{className:"bg-gradient-to-r from-neon-cyan to-warm-yellow h-4 rounded-full transition-all duration-500",style:{width:`${g}%`}})}),v&&s.jsxs("p",{className:"text-xs text-text-disabled text-center mt-2",children:[v.min_xp-(t.xp??0)," XP to reach ",v.level_name]})]}),s.jsxs("div",{className:"card-base p-5",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-secondary flex items-center gap-2 mb-2",children:[s.jsx(bc,{size:20,className:"text-lime-glow"})," Betting Limit"]}),s.jsxs("div",{className:"bg-deep-navy p-3 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm text-text-secondary",children:"Max bet per match"}),s.jsx("p",{className:"text-2xl font-bold text-warm-yellow",children:_?`${_.toLocaleString()} coins`:"No Limit"})]}),v&&s.jsx("p",{className:"text-xs text-text-disabled text-center mt-2",children:"Next level unlocks higher limits!"})]}),s.jsxs("div",{className:"card-base p-5",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-secondary flex items-center gap-2 mb-4",children:[s.jsx(fv,{size:20,className:"text-neon-cyan"})," Earned Badges"]}),b.length>0?s.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4",children:b.map(P=>s.jsxs("div",{className:"flex flex-col items-center text-center space-y-2 group",children:[s.jsx("div",{className:"bg-deep-navy group-hover:bg-electric-blue/20 transition-colors w-16 h-16 rounded-full flex items-center justify-center text-3xl shadow-inner",children:P.icon_url}),s.jsx("p",{className:"text-xs font-semibold text-text-secondary",children:P.name})]},P.id))}):s.jsxs("div",{className:"text-center py-8 bg-deep-navy rounded-xl",children:[s.jsx("p",{className:"text-text-secondary font-medium",children:"No badges earned yet."}),s.jsx("p",{className:"text-sm text-text-disabled mt-1",children:"Keep playing to unlock them!"})]})]})]}),u==="stats"&&s.jsx(P5,{}),u==="squad"&&s.jsx(D5,{currentUserId:t.id,onInvite:P=>{p({type:"squad",title:"Invite Sent",message:`You invited ${P} to a game.`})}}),s.jsx(_5,{isOpen:c,onClose:()=>d(!1),...e})]})})},E5=({match:e,onBet:t,onViewStats:n,onPlayGame:r,userBet:a})=>{var d,u;const i=e.status==="upcoming",o=!!a,l=m=>{if(i)return o&&a.prediction===m?"border-electric-blue bg-electric-blue/10":"border-disabled bg-deep-navy hover:border-electric-blue hover:shadow-lg hover:scale-105";{const f=e.result===m;return o&&a.prediction===m?f?"border-lime-glow bg-lime-glow/10":"border-hot-red bg-hot-red/10":f?"border-lime-glow/50 bg-lime-glow/5":"border-disabled bg-navy-accent cursor-not-allowed"}},c=({prediction:m,odds:f,label:p})=>{var x;const y=(a==null?void 0:a.prediction)===m,v=(a==null?void 0:a.status)==="won"&&y,j=(a==null?void 0:a.status)==="lost"&&y;return s.jsx("button",{onClick:()=>i&&t&&t(m,f),disabled:!i,className:`flex-1 p-3 rounded-xl border-2 transition-all duration-300 ${l(m)} ${i?"":"cursor-not-allowed"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-text-secondary mb-1 font-medium",children:p}),s.jsxs("div",{className:`text-xl font-bold ${v?"text-lime-glow":j?"text-hot-red":"text-text-primary"}`,children:[f.toFixed(2),"x"]}),v&&s.jsxs("div",{className:"text-xs text-lime-glow font-semibold mt-1 flex items-center justify-center gap-1",children:[s.jsx(sf,{size:14})," +",(x=a.winAmount)==null?void 0:x.toFixed(0)]}),j&&s.jsxs("div",{className:"text-xs text-hot-red font-semibold mt-1 flex items-center justify-center gap-1",children:[s.jsx(yr,{size:14})," -",a.amount]})]})})};return s.jsxs("div",{className:`card-base p-5 transition-all duration-300 ${i?"hover:border-neon-cyan/50":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx(Xi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:e.kickoffTime})]}),i?s.jsx("span",{className:`text-white text-xs px-3 py-1 rounded-full font-semibold ${o?"bg-gradient-to-r from-electric-blue to-neon-cyan":"bg-gradient-to-r from-lime-glow/80 to-lime-glow/50"}`,children:o?"Bet Placed":"Live"}):s.jsx("span",{className:"bg-disabled text-text-disabled text-xs px-3 py-1 rounded-full font-semibold",children:"Finished"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:e.teamA.emoji}),s.jsx("div",{className:"text-sm font-semibold text-text-primary",children:e.teamA.name})]}),s.jsx("div",{className:"px-4 text-center",children:i?s.jsx("div",{className:"text-2xl font-bold text-disabled",children:"VS"}):s.jsxs("div",{className:"text-2xl font-bold text-text-primary",children:[(d=e.score)==null?void 0:d.teamA," - ",(u=e.score)==null?void 0:u.teamB]})}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:e.teamB.emoji}),s.jsx("div",{className:"text-sm font-semibold text-text-primary",children:e.teamB.name})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eo,{className:"w-4 h-4 text-electric-blue"}),s.jsx("span",{className:"text-xs font-semibold text-text-secondary uppercase",children:i?"Place Your Bet":"Final Odds"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsxs("button",{onClick:n,className:"relative flex items-center gap-1.5 text-xs font-semibold text-text-secondary hover:text-electric-blue",children:[s.jsx(Ki,{size:16}),"Stats",e.hasLineup&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-lime-glow opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-lime-glow"})]})]}),r&&i&&s.jsxs("button",{onClick:()=>r(e.id,`${e.teamA.name} vs ${e.teamB.name}`),className:"flex items-center gap-1.5 text-xs font-semibold text-electric-blue bg-electric-blue/10 px-2 py-1 rounded-md hover:bg-electric-blue/20",children:[s.jsx(pn,{size:16}),"Play Game"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(c,{prediction:"teamA",odds:e.odds.teamA,label:e.teamA.name.split(" ")[0]}),s.jsx(c,{prediction:"draw",odds:e.odds.draw,label:"Draw"}),s.jsx(c,{prediction:"teamB",odds:e.odds.teamB,label:e.teamB.name.split(" ")[0]})]})]})]})},W1=({leagueName:e,leagueLogo:t,matchesCount:n,children:r,initialOpen:a=!1})=>{const[i,o]=h.useState(a);return s.jsxs("div",{className:"bg-navy-accent/50 rounded-2xl overflow-hidden border border-disabled/50",children:[s.jsxs("button",{onClick:()=>o(!i),className:"w-full flex justify-between items-center p-4 text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:t,alt:e,className:"w-6 h-6"}),s.jsx("h3",{className:"font-bold text-text-primary",children:e}),s.jsx("span",{className:"text-xs font-semibold bg-disabled text-text-disabled px-2 py-0.5 rounded-full",children:n})]}),s.jsx(mn,{className:`w-5 h-5 text-text-secondary transition-transform duration-300 ${i?"rotate-180":""}`})]}),s.jsx($e,{children:i&&s.jsx(ye.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsx("div",{className:"p-4 pt-0 space-y-4",children:r})})})]})},I5=({groupedMatches:e,orderedLeagues:t,bets:n,onBet:r,onViewStats:a,onPlayGame:i})=>{const o=Object.keys(e).length>0;return s.jsx("div",{className:"space-y-4",children:o?t.map((l,c)=>{const d=e[l]||[];return d.length===0?null:s.jsx(W1,{leagueName:l,leagueLogo:d[0].leagueLogo,matchesCount:d.length,initialOpen:c<5,children:d.map(u=>s.jsx(E5,{match:u,onBet:(m,f)=>r(u,m,f),onViewStats:()=>a(u),onPlayGame:i,userBet:n.find(m=>m.matchId===u.id)},u.id))},l)}):s.jsxs("div",{className:"card-base p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"📅"}),s.jsx("p",{className:"text-text-secondary font-medium",children:"No upcoming matches at the moment."}),s.jsx("p",{className:"text-sm text-text-disabled mt-2",children:"Check the Admin page to add a new match!"})]})})},R5=({match:e,onBet:t,onViewStats:n,userBet:r})=>{var c,d;const a=e.status==="upcoming",i=!!r,o=u=>{if(a)return i&&r.prediction===u?"border-electric-blue bg-electric-blue/10":"border-disabled bg-deep-navy hover:border-electric-blue hover:shadow-lg hover:scale-105";{const m=e.result===u;return i&&r.prediction===u?m?"border-lime-glow bg-lime-glow/10":"border-hot-red bg-hot-red/10":m?"border-lime-glow/50 bg-lime-glow/5":"border-disabled bg-navy-accent cursor-not-allowed"}},l=({prediction:u,odds:m,label:f})=>{var j;const p=(r==null?void 0:r.prediction)===u,y=(r==null?void 0:r.status)==="won"&&p,v=(r==null?void 0:r.status)==="lost"&&p;return s.jsx("button",{onClick:()=>a&&t&&t(u,m),disabled:!a,className:`flex-1 p-3 rounded-xl border-2 transition-all duration-300 ${o(u)} ${a?"":"cursor-not-allowed"}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-text-secondary mb-1 font-medium",children:f}),s.jsxs("div",{className:`text-xl font-bold ${y?"text-lime-glow":v?"text-hot-red":"text-text-primary"}`,children:[m.toFixed(2),"x"]}),y&&s.jsxs("div",{className:"text-xs text-lime-glow font-semibold mt-1 flex items-center justify-center gap-1",children:[s.jsx(sf,{size:14})," +",(j=r.winAmount)==null?void 0:j.toFixed(0)]}),v&&s.jsxs("div",{className:"text-xs text-hot-red font-semibold mt-1 flex items-center justify-center gap-1",children:[s.jsx(yr,{size:14})," -",r.amount]})]})})};return s.jsxs("div",{className:`card-base p-5 transition-all duration-300 ${a?"hover:border-neon-cyan/50":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[s.jsx(Xi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:e.kickoffTime})]}),a?s.jsx("span",{className:`text-white text-xs px-3 py-1 rounded-full font-semibold ${i?"bg-gradient-to-r from-electric-blue to-neon-cyan":"bg-gradient-to-r from-lime-glow/80 to-lime-glow/50"}`,children:i?"Bet Placed":"Live"}):s.jsx("span",{className:"bg-disabled text-text-disabled text-xs px-3 py-1 rounded-full font-semibold",children:"Finished"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:e.teamA.emoji}),s.jsx("div",{className:"text-sm font-semibold text-text-primary",children:e.teamA.name})]}),s.jsx("div",{className:"px-4 text-center",children:a?s.jsx("div",{className:"text-2xl font-bold text-disabled",children:"VS"}):s.jsxs("div",{className:"text-2xl font-bold text-text-primary",children:[(c=e.score)==null?void 0:c.teamA," - ",(d=e.score)==null?void 0:d.teamB]})}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:e.teamB.emoji}),s.jsx("div",{className:"text-sm font-semibold text-text-primary",children:e.teamB.name})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(eo,{className:"w-4 h-4 text-electric-blue"}),s.jsx("span",{className:"text-xs font-semibold text-text-secondary uppercase",children:a?"Place Your Bet":"Final Odds"})]}),n&&s.jsxs("button",{onClick:n,className:"relative flex items-center gap-1.5 text-xs font-semibold text-text-secondary hover:text-electric-blue",children:[s.jsx(Ki,{size:16}),"Stats",e.hasLineup&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-lime-glow opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-lime-glow"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(l,{prediction:"teamA",odds:e.odds.teamA,label:e.teamA.name.split(" ")[0]}),s.jsx(l,{prediction:"draw",odds:e.odds.draw,label:"Draw"}),s.jsx(l,{prediction:"teamB",odds:e.odds.teamB,label:e.teamB.name.split(" ")[0]})]})]})]})},O5=({groupedMatches:e,orderedLeagues:t,bets:n,onViewStats:r})=>{const a=Object.keys(e).length>0;return s.jsx("div",{className:"space-y-4",children:a?t.map((i,o)=>{const l=e[i]||[];return l.length===0?null:s.jsx(W1,{leagueName:i,leagueLogo:l[0].leagueLogo,matchesCount:l.length,initialOpen:o<5,children:[...l].reverse().map(c=>s.jsx(R5,{match:c,onViewStats:()=>r(c),userBet:n.find(d=>d.matchId===c.id)},c.id))},i)}):s.jsxs("div",{className:"card-base p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🏆"}),s.jsx("p",{className:"text-text-secondary font-medium",children:"No played matches yet."}),s.jsx("p",{className:"text-sm text-text-disabled mt-2",children:"Resolve a match in the Admin page to see it here."})]})})},z5=({date:e,picksCount:t,totalMatches:n,potentialWinnings:r})=>s.jsxs("div",{className:"sticky top-0 z-30 bg-deep-navy/80 backdrop-blur-md -mx-4 px-4 py-3 border-b border-disabled/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h1",{className:"text-xl font-bold text-text-primary",children:"Matches of the Day"}),s.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold text-text-secondary",children:[s.jsx(gc,{size:16}),s.jsx("span",{children:e})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"bg-navy-accent p-2 rounded-lg flex items-center gap-2",children:[s.jsx(bc,{size:24,className:"text-electric-blue"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-text-primary",children:"Your Picks"}),s.jsxs("p",{className:"text-text-secondary",children:[t," / ",n]})]})]}),s.jsxs("div",{className:"bg-navy-accent p-2 rounded-lg flex items-center gap-2",children:[s.jsx(_t,{size:24,className:"text-warm-yellow"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-text-primary",children:"Potential Win"}),s.jsxs("p",{className:"text-text-secondary",children:[r.toLocaleString()," coins"]})]})]})]})]}),Pg="userLeagueOrder",F5=e=>{const[t,n]=h.useState([]),[r,a]=h.useState([]);h.useEffect(()=>{const o=Array.from(new Set(e.map(l=>l.leagueName)));a(o);try{const l=localStorage.getItem(Pg);if(l){const c=JSON.parse(l),d=new Set(o),u=c.filter(f=>d.has(f)),m=o.filter(f=>!u.includes(f));n([...u,...m])}else n(o)}catch(l){console.error("Failed to parse league order from localStorage",l),n(o)}},[e]);const i=h.useCallback(o=>{n(o);try{localStorage.setItem(Pg,JSON.stringify(o))}catch(l){console.error("Failed to save league order to localStorage",l)}},[]);return{orderedLeagues:t,allLeagues:r,setOrderedLeagues:i}},B5=({id:e,name:t,logo:n})=>{const{attributes:r,listeners:a,setNodeRef:i,transform:o,transition:l}=lb({id:e}),c={transform:ua.Transform.toString(o),transition:l};return s.jsxs("div",{ref:i,style:c,className:"flex items-center bg-deep-navy p-3 rounded-lg touch-none",children:[s.jsx("button",{...r,...a,className:"p-2 cursor-grab active:cursor-grabbing text-text-disabled",children:s.jsx(sv,{size:20})}),s.jsx("img",{src:n,alt:t,className:"w-6 h-6 mx-2"}),s.jsx("span",{className:"font-semibold text-text-primary",children:t})]})},V5=({isOpen:e,onClose:t,leagues:n,onSave:r})=>{const[a,i]=h.useState(n),o=Bv(Fv(kc));if(h.useEffect(()=>{i(n)},[n]),!e)return null;const l=d=>{const{active:u,over:m}=d;u.id!==m.id&&i(f=>{const p=f.findIndex(v=>v.name===u.id),y=f.findIndex(v=>v.name===m.id);return Cc(f,p,y)})},c=()=>{r(a.map(d=>d.name)),t()};return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base w-full max-w-md h-auto max-h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-disabled",children:[s.jsx("h2",{className:"text-lg font-bold text-text-primary",children:"Reorder Leagues"}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:20})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:s.jsx(tb,{sensors:o,collisionDetection:Vv,onDragEnd:l,children:s.jsx(ib,{items:a.map(d=>d.name),strategy:sb,children:a.map(d=>s.jsx(B5,{id:d.name,name:d.name,logo:d.logo},d.name))})})}),s.jsx("div",{className:"p-4 border-t border-disabled",children:s.jsxs("button",{onClick:c,className:"w-full primary-button flex items-center justify-center gap-2",children:[s.jsx(uv,{size:18}),"Save Order"]})})]})})},Dg={matchId:"2",teams:{home:{name:"Barcelona",formSummary:{played:5,wins:4,draws:1,losses:0,goalsFor:12,goalsAgainst:4,formString:"W W D W W"},formMatches:[{date:"2025-10-10",competition:"La Liga",homeTeam:"Barcelona",awayTeam:"Girona",homeScore:3,awayScore:1,result:"W"},{date:"2025-10-03",competition:"Champions League",homeTeam:"Barcelona",awayTeam:"Inter Milan",homeScore:2,awayScore:2,result:"D"},{date:"2025-09-28",competition:"La Liga",homeTeam:"Celta Vigo",awayTeam:"Barcelona",homeScore:1,awayScore:4,result:"W"},{date:"2025-09-21",competition:"La Liga",homeTeam:"Barcelona",awayTeam:"Mallorca",homeScore:3,awayScore:0,result:"W"},{date:"2025-09-14",competition:"La Liga",homeTeam:"Real Sociedad",awayTeam:"Barcelona",homeScore:1,awayScore:2,result:"W"}]},away:{name:"Real Madrid",formSummary:{played:5,wins:3,draws:1,losses:1,goalsFor:9,goalsAgainst:5,formString:"L W D W W"},formMatches:[{date:"2025-10-10",competition:"La Liga",homeTeam:"Valencia",awayTeam:"Real Madrid",homeScore:1,awayScore:2,result:"W"},{date:"2025-10-03",competition:"Champions League",homeTeam:"Real Madrid",awayTeam:"Juventus",homeScore:1,awayScore:1,result:"D"},{date:"2025-09-28",competition:"La Liga",homeTeam:"Real Madrid",awayTeam:"Betis",homeScore:2,awayScore:0,result:"W"},{date:"2025-09-21",competition:"La Liga",homeTeam:"Atletico Madrid",awayTeam:"Real Madrid",homeScore:3,awayScore:1,result:"L"},{date:"2025-09-14",competition:"La Liga",homeTeam:"Real Madrid",awayTeam:"Sevilla",homeScore:3,awayScore:2,result:"W"}]}},h2h:[{date:"2025-03-16",competition:"La Liga",homeTeam:"Real Madrid",awayTeam:"Barcelona",score:"0–1"},{date:"2024-10-26",competition:"La Liga",homeTeam:"Barcelona",awayTeam:"Real Madrid",score:"1–2"},{date:"2024-04-21",competition:"La Liga",homeTeam:"Real Madrid",awayTeam:"Barcelona",score:"3–2"},{date:"2024-01-14",competition:"Supercopa",homeTeam:"Real Madrid",awayTeam:"Barcelona",score:"4–1"},{date:"2023-10-28",competition:"La Liga",homeTeam:"Barcelona",awayTeam:"Real Madrid",score:"1–2"}],lineup:{status:"confirmed",formation:"4-3-3",lastUpdated:"2025-10-17T18:45:00Z",source:"Opta MockFeed",starters:[{name:"Ter Stegen",position:"GK"},{name:"Koundé",position:"DF"},{name:"Araújo",position:"DF"},{name:"Cubarsí",position:"DF"},{name:"Cancelo",position:"DF"},{name:"Gündoğan",position:"MF"},{name:"Pedri",position:"MF"},{name:"F. de Jong",position:"MF"},{name:"Lamine Yamal",position:"FW"},{name:"Lewandowski (C)",position:"FW"},{name:"Raphinha",position:"FW"}],bench:[{name:"Iñaki Peña",position:"GK"},{name:"Iñigo Martínez",position:"DF"},{name:"Fermín López",position:"MF"},{name:"João Félix",position:"FW"}],absentees:[{name:"Gavi",reason:"injured (knee)"},{name:"Balde",reason:"injured (hamstring)"}]}},$5=e=>new Promise(t=>{setTimeout(()=>{e===Dg.matchId?t(Dg):t(null)},500)}),qe=({className:e})=>s.jsx("div",{className:`bg-navy-accent animate-pulse rounded ${e}`}),U5=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-deep-navy/50 p-4 rounded-lg space-y-3",children:[s.jsx(qe,{className:"h-5 w-1/2"}),s.jsx(qe,{className:"h-8 w-full"}),s.jsxs("div",{className:"grid grid-cols-5 gap-2 pt-2 border-t border-disabled/50",children:[s.jsx(qe,{className:"h-10"}),s.jsx(qe,{className:"h-10"}),s.jsx(qe,{className:"h-10"}),s.jsx(qe,{className:"h-10"}),s.jsx(qe,{className:"h-10"})]}),s.jsx("div",{className:"space-y-2 pt-2 border-t border-disabled/50",children:[...Array(5)].map((e,t)=>s.jsx(qe,{className:"h-8 w-full"},t))})]}),s.jsxs("div",{className:"bg-deep-navy/50 p-4 rounded-lg space-y-3",children:[s.jsx(qe,{className:"h-5 w-1/2"}),s.jsx(qe,{className:"h-8 w-full"})]})]}),G5=()=>s.jsx("div",{className:"space-y-2",children:[...Array(5)].map((e,t)=>s.jsxs("div",{className:"bg-navy-accent p-3 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(qe,{className:"h-3 w-16"}),s.jsx(qe,{className:"h-3 w-24"})]}),s.jsx(qe,{className:"h-4 w-1/3"}),s.jsx(qe,{className:"h-6 w-12"})]},t))}),W5=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx(qe,{className:"h-16 w-full"}),s.jsxs("div",{children:[s.jsx(qe,{className:"h-4 w-1/4 mb-2"}),s.jsx("div",{className:"bg-deep-navy/50 p-2 rounded-lg space-y-1",children:[...Array(11)].map((e,t)=>s.jsx(qe,{className:"h-6 w-full"},t))})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"h-4 w-1/4 mb-2"}),s.jsx("div",{className:"bg-deep-navy/50 p-2 rounded-lg space-y-1",children:[...Array(4)].map((e,t)=>s.jsx(qe,{className:"h-6 w-full"},t))})]})]}),Lg=({team:e})=>{const{formSummary:t,formMatches:n}=e,r=t.formString.split(" "),a=i=>i==="W"?"bg-lime-glow/20 text-lime-glow":i==="D"?"bg-disabled text-text-disabled":"bg-hot-red/20 text-hot-red";return s.jsxs("div",{className:"bg-navy-accent p-4 rounded-lg space-y-3",children:[s.jsx("h4",{className:"font-bold text-text-primary",children:e.name}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-text-secondary",children:"Last 5 Matches"}),s.jsx("div",{className:"flex gap-1",children:r.map((i,o)=>s.jsx("span",{className:`w-5 h-5 flex items-center justify-center text-xs font-bold rounded ${a(i)}`,children:i},o))})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-2 text-center text-xs text-text-disabled pt-2 border-t border-disabled/50",children:[s.jsxs("div",{children:[s.jsx("p",{children:"Played"}),s.jsx("p",{className:"font-bold text-text-primary",children:t.played})]}),s.jsxs("div",{children:[s.jsx("p",{children:"Wins"}),s.jsx("p",{className:"font-bold text-text-primary",children:t.wins})]}),s.jsxs("div",{children:[s.jsx("p",{children:"Draws"}),s.jsx("p",{className:"font-bold text-text-primary",children:t.draws})]}),s.jsxs("div",{children:[s.jsx("p",{children:"Losses"}),s.jsx("p",{className:"font-bold text-text-primary",children:t.losses})]}),s.jsxs("div",{children:[s.jsx("p",{children:"Goals"}),s.jsxs("p",{className:"font-bold text-text-primary",children:[t.goalsFor,":",t.goalsAgainst]})]})]}),s.jsx("div",{className:"space-y-2 pt-2 border-t border-disabled/50",children:n.map((i,o)=>s.jsxs("div",{className:"flex items-center justify-between text-xs p-2 bg-deep-navy rounded",children:[s.jsxs("span",{className:"text-text-disabled",children:[i.homeTeam," vs ",i.awayTeam]}),s.jsxs("span",{className:"font-bold text-text-primary",children:[i.homeScore,"-",i.awayScore]}),s.jsx("span",{className:`font-bold w-6 text-center ${a(i.result)} rounded`,children:i.result})]},o))})]})},Y5=({data:e,loading:t})=>t?s.jsx(U5,{}):e?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Lg,{team:e.home}),s.jsx(Lg,{team:e.away})]}):s.jsx("div",{className:"text-center text-text-disabled p-8",children:"No form data available."}),H5=({data:e,loading:t})=>t?s.jsx(G5,{}):!e||e.length===0?s.jsx("div",{className:"text-center text-text-disabled p-8",children:"No head-to-head data available."}):s.jsx("div",{className:"space-y-2",children:e.map((n,r)=>s.jsxs("div",{className:"bg-navy-accent p-3 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-text-disabled",children:[s.jsx("p",{children:n.date}),s.jsx("p",{children:n.competition})]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:[n.homeTeam," vs ",n.awayTeam]}),s.jsx("p",{className:"text-sm font-bold text-text-primary bg-deep-navy px-2 py-1 rounded",children:n.score})]},r))}),Ag=({title:e,players:t})=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-text-secondary mb-2 text-sm",children:e}),s.jsx("div",{className:"bg-deep-navy/50 p-2 rounded-lg space-y-1",children:t.map((n,r)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs p-1",children:[s.jsx("span",{className:"font-bold text-text-disabled w-6",children:n.position}),s.jsx("span",{className:"text-text-primary",children:n.name})]},r))})]}),q5=({data:e,loading:t})=>t?s.jsx(W5,{}):e?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-navy-accent p-3 rounded-lg text-center",children:[s.jsx("p",{className:"text-xs text-text-disabled",children:"Formation"}),s.jsx("p",{className:"text-lg font-bold text-electric-blue",children:e.formation}),s.jsxs("p",{className:"text-[10px] text-text-disabled mt-1",children:["Last updated: ",De(new Date(e.lastUpdated),"p")," from ",e.source]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ag,{title:"Starters",players:e.starters}),s.jsx(Ag,{title:"Bench",players:e.bench}),e.absentees.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-text-secondary mb-2 text-sm",children:"Absentees"}),s.jsx("div",{className:"bg-deep-navy/50 p-2 rounded-lg space-y-1",children:e.absentees.map((n,r)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs p-1 text-hot-red/80",children:[s.jsx(FN,{size:14}),s.jsxs("span",{children:[n.name," (",n.reason,")"]})]},r))})]})]})]}):s.jsx("div",{className:"text-center text-text-disabled p-8",children:"Lineups are not yet confirmed."}),K5={hidden:{y:"100%",x:0},visible:{y:0,x:0},desktopHidden:{y:0,x:"100%"},desktopVisible:{y:0,x:0}},$d=({label:e,icon:t,isActive:n,onClick:r})=>s.jsxs("button",{onClick:r,className:`flex-1 flex flex-col items-center gap-1 p-2 rounded-lg transition-colors ${n?"bg-electric-blue/10 text-electric-blue":"text-text-secondary hover:bg-white/5"}`,children:[t,s.jsx("span",{className:"text-xs font-semibold",children:e})]}),X5=({match:e,onClose:t})=>{const[n,r]=h.useState("form"),[a,i]=h.useState(null),[o,l]=h.useState(!1);h.useEffect(()=>{e?(l(!0),r("form"),$5(e.id).then(d=>{i(d),l(!1)})):i(null)},[e]);const c=()=>{switch(n){case"form":return s.jsx(Y5,{data:a==null?void 0:a.teams,loading:o});case"h2h":return s.jsx(H5,{data:a==null?void 0:a.h2h,loading:o});case"lineups":return s.jsx(q5,{data:a==null?void 0:a.lineup,loading:o});default:return null}};return s.jsx($e,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 md:hidden"}),s.jsxs(ye.div,{variants:K5,initial:"hidden",animate:"visible",exit:"hidden",transition:{type:"spring",damping:30,stiffness:300},className:`fixed bottom-0 left-0 right-0 h-[85vh] bg-deep-navy rounded-t-2xl shadow-2xl flex flex-col z-50 
                       md:bottom-auto md:top-0 md:left-auto md:w-96 md:h-screen md:rounded-none md:border-l md:border-disabled`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-disabled flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:e.teamA.emoji}),s.jsxs("span",{className:"text-sm font-bold text-text-primary",children:[e.teamA.name," vs ",e.teamB.name]}),s.jsx("span",{className:"text-2xl",children:e.teamB.emoji})]}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:20})})]}),s.jsxs("div",{className:"flex gap-2 p-2 border-b border-disabled flex-shrink-0",children:[s.jsx($d,{label:"Form",icon:s.jsx(NN,{size:18}),isActive:n==="form",onClick:()=>r("form")}),s.jsx($d,{label:"H2H",icon:s.jsx(MN,{size:18}),isActive:n==="h2h",onClick:()=>r("h2h")}),(a==null?void 0:a.lineup)&&s.jsx($d,{label:"Lineups",icon:s.jsx(rt,{size:18}),isActive:n==="lineups",onClick:()=>r("lineups")})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsx($e,{mode:"wait",children:s.jsx(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c()},n)})})]},e.id)]})})},Q5=({matches:e,bets:t,onBet:n,onPlayGame:r})=>{const[a,i]=h.useState("upcoming"),[o,l]=h.useState(!1),[c,d]=h.useState(null),{orderedLeagues:u,setOrderedLeagues:m}=F5(e),f=e.filter(g=>g.status==="upcoming"),p=e.filter(g=>g.status==="played"),y=h.useMemo(()=>f.reduce((g,b)=>{const w=b.leagueName||"Other";return g[w]||(g[w]=[]),g[w].push(b),g},{}),[f]),v=h.useMemo(()=>p.reduce((g,b)=>{const w=b.leagueName||"Other";return g[w]||(g[w]=[]),g[w].push(b),g},{}),[p]),j=h.useMemo(()=>{const g=new Map;return e.forEach(b=>{g.has(b.leagueName)||g.set(b.leagueName,b.leagueLogo)}),Array.from(g.entries()).map(([b,w])=>({name:b,logo:w}))},[e]),x=h.useMemo(()=>{const g=t.filter(w=>f.some(N=>N.id===w.matchId)).length,b=t.reduce((w,N)=>f.find(k=>k.id===N.matchId)?w+N.amount*N.odds:w,0);return{picksCount:g,totalMatches:f.length,potentialWinnings:b}},[t,f]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx(z5,{date:De(new Date,"EEEE, MMM d, yyyy"),picksCount:x.picksCount,totalMatches:x.totalMatches,potentialWinnings:x.potentialWinnings}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex-1 flex bg-navy-accent rounded-xl p-1",children:[s.jsx("button",{onClick:()=>i("upcoming"),className:`flex-1 p-2 rounded-lg font-semibold transition-all text-sm ${a==="upcoming"?"bg-electric-blue text-white shadow":"text-text-secondary"}`,children:"Upcoming"}),s.jsx("button",{onClick:()=>i("played"),className:`flex-1 p-2 rounded-lg font-semibold transition-all text-sm ${a==="played"?"bg-electric-blue text-white shadow":"text-text-secondary"}`,children:"Played"})]}),s.jsx("button",{onClick:()=>l(!0),className:"p-3 bg-navy-accent rounded-xl text-text-secondary hover:text-electric-blue",children:s.jsx(vc,{size:20})})]}),a==="upcoming"?s.jsx(I5,{groupedMatches:y,orderedLeagues:u,bets:t,onBet:n,onViewStats:d,onPlayGame:r}):s.jsx(O5,{groupedMatches:v,orderedLeagues:u,bets:t,onViewStats:d}),s.jsx(V5,{isOpen:o,onClose:()=>l(!1),leagues:j,onSave:m}),s.jsx(X5,{match:c,onClose:()=>d(null)})]})},Y1=({category:e,size:t=12,className:n=""})=>{switch(e){case"Star":return s.jsx(Vs,{size:t,className:`text-yellow-400 fill-yellow-400 ${n}`});case"Key":return s.jsx(af,{size:t,className:`text-gray-400 -rotate-90 ${n}`});case"Wild":return s.jsx(jN,{size:t,className:`text-green-400 ${n}`});default:return null}},J5=({isOpen:e,onClose:t,position:n,allPlayers:r,onSelectPlayer:a})=>{const[i,o]=h.useState(""),l=h.useMemo(()=>r.filter(c=>c.position===n).filter(c=>c.name.toLowerCase().includes(i.toLowerCase())).sort((c,d)=>d.pgs-c.pgs),[r,n,i]);return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full h-[80vh] flex flex-col p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Select a ",n]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(mv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search player...",value:i,onChange:c=>o(c.target.value),className:"w-full pl-10 pr-3 py-2 bg-gray-100 border border-gray-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-purple-500"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:l.map(c=>s.jsxs("button",{onClick:()=>{a(c),t()},className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-purple-50 rounded-xl transition-colors text-left",children:[s.jsx("img",{src:c.photo,alt:c.name,className:"w-12 h-12 rounded-full object-cover bg-gray-200"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-sm",children:c.name}),s.jsx("p",{className:"text-xs text-gray-500",children:c.teamName})]}),s.jsxs("div",{className:"text-center w-10",children:[s.jsx(Y1,{category:c.status}),s.jsx("p",{className:"text-xs font-semibold",children:c.pgs.toFixed(1)})]}),s.jsxs("div",{className:"text-center w-12",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Fatigue"}),s.jsxs("p",{className:"font-bold text-sm",children:[c.fatigue,"%"]})]})]},c.id))})]})}):null},Z5=e=>e===1?s.jsx(Ne,{size:20,className:"text-yellow-500"}):e===2?s.jsx(Qi,{size:20,className:"text-gray-400"}):e===3?s.jsx(Un,{size:20,className:"text-orange-400"}):s.jsx("span",{className:"font-bold text-text-secondary w-5 text-center",children:e}),Eg=({entry:e,isUser:t})=>s.jsxs("div",{className:`flex items-center p-3 rounded-xl ${t?"bg-electric-blue/10 border-2 border-electric-blue/50":"bg-deep-navy"}`,children:[s.jsx("div",{className:"w-8 flex justify-center",children:Z5(e.rank)}),s.jsx("img",{src:e.avatar,className:"w-10 h-10 rounded-full mx-2",alt:e.username}),s.jsx("p",{className:"flex-1 font-semibold text-text-primary",children:e.username}),s.jsxs("p",{className:"font-bold text-warm-yellow",children:[e.totalPoints," pts"]})]}),eD=e=>{const{isOpen:t,onClose:n,game:r,initialLeagueContext:a,allUsers:i,userLeagues:o,leagueMembers:l,leagueGames:c,currentUserId:d}=e,{leaderboardScores:u,updateLeagueGameLeaderboardPeriod:m,celebrateWinners:f}=he(),[p,y]=h.useState(!1),[v,j]=h.useState(!1),[x,g]=h.useState((a==null?void 0:a.leagueId)||null),{leagueGame:b,currentLeague:w,isCurrentUserAdmin:N}=h.useMemo(()=>{if(!x)return{leagueGame:null,currentLeague:null,isCurrentUserAdmin:!1};const D=c.find(V=>V.league_id===x&&V.game_id===r.id)||null,P=o.find(V=>V.id===x)||null,B=l.find(V=>V.league_id===x&&V.user_id===d),I=(B==null?void 0:B.role)==="admin";return{leagueGame:D,currentLeague:P,isCurrentUserAdmin:I}},[x,c,r.id,o,l,d]),S=h.useMemo(()=>b!=null&&b.leaderboard_period?b.leaderboard_period:w?{start_type:"season_start",end_type:"season_end",start_date:w.season_start_date||r.start_date,end_date:w.season_end_date||r.end_date}:{start_type:"season_start",end_type:"season_end",start_date:r.start_date,end_date:r.end_date},[b,w,r.start_date,r.end_date]),k=h.useMemo(()=>{const D={start:se(S.start_date),end:se(S.end_date)};return r.gameWeeks.filter(P=>no(se(P.startDate),D))},[r.gameWeeks,S]),_=h.useMemo(()=>{const D=u[r.id];if(!D)return[];const P=x?new Set(l.filter(I=>I.league_id===x).map(I=>I.user_id)):new Set(i.map(I=>I.id));return Array.from(P).map(I=>{const V=i.find(F=>F.id===I);if(!V)return null;const z=D[I]||{},R=k.reduce((F,E)=>F+(z[E.id]||0),0);return{userId:V.id,username:V.id===d?"You":V.username||`Player ${V.id}`,avatar:V.profile_picture_url||`https://api.dicebear.com/8.x/bottts/svg?seed=${V.id}`,totalPoints:R}}).filter(Boolean).sort((I,V)=>V.totalPoints-I.totalPoints).map((I,V)=>({...I,rank:V+1,boosterUsed:null}))},[x,l,i,d,u,r.id,k]),O=D=>{b&&(y(!0),m(b.id,D),setTimeout(()=>y(!1),300))},T=D=>{if(!x)return;y(!0);const P=f(x,r,_,S,D,d);P.success||console.error(P.error),y(!1),j(!1)};if(!t)return null;const C=_.find(D=>D.userId===d);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base w-full max-w-md h-[90vh] flex flex-col p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Leaderboard"}),s.jsx("button",{onClick:n,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsx("p",{className:"text-center text-sm text-text-secondary -mt-2 mb-4",children:r.name}),s.jsx(sp,{gameId:r.id,userLeagues:o,leagueGames:c,leagueMembers:l,activeLeagueId:x,onSelectLeague:g}),!N&&s.jsxs("div",{className:"text-xs text-center text-text-disabled bg-deep-navy/50 p-2 rounded-lg mt-4 flex items-center justify-center gap-2",children:[s.jsx(vr,{size:14}),"Showing results from ",De(se(S.start_date),"MMM d")," to ",De(se(S.end_date),"MMM d")]}),N&&w&&b&&s.jsx("div",{className:"mt-4",children:s.jsx(rp,{league:w,leagueGame:b,members:l.filter(D=>D.league_id===w.id),events:r.gameWeeks,onApply:O,loading:p})}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2 mt-4",children:[C&&s.jsxs("div",{className:"space-y-2 mb-4 sticky top-0 bg-navy-accent py-2 z-10",children:[s.jsx("p",{className:"text-xs text-center font-semibold text-text-disabled uppercase",children:"Your Position"}),s.jsx(Eg,{entry:C,isUser:!0}),s.jsx("hr",{className:"border-dashed border-disabled my-2"})]}),_.filter(D=>D.userId!==d).map(D=>s.jsx(Eg,{entry:D,isUser:!1},D.rank))]}),N&&x&&s.jsx("div",{className:"pt-4",children:s.jsxs("button",{onClick:()=>j(!0),className:"w-full flex items-center justify-center gap-2 py-3 bg-warm-yellow/20 text-warm-yellow rounded-xl font-semibold hover:bg-warm-yellow/30 transition-colors",children:[s.jsx(Ne,{size:16})," Celebrate the Winners"]})})]})}),s.jsx(mo,{isOpen:v,onClose:()=>j(!1),onConfirm:T,leaderboard:_,period:S,loading:p})]})},H1=({fatigue:e})=>{const t=()=>e>=90?"from-lime-glow to-green-400":e>=70?"from-yellow-400 to-amber-500":e>=50?"from-orange-400 to-red-500":"from-hot-red to-red-600";return s.jsxs("div",{className:"w-full bg-disabled rounded-full h-3.5 relative overflow-hidden",title:`Fatigue: ${e}%`,children:[s.jsx("div",{className:`h-full rounded-full transition-all duration-300 bg-gradient-to-r ${t()}`,style:{width:`${e}%`}}),s.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[9px] font-bold text-white mix-blend-difference",children:[e,"%"]})]})},tD=({isOpen:e,onClose:t,boosters:n,onSelect:r,teamPlayers:a})=>{const[i,o]=h.useState("list"),[l,c]=h.useState(null),[d,u]=h.useState(null);if(h.useEffect(()=>{e&&(o("list"),c(null),u(null))},[e]),!e)return null;const m=x=>{x.used||(x.id===3?(c(x),o("target_selection")):(r(x),t()))},f=x=>{u(g=>g===x?null:x)},p=()=>{l&&d&&(r(l,d),t())},y=a.filter(x=>x.position!=="Goalkeeper"),v=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Select a Booster"}),s.jsx("p",{className:"text-sm text-gray-500",children:"You can use one booster per GameWeek."})]}),s.jsx("div",{className:"space-y-3",children:n.map(x=>s.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${x.used?"bg-gray-100 border-gray-200 opacity-60":"bg-white border-gray-200"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${x.used?"bg-gray-200":"bg-purple-100"}`,children:x.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`font-bold ${x.used?"text-gray-500":"text-gray-800"}`,children:x.name}),s.jsx("p",{className:"text-xs text-gray-500",children:x.description})]}),x.used?s.jsx("span",{className:"text-xs font-bold text-gray-500 bg-gray-200 px-3 py-1 rounded-full",children:"Used"}):s.jsx("button",{onClick:()=>m(x),className:"font-semibold text-sm text-purple-600 bg-purple-100 hover:bg-purple-200 px-4 py-2 rounded-lg",children:"Select"})]})},x.id))})]}),j=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-center relative",children:[s.jsx("button",{onClick:()=>o("list"),className:"absolute left-0 p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Ve,{size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Select Target Player"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Choose a field player to apply the Recovery Boost."})]})]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:y.map(x=>s.jsxs("button",{onClick:()=>f(x.id),className:`w-full flex items-center gap-3 p-2 rounded-lg text-left transition-colors border-2 ${d===x.id?"bg-green-100 border-green-400":"hover:bg-gray-50 border-transparent"}`,children:[s.jsx("img",{src:x.photo,alt:x.name,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm",children:x.name}),s.jsx("div",{className:"w-20",children:s.jsx(H1,{fatigue:Math.round(x.fatigue*100)})})]}),d===x.id&&s.jsx(Vn,{className:"text-green-600"})]},x.id))}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:p,disabled:!d,className:"flex-1 py-3 bg-purple-600 text-white rounded-xl font-semibold disabled:bg-gray-300",children:"Apply Booster"})})]});return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),i==="list"?v():j()]})})},nD=({isOpen:e,onClose:t})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:s.jsx(Ji,{className:"w-6 h-6 text-purple-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fantasy Game Rules"})]}),s.jsxs("div",{className:"space-y-3 text-gray-600 text-sm max-h-[50vh] overflow-y-auto pr-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"1. Build Your Team:"})," Select a squad of players for each GameWeek, respecting formation and budget constraints if applicable."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"2. Choose a Captain:"})," Pick one player from your starting lineup to be your Captain. Their points for the GameWeek will be doubled!"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"3. Use Boosters:"})," You have powerful boosters like 'Double Impact' or 'Golden Game'. Use one per GameWeek to gain an edge. Used boosters cannot be used again."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"4. Scoring:"})," Players earn points for actions like goals, assists, clean sheets, and saves. They lose points for yellow/red cards and goals conceded."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"5. Live Points:"})," Watch your points update in real-time as matches are played."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"6. Deadlines:"})," Your team is locked once the first match of the GameWeek kicks off. No changes can be made after the deadline."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"7. The Winner:"})," The manager with the most points at the end of the GameWeek wins!"]})]}),s.jsx("button",{onClick:t,className:"w-full py-3 mt-4 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-colors",children:"Got it!"})]})}):null,sD=({gameWeek:e,team:t})=>{var o;const[n,r]=h.useState(!1),a=h.useMemo(()=>{const l={};if(!e.conditions)return{results:l,metCount:0,totalCount:0};let c=0;return e.conditions.forEach(d=>{let u=!1;switch(d.key){case"max_club_players":{const m=t.reduce((f,p)=>(f[p.teamName]=(f[p.teamName]||0)+1,f),{});u=Object.values(m).every(f=>f<=d.value);break}case"max_star_players":{u=t.filter(f=>f.status==="Star").length<=d.value;break}case"min_nationality":{u=t.some(m=>m.nationality===d.value);break}default:u=!0}l[d.key]=u,u&&c++}),{results:l,metCount:c,totalCount:e.conditions.length}},[e.conditions,t]),i=h.useMemo(()=>t.length<11?null:t.every(u=>u.status!=="Star")?"no_star":t.every(u=>u.status==="Wild")?"crazy":t.reduce((u,m)=>u+jv(new Date,se(m.birthdate)),0)/t.length>=30?"vintage":null,[t]);return s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg",children:[s.jsxs("button",{onClick:()=>r(!n),className:"w-full flex justify-between items-center p-4 text-left",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"Game Week Conditions"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-semibold text-gray-500",children:["✅ ",a.metCount," / ",a.totalCount," met"]}),s.jsx(mn,{className:`transition-transform duration-300 ${n?"rotate-180":""}`})]})]}),s.jsx($e,{children:n&&s.jsx(ye.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t border-gray-100",children:[s.jsx("div",{className:"space-y-1.5 pt-3",children:((o=e.conditions)==null?void 0:o.map(l=>{const c=a.results[l.key];return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c?s.jsx(fn,{size:16,className:"text-green-500 flex-shrink-0"}):s.jsx("div",{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:c?"text-gray-800":"text-gray-500",children:l.text})]},l.key)}))||s.jsx("p",{className:"text-sm text-gray-500",children:"No special conditions this week."})}),s.jsxs("div",{className:"space-y-1.5 pt-2",children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-600",children:"Optional Team Bonuses"}),s.jsx("p",{className:`flex items-center gap-2 text-sm ${i==="no_star"?"font-bold text-purple-700":"text-gray-500"}`,children:"💪 No Star Bonus — +25% if no Star Players"}),s.jsx("p",{className:`flex items-center gap-2 text-sm ${i==="crazy"?"font-bold text-purple-700":"text-gray-500"}`,children:"🎢 Crazy Boost — +40% if 100% Wild Cards"}),s.jsx("p",{className:`flex items-center gap-2 text-sm ${i==="vintage"?"font-bold text-purple-700":"text-gray-500"}`,children:"🧓 Vintage Boost — +20% if average age ≥ 30"})]})]})})})]})},om=({player:e,onClick:t,isCaptain:n,isSelectedForSwap:r,isBoosterTarget:a,size:i="normal",isLive:o})=>{var v;const l=i==="normal"?"w-20":"w-16",c=i==="normal"?"w-20 h-20":"w-16 h-16",d=i==="normal"?"w-6 h-6":"w-5 h-5",u=i==="normal"?16:14,m=i==="normal"?"w-5 h-5 text-[10px]":"w-4 h-4 text-[8px]",f=i==="normal"?"text-sm":"text-xs";if(!e)return s.jsxs("div",{className:`flex flex-col items-center gap-1 ${l}`,children:[s.jsx("button",{onClick:t,disabled:o,className:`${c} flex items-center justify-center bg-black/20 rounded-full border-2 border-dashed border-white/30 hover:bg-black/30 transition-colors disabled:cursor-not-allowed`,children:s.jsx(fr,{className:"text-white/50"})}),s.jsx("div",{className:"h-5"})," "]});const p={playing:"opacity-100",not_yet_played:"opacity-50",dnp:"opacity-30 grayscale",finished:"opacity-100"},y=o&&e.liveStatus?p[e.liveStatus]:"";return s.jsxs("div",{className:`flex flex-col items-center gap-1 group cursor-pointer ${l} ${y} transition-all`,onClick:t,children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute -inset-1 rounded-full transition-all duration-300 ${r&&!o?"ring-4 ring-yellow-400":""} ${a?"ring-4 ring-lime-glow animate-pulse":""}`}),s.jsx("img",{src:e.photo,alt:e.name,className:`${c} rounded-full object-cover bg-gray-300 border-2 border-white/50 shadow-lg`}),s.jsx("img",{src:e.teamLogo,alt:e.teamName,className:`${d} absolute -top-1 -left-1 bg-white rounded-full p-0.5 shadow-md`}),e.liveStatus!=="dnp"&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-white p-0.5 rounded-full shadow-md",children:s.jsx(Y1,{category:e.status,size:u})}),n&&e.liveStatus!=="dnp"&&s.jsx("div",{className:`absolute -bottom-1 left-1/2 -translate-x-1/2 bg-purple-600 text-white font-bold flex items-center justify-center rounded-full border-2 border-white shadow-md ${m}`,children:"C"}),e.isSubbedIn&&s.jsx("div",{className:"absolute -bottom-1 right-0 bg-green-500 text-white rounded-full p-0.5 border-2 border-white shadow-md",children:s.jsx(ev,{size:i==="normal"?12:10})}),e.liveStatus==="dnp"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-full",children:s.jsx("span",{className:"font-bold text-white text-lg",children:"DNP"})}),!o&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/40 rounded-full transition-opacity",children:s.jsx("span",{className:"text-white text-xs font-bold text-center px-1 truncate",children:e.name})})]}),o?s.jsx("p",{className:"font-bold text-blue-300 text-sm",children:((v=e.livePoints)==null?void 0:v.toFixed(1))??"0.0"}):s.jsx("p",{className:`font-bold text-white ${f}`,children:e.pgs.toFixed(1)}),s.jsx("div",{className:"w-16",children:s.jsx(H1,{fatigue:e.fatigue})})]})},rD=({starters:e,onSlotClick:t,captainId:n,selectedForSwap:r,formation:a,isLive:i})=>{const o={"2-3-1":{Defender:2,Midfielder:3,Attacker:1,Goalkeeper:1},"1-3-2":{Defender:1,Midfielder:3,Attacker:2,Goalkeeper:1},"2-2-2":{Defender:2,Midfielder:2,Attacker:2,Goalkeeper:1}},l=o[a]||o["2-3-1"],c={Attacker:e.filter(u=>u.position==="Attacker"),Midfielder:e.filter(u=>u.position==="Midfielder"),Defender:e.filter(u=>u.position==="Defender"),Goalkeeper:e.filter(u=>u.position==="Goalkeeper")},d=(u,m)=>{const f=c[u],p=[];for(let y=0;y<m;y++){const v=f[y]||null;p.push(s.jsx(om,{player:v,onClick:()=>t(u,v),isCaptain:(v==null?void 0:v.id)===n,isSelectedForSwap:(v==null?void 0:v.id)===(r==null?void 0:r.id),isLive:i},`${u}-${y}`))}return s.jsx("div",{className:"flex justify-around items-center gap-2 py-2",children:p})};return s.jsxs("div",{className:"rounded-2xl p-4 space-y-2 shadow-inner bg-deep-navy relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-center bg-no-repeat bg-contain opacity-10",style:{backgroundImage:"url('https://i.imgur.com/sC4a7fD.png')"}}),s.jsxs("div",{className:"relative",children:[d("Attacker",l.Attacker),d("Midfielder",l.Midfielder),d("Defender",l.Defender),d("Goalkeeper",l.Goalkeeper)]})]})},aD=({substitutes:e,onSlotClick:t,captainId:n,selectedForSwap:r,isLive:a})=>{const i=e.find(l=>l.position==="Midfielder")||null,o=e.find(l=>l.position==="Attacker")||null;return s.jsxs("div",{className:"bg-black/20 p-3 rounded-xl",children:[s.jsx("h4",{className:"text-center text-xs font-bold text-white/80 uppercase mb-2",children:"Bench"}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx(om,{player:i,onClick:()=>t("Midfielder",i),isCaptain:!!(i&&i.id===n),isSelectedForSwap:!!(i&&i.id===(r==null?void 0:r.id)),size:"small",isLive:a}),s.jsx(om,{player:o,onClick:()=>t("Attacker",o),isCaptain:!!(o&&o.id===n),isSelectedForSwap:!!(o&&o.id===(r==null?void 0:r.id)),size:"small",isLive:a})]})]})},iD=({playerResults:e,teamResult:t,teamPlayers:n,captainId:r,isFinished:a})=>{const[i,o]=h.useState(!1),l=h.useMemo(()=>n.reduce((c,d)=>{var u;return c+(((u=e[d.id])==null?void 0:u.points)||0)},0),[e,n]);return s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg",children:[s.jsxs("button",{onClick:()=>o(!i),className:"w-full flex justify-between items-center p-4 text-left",children:[s.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Ki,{size:18}),a?"Final":"Live"," Points Breakdown"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-bold text-purple-700",children:[t.totalPoints.toFixed(1)," pts"]}),s.jsx(mn,{className:`transition-transform duration-300 ${i?"rotate-180":""}`})]})]}),s.jsx($e,{children:i&&s.jsx(ye.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t border-gray-100",children:[a&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm font-semibold text-green-600 bg-green-50 p-2 rounded-lg mt-2",children:[s.jsx(Vn,{size:16})," Finalized"]}),s.jsxs("div",{className:"space-y-2 pt-3",children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-500 uppercase",children:"Player Scores"}),n.map(c=>{const d=e[c.id];if(!d)return null;const u=d.initialFatigue,m=c.id===r;return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:c.photo,alt:c.name,className:"w-6 h-6 rounded-full"}),s.jsxs("span",{className:"font-medium text-gray-800",children:[c.name," ",m&&"(C)"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-bold text-purple-700",children:[d.points.toFixed(1)," pts"]}),s.jsxs("div",{className:"text-xs text-gray-500 flex items-center justify-end gap-1",children:[s.jsx("span",{children:d.basePoints.toFixed(1)}),s.jsx("span",{className:"text-gray-400",children:"×"}),s.jsx("span",{title:`Fatigue: ${Math.round(u*100)}%`,children:u.toFixed(2)}),d.breakdown["Captain Bonus"]&&s.jsx("span",{className:"text-blue-500 font-bold",title:"Captain Bonus",children:"×C"}),d.breakdown["Double Impact"]&&s.jsx("span",{className:"text-red-500 font-bold",title:"Double Impact",children:"×DI"})]})]})]},c.id)})]}),s.jsxs("div",{className:"space-y-2 pt-3 border-t border-gray-100",children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-500 uppercase",children:"Team Total"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Sum of Player Points"}),s.jsx("span",{className:"font-semibold text-gray-800",children:l.toFixed(1)})]}),t.bonusApplied&&t.bonusApplied.split(" & ").map(c=>{const d=c.match(/(.+) \((.+)\)/);if(!d)return null;const u=d[1].trim(),m=d[2];return s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:u}),s.jsx("span",{className:"font-semibold text-green-600",children:m})]},u)}),t.boosterStatus&&s.jsxs("div",{className:"flex justify-between text-sm items-center text-blue-600 bg-blue-50 p-2 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vr,{size:14}),s.jsx("span",{children:"Booster Note"})]}),s.jsx("span",{className:"font-semibold text-right",children:t.boosterStatus})]}),s.jsxs("div",{className:"flex justify-between text-md font-bold mt-2 pt-2 border-t",children:[s.jsx("span",{children:"Final Score"}),s.jsx("span",{children:t.totalPoints.toFixed(1)})]})]})]})})})]})},oD=({isOpen:e,onClose:t,dnpPlayer:n,availableSubs:r,onConfirm:a})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Make a Substitution"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.jsx("span",{className:"font-semibold",children:n.name})," did not play. Choose a substitute from your bench."]})]}),s.jsx("div",{className:"space-y-2",children:r.length>0?r.map(i=>s.jsxs("button",{onClick:()=>a(n.id,i.id),className:"w-full flex items-center gap-3 p-3 bg-gray-50 hover:bg-purple-50 rounded-xl transition-colors text-left",children:[s.jsx("img",{src:i.photo,alt:i.name,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-sm",children:i.name}),s.jsx("p",{className:"text-xs text-gray-500",children:i.position})]}),s.jsxs("div",{className:"flex items-center gap-1 text-purple-600 font-semibold",children:[s.jsx(AN,{size:16}),s.jsx("span",{children:"Sub In"})]})]},i.id)):s.jsx("p",{className:"text-center text-sm text-gray-500 py-4",children:"No available substitutes for this position."})})]})}):null,lD=e=>{var Ft,ls;const{game:t,allPlayers:n,onBack:r,initialLeagueContext:a,allUsers:i,userLeagues:o,leagueMembers:l,leagueGames:c,currentUserId:d,onLinkGame:u,profile:m}=e,{userFantasyTeams:f,updateUserFantasyTeam:p,tickFantasyGame:y}=he(),[v,j]=h.useState(a?t.gameWeeks[t.gameWeeks.length-1].id:((Ft=t.gameWeeks.find(J=>J.status==="live"))==null?void 0:Ft.id)||((ls=t.gameWeeks.find(J=>J.status==="upcoming"))==null?void 0:ls.id)||t.gameWeeks[0].id),[x,g]=h.useState(null),[b,w]=h.useState(!!a),[N,S]=h.useState(!1),[k,_]=h.useState(!1),[O,T]=h.useState(null),[C,D]=h.useState(!1),[P,B]=h.useState(null),I=h.useMemo(()=>t.gameWeeks.find(J=>J.id===v),[t.gameWeeks,v]),V=I.status==="live",z=I.status==="finished",R=V||z,F=h.useMemo(()=>f.find(J=>J.gameWeekId===I.id&&J.userId===d),[f,I.id,d]);h.useEffect(()=>{if(V){const J=setInterval(()=>{y(I.id,d)},15e3);return()=>clearInterval(J)}},[V,I.id,d,y]);const{simulationResult:E}=h.useMemo(()=>{if(!F||!R)return{simulationResult:null};const{simulationResult:J}=Lv(F,n,zu);return{simulationResult:J}},[F,n,R]),{starters:Y,substitutes:H,captainId:Q}=h.useMemo(()=>F?{starters:F.starters.map(J=>n.find(ae=>ae.id===J)).filter(Boolean),substitutes:F.substitutes.map(J=>n.find(ae=>ae.id===J)).filter(Boolean),captainId:F.captain_id}:{starters:[],substitutes:[],captainId:null},[F,n]),X=h.useMemo(()=>E?Y.map(J=>{const ae=E.playerResults[J.id];return ae?{...J,livePoints:ae.points}:J}):Y,[Y,E]),le=h.useMemo(()=>V?Y.filter(J=>{var ae;return((ae=zu[J.id])==null?void 0:ae.minutes_played)===0}):[],[Y,V]),K=h.useMemo(()=>I.conditions?I.conditions.every(J=>{switch(J.key){case"max_club_players":{const ae=Y.reduce((U,ie)=>(U[ie.teamName]=(U[ie.teamName]||0)+1,U),{});return Object.values(ae).every(U=>U<=J.value)}default:return!0}}):!0,[Y,I.conditions]),oe=J=>{p(J),D(!1)},ne=(J,ae)=>{if(R){V&&ae&&le.some(U=>U.id===ae.id)&&B(ae);return}if(O)if(ae){if(F){const U=Y.map(ue=>ue.id===ae.id?O.id:ue.id),ie=H.map(ue=>ue.id===O.id?ae.id:ue.id);oe({...F,starters:U,substitutes:ie})}T(null)}else T(null);else g({position:J,playerToReplaceId:(ae==null?void 0:ae.id)||null})},je=(J,ae)=>{R||(ae?T(U=>(U==null?void 0:U.id)===ae.id?null:ae):g({position:J,playerToReplaceId:null}))},de=J=>{if(!F||!x||R)return;const{playerToReplaceId:ae}=x,U=[...Y.map(ue=>ue.id)],ie=[...H.map(ue=>ue.id)];if(U.includes(J.id)||ie.includes(J.id)){console.error("Player is already in the team."),g(null);return}if(ae){const ue=U.indexOf(ae);if(ue>-1)U[ue]=J.id,oe({...F,starters:U});else{const He=ie.indexOf(ae);He>-1&&(ie[He]=J.id,oe({...F,substitutes:ie}))}}g(null)},Xt=(J,ae)=>{!F||R||(oe({...F,booster_used:J.id,booster_target_id:ae}),S(!1))},Le=()=>{!F||R||oe({...F,booster_used:null,booster_target_id:null})},zt=()=>{R||!K||(console.log("Team confirmed:",F),D(!0))},bt=(J,ae)=>{if(!F)return;const U=F.starters.map(He=>He===J?ae:He),ie=F.substitutes.map(He=>He===ae?J:He);let ue=F.captain_id;F.captain_id===J&&(ue=ae),oe({...F,starters:U,substitutes:ie,captain_id:ue}),B(null)},Tt=yd.find(J=>J.id===(F==null?void 0:F.booster_used));return s.jsxs("div",{className:"space-y-4 pb-28",children:[s.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-sm text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:18}),"Back"]}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:t.name}),s.jsx("p",{className:"text-sm font-semibold text-text-secondary",children:I.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(np,{game:t,userId:m.id,userLeagues:o,leagueMembers:l,leagueGames:c,onLink:u,loading:!1}),s.jsx("button",{onClick:()=>_(!0),className:"p-2 bg-navy-accent rounded-lg shadow-sm text-text-secondary hover:text-electric-blue",children:s.jsx(Ji,{size:20})}),s.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-1.5 p-2 bg-navy-accent rounded-lg shadow-sm text-text-secondary hover:text-electric-blue",children:[s.jsx(Ne,{size:20}),s.jsx("span",{className:"text-xs font-bold",children:"3k/12k"})]})]})]}),s.jsx("div",{className:"-mx-4",children:s.jsx(tp,{gameWeeks:t.gameWeeks,selectedGameWeekId:v,onSelect:j})}),V?s.jsxs("div",{className:"text-center text-sm font-bold p-2 rounded-lg bg-hot-red/20 text-hot-red flex items-center justify-center gap-2",children:[s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-hot-red/70 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-hot-red"})]}),"LIVE"]}):z?s.jsxs("div",{className:"text-center text-sm font-bold p-2 rounded-lg bg-lime-glow/20 text-lime-glow flex items-center justify-center gap-2",children:[s.jsx(Vn,{size:16})," Game Week Finished"]}):s.jsx("div",{className:"text-center text-xs font-semibold p-2 rounded-lg bg-navy-accent text-text-secondary",children:"Team edit available until deadline"}),s.jsx(sD,{gameWeek:I,team:Y}),R&&E&&s.jsx(iD,{playerResults:E.playerResults,teamResult:E.teamResult,teamPlayers:X,captainId:Q,isFinished:z}),s.jsx(rD,{starters:X,onSlotClick:ne,captainId:Q,selectedForSwap:O,formation:I.formationConstraint||"2-3-1",isLive:R}),s.jsx(aD,{substitutes:H,onSlotClick:je,captainId:Q,selectedForSwap:O,isLive:R}),!R&&s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[Tt?s.jsxs("div",{className:"flex items-center justify-center gap-2 font-semibold py-3 rounded-xl shadow-lg transition-all bg-gradient-to-r from-warm-yellow to-orange-500 text-white",children:[Qe.cloneElement(Tt.icon,{size:20}),s.jsx("span",{children:Tt.name}),s.jsx("button",{onClick:Le,disabled:R,className:"ml-1 text-white/80 hover:text-white disabled:opacity-50","aria-label":"Cancel booster",children:s.jsx(Z,{size:16})})]}):s.jsxs("button",{onClick:()=>S(!0),disabled:R,className:"flex items-center justify-center gap-2 font-semibold py-3 rounded-xl shadow-lg transition-all disabled:bg-disabled disabled:text-text-disabled disabled:opacity-70 bg-navy-accent hover:bg-white/10",children:[s.jsx(bc,{size:18})," ",s.jsxs("span",{children:["Booster (",yd.filter(J=>!J.used).length,")"]})]}),s.jsxs("button",{onClick:zt,disabled:!K||C||R,title:K?"":"Your team violates GameWeek rules.",className:"flex-1 flex items-center justify-center gap-2 font-semibold py-3 rounded-xl shadow-lg transition-all primary-button",children:[s.jsx(Vn,{size:18})," ",C?"Team Confirmed":"Confirm Team"]})]}),V&&le.length>0&&s.jsx("p",{className:"text-center text-xs text-warm-yellow",children:"A player in your starting lineup did not play. Tap them to make a substitution."}),s.jsx(J5,{isOpen:!!x,onClose:()=>g(null),position:(x==null?void 0:x.position)||"Attacker",allPlayers:n,onSelectPlayer:de}),s.jsx(eD,{isOpen:b,onClose:()=>w(!1),game:t,initialLeagueContext:a,allUsers:i,userLeagues:o,leagueMembers:l,leagueGames:c,currentUserId:d}),s.jsx(tD,{isOpen:N,onClose:()=>S(!1),boosters:yd,onSelect:Xt,teamPlayers:Y}),s.jsx(nD,{isOpen:k,onClose:()=>_(!1)}),P&&s.jsx(oD,{isOpen:!!P,onClose:()=>B(null),dnpPlayer:P,availableSubs:H.filter(J=>J.position===P.position),onConfirm:bt})]})},cD=({profile:e,onContinue:t,loading:n})=>{const[r,a]=h.useState(""),[i,o]=h.useState(""),[l,c]=h.useState(null),[d,u]=h.useState(null),[m,f]=h.useState(null),p=h.useRef(null);h.useEffect(()=>()=>{m&&URL.revokeObjectURL(m)},[m]);const y=x=>{var b;const g=(b=x.target.files)==null?void 0:b[0];g&&(u(g),m&&URL.revokeObjectURL(m),f(URL.createObjectURL(g)))},v=x=>{x.preventDefault(),!l&&r.length>=3&&t(r,i,d)},j=n||r.length<3||!!l;return s.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white rounded-3xl shadow-2xl space-y-6 animate-scale-in",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome!"}),s.jsx("p",{className:"text-gray-500",children:"Let's set up your profile."})]}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("input",{type:"file",ref:p,onChange:y,className:"hidden",accept:"image/*"}),s.jsxs("button",{type:"button",onClick:()=>{var x;return(x=p.current)==null?void 0:x.click()},className:"relative w-28 h-28 rounded-full group bg-gray-100",children:[m?s.jsx("img",{src:m,alt:"Preview",className:"w-full h-full rounded-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center rounded-full border-2 border-dashed border-gray-300",children:s.jsx(to,{className:"w-12 h-12 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(tv,{className:"text-white",size:32})})]})]}),s.jsx(V1,{value:r,onChange:a,currentUserId:e.id,setExternalError:c}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name (Optional)"}),s.jsx("input",{id:"displayName",type:"text",value:i,onChange:x=>o(x.target.value),placeholder:"How your name will appear",className:"w-full p-3 bg-gray-100 border-2 border-gray-200 rounded-xl",maxLength:30})]}),s.jsx($1,{displayName:i,username:r}),s.jsx("button",{type:"submit",disabled:j,className:"w-full py-3.5 bg-purple-600 text-white font-bold rounded-xl shadow-lg shadow-purple-500/30 hover:bg-purple-700 disabled:bg-gray-300 disabled:shadow-none disabled:cursor-not-allowed transition-all",children:n?s.jsx(vt,{className:"animate-spin mx-auto"}):"Continue"})]})]})},dD=({onSave:e,onSkip:t,loading:n})=>{const[r,a]=h.useState(null),[i,o]=h.useState(null),l=h.useMemo(()=>ap.map(u=>({value:u.id,label:u.name,icon:u.logo})),[]),c=h.useMemo(()=>ip.map(u=>({value:u.name,label:u.name,icon:u.flag})),[]),d=()=>{e(r,i)};return s.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white rounded-3xl shadow-2xl space-y-8 animate-scale-in",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Define your fan preferences ⚡"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Choose your favorite club and national team — or skip and do it later from your profile."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(ec,{label:"Favorite Club",options:l,value:r,onChange:a,placeholder:"Search for a club..."}),s.jsx(ec,{label:"Favorite National Team",options:c,value:i,onChange:o,placeholder:"Search for a country..."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:d,disabled:n,className:"w-full py-3.5 bg-purple-600 text-white font-bold rounded-xl shadow-lg shadow-purple-500/30 hover:bg-purple-700 disabled:bg-gray-300 disabled:shadow-none transition-all",children:n?s.jsx(vt,{className:"animate-spin mx-auto"}):"Save & Continue"}),s.jsx("button",{onClick:t,disabled:n,className:"w-full py-3 text-sm font-semibold text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:"Skip for now"})]})]})},uD=({profile:e,onComplete:t})=>{const[n,r]=h.useState(1),[a,i]=h.useState(!1),[o,l]=h.useState({username:"",profilePicUrl:null}),c=(m,f)=>{i(!0);const p=f?URL.createObjectURL(f):null;l({username:m,profilePicUrl:p}),i(!1),r(2)},d=(m,f)=>{i(!0);const p={...e,username:o.username,profile_picture_url:o.profilePicUrl,favorite_club:m||void 0,favorite_national_team:f||void 0,sports_preferences:{...e.sports_preferences,football:{club:m||void 0,national_team:f||void 0}}};setTimeout(()=>{t(p),i(!1)},500)},u=()=>{i(!0);const m={...e,username:o.username,profile_picture_url:o.profilePicUrl};setTimeout(()=>{t(m),i(!1)},500)};return s.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-100 via-blue-50 to-pink-100 flex items-center justify-center p-4",children:[n===1&&s.jsx(cD,{profile:e,onContinue:c,loading:a,mockUsers:$l}),n===2&&s.jsx(dD,{onSave:d,onSkip:u,loading:a})]})},mD=({isOpen:e,onConfirm:t,onCancel:n})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-6 relative",children:[s.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block bg-purple-100 p-3 rounded-full mb-3",children:s.jsx(pn,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Your Account"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Want to save your progress, join challenges, and earn XP? Create a free Sportime account!"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:t,className:"w-full py-3.5 bg-purple-600 text-white font-bold rounded-xl shadow-lg shadow-purple-500/30 hover:bg-purple-700 transition-all",children:"Create Account"}),s.jsx("button",{onClick:n,className:"w-full py-3 text-sm font-semibold text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:"Maybe Later"})]})]})}):null,fD=({onMagicLinkSent:e,onBack:t})=>{const[n,r]=h.useState(""),[a,i]=h.useState(!1),o=async l=>{l.preventDefault(),i(!0),e(n)};return s.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-100 via-blue-50 to-pink-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white rounded-3xl shadow-2xl space-y-6 animate-scale-in relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 left-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Ve,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block bg-purple-100 p-3 rounded-full mb-3",children:s.jsx(pn,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create your Sportime account ⚡"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter your email to get started."})]}),s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",htmlFor:"magic-email",children:"Email Address"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(iv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{id:"magic-email",type:"email",value:n,onChange:l=>r(l.target.value),className:"w-full pl-10 pr-3 py-2.5 bg-gray-50 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0,placeholder:"you@example.com"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm font-medium text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-60",children:a?s.jsx(vt,{className:"animate-spin"}):"Send Magic Link"})})]})]})})},pD=({leagues:e,onCreate:t,onViewLeague:n})=>s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Your Leagues"}),s.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-sm font-semibold bg-lime-glow/20 text-lime-glow px-4 py-3 rounded-lg hover:bg-lime-glow/30",children:[s.jsx(fr,{size:16})," Create League"]})]}),e.length===0?s.jsxs("div",{className:"card-base p-8 text-center animate-scale-in",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🤷‍♀️"}),s.jsx("p",{className:"text-text-secondary font-medium",children:"You haven't joined any leagues yet."}),s.jsx("p",{className:"text-sm text-text-disabled mt-2",children:"Create a new league or join one with an invite link!"})]}):s.jsx("div",{className:"space-y-3",children:e.map(r=>s.jsx("button",{onClick:()=>n(r.id),className:"w-full card-base p-4 text-left transition-all hover:shadow-xl hover:border-neon-cyan/50",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-deep-navy rounded-lg flex items-center justify-center border-2 border-neon-cyan/20",children:r.image_url?s.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover rounded-lg"}):s.jsx(rt,{className:"w-8 h-8 text-neon-cyan/50"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-text-primary",children:r.name}),r.description&&s.jsx("p",{className:"text-sm text-text-secondary truncate",children:r.description})]})]})},r.id))})]})}),hD=({isOpen:e,onClose:t,inviteCode:n,isAdmin:r,onReset:a})=>{const[i,o]=h.useState(!1),l=`${window.location.origin}/join/${n}`;if(!e)return null;const c=()=>{navigator.clipboard.writeText(l),o(!0),setTimeout(()=>o(!1),2e3)};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invite Members"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Share this link with others to let them join your league."})]}),s.jsxs("div",{className:"bg-gray-100 p-3 rounded-xl flex items-center gap-2",children:[s.jsx("input",{type:"text",value:l,readOnly:!0,className:"flex-1 bg-transparent text-sm text-gray-600 truncate"}),s.jsx("button",{onClick:c,className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:i?s.jsx(Vn,{size:16}):s.jsx(rf,{size:16})})]}),r&&s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"As an admin, you can reset the invite link. The old link will stop working."}),s.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 text-sm font-semibold text-red-600 hover:bg-red-100 p-2 rounded-lg",children:[s.jsx(dv,{size:14})," Reset Invite Link"]})]})]})})},xD=({isOpen:e,onClose:t,league:n,members:r,onUpdateDetails:a,onRemoveMember:i,onLeave:o,onDelete:l})=>{const[c,d]=h.useState(n.name),[u,m]=h.useState(n.description||"");if(!e)return null;const f=()=>{a(n.id,c,u,n.image_url||null),t()},p=()=>{o(),t()},y=()=>{l(),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full h-auto max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Manage League"}),s.jsx("button",{onClick:t,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"League Details"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"League Name"}),s.jsx("input",{type:"text",value:c,onChange:v=>d(v.target.value),className:"w-full p-3 bg-gray-100 border-2 border-gray-200 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:u,onChange:v=>m(v.target.value),className:"w-full p-3 bg-gray-100 border-2 border-gray-200 rounded-xl h-24"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-gray-700",children:"Manage Members"}),r.length>0?r.map(v=>s.jsxs("div",{className:"flex items-center bg-gray-50 p-2 rounded-lg",children:[s.jsx("img",{src:v.profile_picture_url||`https://api.dicebear.com/8.x/bottts/svg?seed=${v.id}`,alt:v.username||"user",className:"w-8 h-8 rounded-full object-cover"}),s.jsx("p",{className:"flex-1 ml-3 font-semibold text-sm",children:v.username}),s.jsx("button",{onClick:()=>i(n.id,v.id),className:"p-2 text-red-500 hover:bg-red-100 rounded-full",children:s.jsx(BN,{size:16})})]},v.id)):s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"No other members to manage."})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"font-bold text-red-800 mb-3",children:"Danger Zone"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center gap-2 text-sm font-semibold bg-red-100 text-red-700 px-4 py-2 rounded-lg hover:bg-red-200",children:[s.jsx(av,{size:16})," Leave League"]}),s.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center gap-2 text-sm font-semibold bg-red-100 text-red-700 px-4 py-2 rounded-lg hover:bg-red-200",children:[s.jsx(hr,{size:16})," Delete League"]})]})]})]}),s.jsx("div",{className:"p-6 border-t",children:s.jsx("button",{onClick:f,className:"w-full py-3 bg-purple-600 text-white font-bold rounded-xl shadow-lg hover:bg-purple-700",children:"Save Changes"})})]})})},gD={Betting:{color:"bg-electric-blue/20 text-electric-blue"},Prediction:{color:"bg-neon-cyan/20 text-neon-cyan"},Fantasy:{color:"bg-lime-glow/20 text-lime-glow"},Private:{color:"bg-warm-yellow/20 text-warm-yellow"}},Ig=({game:e,onView:t,isAdmin:n,onUnlink:r})=>{const[a,i]=h.useState(!1),o=h.useRef(null),l=e.status==="Finished",c=gD[e.type],d=e.members_joined/e.members_total*100;h.useEffect(()=>{const m=f=>{o.current&&!o.current.contains(f.target)&&i(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const u=m=>{if(m%100>=11&&m%100<=13)return`${m}th`;switch(m%10){case 1:return`${m}st`;case 2:return`${m}nd`;case 3:return`${m}rd`;default:return`${m}th`}};return s.jsxs("div",{className:`card-base p-4 space-y-4 transition-opacity ${l?"opacity-70":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[l&&s.jsx("span",{title:"Finished Game",children:"🏁"}),s.jsx("h3",{className:"text-md font-bold text-text-primary pr-2",children:e.game_name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${c.color}`,children:e.type}),n&&!l&&r&&s.jsxs("div",{className:"relative",ref:o,children:[s.jsx("button",{onClick:()=>i(m=>!m),className:"p-1 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(wN,{size:18})}),s.jsx($e,{children:a&&s.jsxs(ye.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute top-full right-0 mt-1 w-40 bg-navy-accent border border-disabled rounded-lg shadow-xl z-10 p-1",children:[s.jsx("button",{onClick:()=>{t(),i(!1)},className:"w-full text-left text-sm p-2 rounded hover:bg-electric-blue/10 text-text-primary",children:"View Leaderboard"}),s.jsx("button",{onClick:()=>{r(),i(!1)},className:"w-full text-left text-sm p-2 rounded hover:bg-hot-red/10 text-hot-red",children:"Unlink Game"})]})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold text-text-secondary",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(rt,{size:14})," Members Joined"]}),s.jsxs("span",{children:[e.members_joined," / ",e.members_total]})]}),s.jsx("div",{className:"w-full bg-disabled rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-electric-blue h-full rounded-full",style:{width:`${d}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between border-t border-white/10 pt-3 gap-4",children:[s.jsxs("div",{className:"text-sm text-text-secondary",children:[s.jsxs("span",{children:["You are ",s.jsx("b",{className:"text-text-primary",children:u(e.user_rank_in_league)})," in your league"]}),e.type!=="Private"&&s.jsx("br",{}),e.type!=="Private"&&s.jsxs("span",{className:"text-xs",children:["(Global: #",e.user_rank_global.toLocaleString()," / ",e.total_players_global.toLocaleString(),")"]})]}),s.jsxs("button",{onClick:t,className:"flex-shrink-0 flex items-center justify-center gap-2 font-bold rounded-lg transition-all bg-gradient-to-r from-electric-blue to-neon-cyan text-white text-sm py-2 px-4 shadow-lg hover:shadow-neon-cyan/30",children:[s.jsx(Ki,{size:16}),s.jsx("span",{children:l?"Results":"View"})]})]})]})},yD={betting:{tag:"Betting",color:"bg-electric-blue/20 text-electric-blue"},prediction:{tag:"Prediction",color:"bg-neon-cyan/20 text-neon-cyan"},fantasy:{tag:"Fantasy",color:"bg-lime-glow/20 text-lime-glow"}},vD=({isOpen:e,onClose:t,onLinkGame:n,linkableGames:r,alreadyLinkedGameIds:a})=>e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full h-[80vh] flex flex-col p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-2xl font-bold text-text-primary flex items-center gap-2",children:[s.jsx(pn,{})," Link a Game"]}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:r.length>0?r.map(i=>{const o=a.includes(i.id),l=yD[i.gameType];return s.jsxs("button",{onClick:()=>{o||(n(i),t())},disabled:o,className:"w-full flex items-center gap-3 p-3 text-left rounded-xl transition-colors bg-navy-accent/50 hover:bg-navy-accent disabled:opacity-60 disabled:cursor-not-allowed",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-text-primary",children:i.name}),s.jsx("p",{className:`text-xs font-bold px-2 py-0.5 rounded-full inline-block mt-1 ${l.color}`,children:l.tag})]}),o&&s.jsx(fn,{size:20,className:"text-lime-glow"})]},i.id)}):s.jsx("div",{className:"text-center text-text-disabled py-10",children:"No linkable games available right now."})})]})}):null,q1=({isOpen:e,onClose:t,onConfirm:n,title:r,message:a,confirmText:i,isDestructive:o})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[60] animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[o&&s.jsx("div",{className:"inline-block bg-red-100 p-3 rounded-full mb-3",children:s.jsx(zN,{className:"w-8 h-8 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),s.jsx("p",{className:"text-gray-500 mt-2",children:a})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:n,className:`w-full py-3 font-bold rounded-xl shadow-lg transition-all ${o?"bg-red-600 text-white hover:bg-red-700":"bg-purple-600 text-white hover:bg-purple-700"}`,children:i}),s.jsx("button",{onClick:t,className:"w-full py-3 text-sm font-semibold text-gray-600 hover:bg-gray-100 rounded-xl",children:"Cancel"})]})]})}):null,bD=({post:e,author:t,isLiked:n,onToggleLike:r,onViewSnapshot:a})=>{const{leaderboardSnapshots:i}=he(),o=()=>{if(e.metadata.snapshot_id){const c=i.find(d=>d.id===e.metadata.snapshot_id);c&&a(c)}},l=()=>e.type==="celebration"&&e.metadata.top_players?s.jsx("div",{className:"mt-2 space-y-1",children:e.metadata.top_players.map((c,d)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{children:["🥇","🥈","🥉"][d]}),s.jsx("span",{className:"font-bold text-text-primary",children:c.name}),s.jsxs("span",{className:"text-warm-yellow",children:[c.score," pts"]})]},d))}):null;return s.jsxs("div",{className:"card-base p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:(t==null?void 0:t.profile_picture_url)||`https://api.dicebear.com/8.x/bottts/svg?seed=${e.author_id}`,alt:(t==null?void 0:t.username)||"user",className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx(U1,{profile:t,className:"font-bold text-text-primary",fallback:"A member"}),s.jsx("p",{className:"text-xs text-text-disabled",children:mf(new Date(e.created_at),{addSuffix:!0})})]})]}),s.jsx("p",{className:"text-text-secondary whitespace-pre-wrap",children:e.message}),l(),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[s.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-sm font-semibold text-text-secondary hover:text-hot-red transition-colors",children:[s.jsx(CN,{size:18,className:`${n?"text-hot-red fill-current":""}`}),s.jsx("span",{children:e.likes.length})]}),e.metadata.snapshot_id&&s.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-sm font-semibold text-electric-blue bg-electric-blue/10 px-3 py-1.5 rounded-lg hover:bg-electric-blue/20",children:[s.jsx(Ne,{size:16}),"View Snapshot"]})]})]})},jD=({posts:e,members:t,currentUserId:n,onViewSnapshot:r,onToggleLike:a})=>e.length===0?s.jsxs("div",{className:"card-base p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🤫"}),s.jsx("p",{className:"text-text-secondary font-medium",children:"The feed is quiet..."}),s.jsx("p",{className:"text-sm text-text-disabled mt-2",children:"Create a celebration or link a game to get things started!"})]}):s.jsx("div",{className:"space-y-4",children:e.map(i=>{const o=t.find(c=>c.id===i.author_id),l=i.likes.includes(n);return s.jsx(bD,{post:i,author:o,isLiked:l,onToggleLike:()=>a(i.id),onViewSnapshot:r},i.id)})}),wD=e=>"points"in e?e.points:e.totalPoints,ND=e=>e===1?s.jsx(Ne,{size:20,className:"text-yellow-500"}):e===2?s.jsx(Qi,{size:20,className:"text-gray-400"}):e===3?s.jsx(Un,{size:20,className:"text-orange-400"}):s.jsx("span",{className:"font-bold text-text-secondary w-5 text-center",children:e}),kD=({isOpen:e,onClose:t,snapshot:n,author:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-[70] animate-scale-in",children:s.jsxs("div",{className:"modal-base w-full max-w-md h-[90vh] flex flex-col p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Leaderboard Snapshot"}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsxs("div",{className:"bg-deep-navy/50 p-3 rounded-lg space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-text-secondary",children:["Snapshot of ",s.jsx("b",{className:"text-text-primary",children:n.game_name})," taken on ",s.jsx("b",{className:"text-text-primary",children:De(new Date(n.created_at),"MMM d, yyyy")})," by ",s.jsx("b",{className:"text-text-primary",children:(r==null?void 0:r.username)||"Admin"}),"."]}),s.jsxs("p",{className:"text-xs text-text-disabled italic",children:['"',n.message,'"']})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:n.data.map(a=>s.jsxs("div",{className:"flex items-center p-3 rounded-xl bg-deep-navy",children:[s.jsx("div",{className:"w-8 flex justify-center",children:ND(a.rank)}),s.jsx("p",{className:"flex-1 font-semibold text-text-primary ml-2",children:a.username}),s.jsxs("p",{className:"font-bold text-warm-yellow",children:[wD(a)," pts"]})]},a.rank))})]})}):null,SD=({state:e,updateState:t,next:n})=>{const r=h.useMemo(()=>Zr.find(i=>i.id===e.competition_id),[e.competition_id]),a=i=>{const o=i.target.value,l=Zr.find(c=>c.id===o);l&&t({competition_id:l.id,remaining_matchdays:l.remaining_matchdays})};return s.jsxs("div",{className:"space-y-6 text-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:"Select Competition"}),s.jsx("p",{className:"text-text-secondary",children:"Choose the base competition for your private league."})]}),s.jsxs("select",{value:e.competition_id||"",onChange:a,className:"input-base text-center",children:[s.jsx("option",{value:"",disabled:!0,children:"-- Choose a competition --"}),Zr.map(i=>s.jsx("option",{value:i.id,children:i.name},i.id))]}),r&&s.jsxs("p",{className:"text-lime-glow font-semibold animate-scale-in",children:[r.remaining_matchdays," matchdays remaining in ",r.name,"."]}),s.jsx("div",{className:"pt-4",children:s.jsx("button",{onClick:n,disabled:!e.competition_id,className:"primary-button w-full",children:"Continue"})})]})},Ud=({icon:e,title:t,description:n,value:r,selected:a,onClick:i})=>s.jsx("button",{onClick:i,className:`w-full text-left p-4 rounded-xl bg-deep-navy hover:bg-navy-accent border-2 transition-all ${a?"border-electric-blue":"border-disabled hover:border-electric-blue/50"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${a?"bg-electric-blue/10 text-electric-blue":"bg-disabled/20 text-text-disabled"}`,children:e}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-text-primary",children:t}),s.jsx("p",{className:"text-sm text-text-secondary",children:n})]})]})}),_D=({state:e,updateState:t,next:n,prev:r})=>{const a=i=>{t({format_type:i})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:"Choose Game Format"}),s.jsx("p",{className:"text-text-secondary",children:"Select the competition format for your league."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Ud,{icon:s.jsx(Ne,{size:24}),title:"Championship",description:"Everyone plays each other over a set number of matchdays.",value:"championship",selected:e.format_type==="championship",onClick:()=>a("championship")}),s.jsx(Ud,{icon:s.jsx(EN,{size:24}),title:"Championship + Knockouts",description:"After a regular season, the top 4 compete in playoffs.",value:"championship_knockout",selected:e.format_type==="championship_knockout",onClick:()=>a("championship_knockout")}),s.jsx(Ud,{icon:s.jsx(Zi,{size:24}),title:"Knockout Only",description:"Direct elimination tournament. High stakes from the start!",value:"knockout",selected:e.format_type==="knockout",onClick:()=>a("knockout")})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{onClick:r,className:"secondary-button flex-1 bg-navy-accent border-disabled text-text-secondary hover:border-electric-blue hover:text-electric-blue",children:"Back"}),s.jsx("button",{onClick:n,disabled:!e.format_type,className:"primary-button flex-1",children:"Continue"})]})]})},CD=({state:e,updateState:t,next:n,prev:r})=>{const a=e.remaining_matchdays||1,i=o=>{t({selected_matchdays:parseInt(o.target.value,10)})};return s.jsxs("div",{className:"space-y-6 text-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:"Select Matchdays"}),s.jsx("p",{className:"text-text-secondary",children:"How many matchdays do you want to play?"})]}),s.jsxs("div",{className:"bg-deep-navy/50 p-4 rounded-xl",children:[s.jsxs("label",{htmlFor:"matchdays-slider",className:"block text-sm font-semibold text-text-secondary mb-2",children:["Matchdays: ",s.jsx("span",{className:"text-electric-blue font-bold text-lg",children:e.selected_matchdays})]}),s.jsx("input",{id:"matchdays-slider",type:"range",min:"1",max:a,value:e.selected_matchdays||1,onChange:i,className:"w-full h-2 bg-disabled rounded-lg appearance-none cursor-pointer accent-electric-blue"}),s.jsxs("div",{className:"flex justify-between text-xs font-medium text-text-disabled mt-1",children:[s.jsx("span",{children:"1"}),s.jsx("span",{children:a})]})]}),s.jsxs("p",{className:"text-lime-glow font-semibold",children:["Your game will run over ",e.selected_matchdays," matchdays."]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{onClick:r,className:"secondary-button flex-1 bg-navy-accent border-disabled text-text-secondary hover:border-electric-blue hover:text-electric-blue",children:"Back"}),s.jsx("button",{onClick:n,disabled:!e.selected_matchdays,className:"primary-button flex-1",children:"Continue"})]})]})};function K1(e,t,n,r){if(e==="championship")return t<3?{valid:!1,error:"Championship format requires at least 3 players."}:{valid:!0,restWeek:t%2!==0};if(e==="championship_knockout"){if(t<4)return{valid:!1,error:"This format requires at least 4 players for the knockout stage."};const a=r==="double"?4:2;return n<=a?{valid:!1,error:`You need more than ${a} matchdays to include playoffs.`}:{valid:!0,playoffDays:a,restWeek:t%2!==0}}if(e==="knockout"){if(t<2||t&t-1)return{valid:!1,error:"Knockout format works best with a power of 2 players (e.g., 4, 8, 16)."};const a=Math.log2(t),i=r==="double"?a*2:a;return n<i?{valid:!1,error:`This format requires at least ${i} matchdays for ${t} players.`}:{valid:!0,requiredDays:i}}return{valid:!1,error:"Invalid format selected."}}const MD=[4,6,8,10,12,16],TD=({state:e,updateState:t,next:n,prev:r})=>{const a=K1(e.format_type,e.player_count,e.selected_matchdays,e.knockout_type||null),i=o=>{t({player_count:parseInt(o.target.value,10)})};return s.jsxs("div",{className:"space-y-6 text-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:"Number of Players"}),s.jsx("p",{className:"text-text-secondary",children:"How many players will join your private league?"})]}),s.jsx("select",{value:e.player_count,onChange:i,className:"input-base text-center",children:MD.map(o=>s.jsxs("option",{value:o,children:[o," Players"]},o))}),a.error&&s.jsxs("p",{className:"text-hot-red font-semibold animate-scale-in",children:["⚠️ ",a.error]}),a.restWeek&&s.jsx("p",{className:"text-warm-yellow font-semibold animate-scale-in",children:"⚠️ With an odd number of players, one will rest each matchday."}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{onClick:r,className:"secondary-button flex-1 bg-navy-accent border-disabled text-text-secondary hover:border-electric-blue hover:text-electric-blue",children:"Back"}),s.jsx("button",{onClick:n,disabled:!e.player_count||!a.valid,className:"primary-button flex-1",children:"Continue"})]})]})},PD=({id:e,label:t,checked:n,onChange:r})=>s.jsxs("label",{htmlFor:e,className:"flex items-center p-3 rounded-lg cursor-pointer transition-colors bg-deep-navy/50 hover:bg-navy-accent",children:[s.jsx("input",{type:"checkbox",id:e,checked:n,onChange:r,className:"hidden"}),s.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center mr-3 ${n?"bg-electric-blue border-electric-blue":"border-text-disabled"}`,children:n&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-sm"})}),s.jsx("span",{className:"text-sm font-semibold text-text-secondary",children:t})]}),Rg=({id:e,name:t,value:n,label:r,checked:a,onChange:i})=>s.jsxs("label",{htmlFor:e,className:`flex items-center p-3 rounded-lg cursor-pointer transition-colors ${a?"bg-electric-blue/10":"bg-deep-navy/50 hover:bg-navy-accent"}`,children:[s.jsx("input",{type:"radio",id:e,name:t,value:n,checked:a,onChange:i,className:"hidden"}),s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3 ${a?"border-electric-blue bg-electric-blue":"border-text-disabled"}`,children:a&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),s.jsx("span",{className:`text-sm font-semibold ${a?"text-electric-blue":"text-text-secondary"}`,children:r})]}),DD=({state:e,updateState:t,next:n,prev:r})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:"Knockout Details"}),s.jsx("p",{className:"text-text-secondary",children:"Choose your knockout style."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-primary mb-2",children:"Match Type"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Rg,{id:"single-leg",name:"knockout_type",value:"single",label:"Single match per round",checked:e.knockout_type==="single",onChange:a=>t({knockout_type:a.target.value})}),s.jsx(Rg,{id:"double-leg",name:"knockout_type",value:"double",label:"Home & Away (double leg)",checked:e.knockout_type==="double",onChange:a=>t({knockout_type:a.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-primary mb-2",children:"Options"}),s.jsx(PD,{id:"third-place",label:"Include 3rd place match",checked:e.include_third_place||!1,onChange:a=>t({include_third_place:a.target.checked})})]})]}),s.jsx("div",{className:"text-center text-xs text-warm-yellow bg-warm-yellow/10 p-3 rounded-lg",children:"🏆 The regular season winner will be granted a ‘Champion of the Season’ title and will advance in case of a tie during playoffs."}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{onClick:r,className:"secondary-button flex-1 bg-navy-accent border-disabled text-text-secondary hover:border-electric-blue hover:text-electric-blue",children:"Back"}),s.jsx("button",{onClick:n,disabled:!e.knockout_type,className:"primary-button flex-1",children:"Continue"})]})]}),LD=({text:e,children:t})=>{const[n,r]=h.useState(!1);return s.jsxs("div",{className:"relative flex items-center",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[t,s.jsx($e,{children:n&&s.jsx(ye.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max max-w-xs p-2 bg-deep-navy border border-disabled rounded-lg shadow-xl z-10",children:s.jsx("p",{className:"text-xs text-text-secondary",children:e})})})]})},AD=({text:e})=>s.jsx(LD,{text:e,children:s.jsx(vr,{size:14,className:"text-text-disabled cursor-help"})}),ED=(e,t)=>{const n=e*t,r=n*.15,a=n-r,i=a*.55,o=a*.3,l=a*.15;return{prizePool:a,first:i,second:o,third:l,sportimeFee:r}},ID=e=>e<=3?"Rookie":e<=7?"Pro":"Elite",RD=e=>e<=3?200:e<=7?500:1e3,OD=({state:e,updateState:t,next:n,prev:r})=>{const a=e.isPaid||!1,i=e.entryFee||1,o=e.player_count||4,{prizePool:l,first:c,second:d,third:u,sportimeFee:m}=ED(i,o),f=ID(i),p=RD(i),y=j=>{t({isPaid:j.target.checked})},v=j=>{let x=parseInt(j.target.value,10);isNaN(x)&&(x=1),x<1&&(x=1),x>10&&(x=10),t({entryFee:x})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("h3",{className:"text-2xl font-bold text-text-primary flex items-center justify-center gap-2",children:["💰 Add a Prize Pool",s.jsx(AD,{text:"Let your league compete for real rewards — small entry fee, big bragging rights."})]}),s.jsx("p",{className:"text-text-secondary",children:"Turn your private game into a high-stakes tournament."})]}),s.jsxs("label",{className:"flex items-center justify-center gap-3 p-4 rounded-xl bg-deep-navy/50 cursor-pointer",children:[s.jsx("span",{className:"font-bold text-text-primary",children:"Activate Prize Pool"}),s.jsx("div",{className:`relative w-12 h-7 rounded-full transition-colors duration-300 ${a?"bg-electric-blue":"bg-disabled"}`,children:s.jsx("span",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-300 ${a?"translate-x-5":"translate-x-0"}`})}),s.jsx("input",{type:"checkbox",checked:a,onChange:y,className:"hidden"})]}),a&&s.jsxs("div",{className:"bg-deep-navy/50 p-4 rounded-xl space-y-4 animate-scale-in",children:[s.jsx("h4",{className:"text-lg font-semibold text-text-primary text-center",children:"Setup Your Prize Game"}),s.jsx("p",{className:"text-xs text-center text-text-secondary -mt-3",children:"Decide how much to play for, and we’ll handle the rewards automatically."}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"entryFee",className:"block text-sm font-semibold text-text-secondary mb-1",children:"Entry Fee (€1-10)"}),s.jsx("input",{id:"entryFee",type:"number",value:i,onChange:v,min:"1",max:"10",className:"input-base"}),s.jsx("p",{className:"text-xs text-text-disabled text-center mt-1",children:"Sportime keeps 15% to manage payments and reward distribution."})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-text-secondary mb-2 text-center",children:"Here’s what your players can win 👇"}),s.jsxs("div",{className:"bg-deep-navy p-3 rounded-lg space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-text-disabled",children:"Total Pot"}),s.jsxs("p",{className:"font-bold",children:["€",l.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-text-disabled",children:"Players"}),s.jsx("p",{className:"font-bold",children:o})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-text-disabled",children:"Sportime Fee"}),s.jsxs("p",{className:"font-bold",children:["€",m.toFixed(2)]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center pt-2 border-t border-disabled/50",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-text-disabled",children:"🥇 1st"}),s.jsxs("p",{className:"font-bold text-lime-glow",children:["€",c.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-text-disabled",children:"🥈 2nd"}),s.jsxs("p",{className:"font-bold text-lime-glow",children:["€",d.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-text-disabled",children:"🥉 3rd"}),s.jsxs("p",{className:"font-bold text-lime-glow",children:["€",u.toFixed(2)]})]})]}),s.jsxs("div",{className:"text-center text-xs text-text-secondary pt-2 border-t border-disabled/50",children:["In-App Rewards: ",s.jsxs("b",{className:"text-electric-blue",children:[f," Tier"]})," | Participation Bonus: ",s.jsxs("b",{className:"text-warm-yellow",children:[p," Coins"]})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{onClick:r,className:"secondary-button flex-1 bg-navy-accent border-disabled text-text-secondary hover:border-electric-blue hover:text-electric-blue",children:"Back"}),s.jsx("button",{onClick:n,className:"primary-button flex-1",children:"Continue"})]})]})},xs=({label:e,value:t})=>s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-disabled/50",children:[s.jsx("p",{className:"text-sm text-text-secondary",children:e}),s.jsx("p",{className:"text-sm font-bold text-text-primary",children:t})]}),zD=({state:e,prev:t,create:n,loading:r})=>{var l;const a=h.useMemo(()=>{var c;return(c=Zr.find(d=>d.id===e.competition_id))==null?void 0:c.name},[e.competition_id]),i=K1(e.format_type,e.player_count,e.selected_matchdays,e.knockout_type||null),o=e.format_type==="championship_knockout"?e.selected_matchdays-(i.playoffDays||0):e.selected_matchdays;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:"✅ Summary"}),s.jsx("p",{className:"text-text-secondary",children:"Your Private League Game is ready!"})]}),s.jsxs("div",{className:"bg-deep-navy/50 p-4 rounded-xl space-y-2",children:[s.jsx(xs,{label:"Competition",value:a}),s.jsx(xs,{label:"Format",value:(l=e.format_type)==null?void 0:l.replace("_"," + ").replace(/\b\w/g,c=>c.toUpperCase())}),s.jsx(xs,{label:"Players",value:e.player_count}),s.jsx(xs,{label:"Total Matchdays",value:e.selected_matchdays}),e.format_type==="championship_knockout"&&s.jsxs("p",{className:"text-xs text-text-disabled text-right",children:["(",o," for league + ",i.playoffDays," for playoffs)"]}),e.format_type!=="championship"&&s.jsxs(s.Fragment,{children:[s.jsx(xs,{label:"Knockout Type",value:`${e.knockout_type}-leg`}),s.jsx(xs,{label:"3rd Place Match",value:e.include_third_place?"Yes":"No"}),s.jsx(xs,{label:"Tie Advantage",value:"Higher Seed"}),s.jsx(xs,{label:"Honorary Title",value:"Season Champion"})]})]}),!i.valid&&s.jsxs("p",{className:"text-center text-hot-red font-semibold",children:["⚠️ ",i.error||"There's an issue with your configuration. Please go back and adjust."]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{onClick:t,className:"secondary-button flex-1 bg-navy-accent border-disabled text-text-secondary hover:border-electric-blue hover:text-electric-blue",children:"Back"}),s.jsx("button",{onClick:n,disabled:r||!i.valid,className:"primary-button flex-1",children:r?s.jsx(vt,{className:"animate-spin mx-auto"}):"Create My League"})]})]})},FD=({steps:e,currentStep:t})=>s.jsx("div",{className:"flex items-center justify-between",children:e.map((n,r)=>{const a=n.id===t,i=n.id<t;return s.jsxs(Qe.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold border-2 transition-all duration-300 ${a?"bg-electric-blue border-electric-blue text-white":i?"bg-lime-glow/20 border-lime-glow text-lime-glow":"bg-deep-navy border-disabled text-text-disabled"}`,children:i?"✓":n.id}),s.jsx("p",{className:`text-xs mt-1 font-semibold transition-colors ${a?"text-electric-blue":"text-text-disabled"}`,children:n.name})]}),r<e.length-1&&s.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-colors duration-500 ${i?"bg-lime-glow":"bg-disabled"}`})]},n.id)})}),BD=({isOpen:e,onClose:t,limitType:n})=>{if(!e)return null;const r={active_limit:{title:"Active Game Limit Reached",message:"You can only have 2 active paid tournaments at once."},monthly_limit:{title:"Monthly Limit Reached",message:"You have reached your monthly limit of 5 paid tournaments."}},a=n?r[n]:r.monthly_limit;return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-[60] animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block bg-hot-red/10 p-3 rounded-full mb-3",children:s.jsx(Zi,{className:"w-8 h-8 text-hot-red"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:a.title}),s.jsx("p",{className:"text-text-secondary mt-2",children:"Upgrade your admin level to unlock more paid games and premium tools."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>alert("Admin upgrade path coming soon!"),className:"w-full primary-button",children:"Upgrade Admin Level"}),s.jsx("button",{onClick:t,className:"w-full py-3 text-sm font-semibold text-text-secondary hover:bg-white/10 rounded-xl",children:"Got it"})]})]})})},Og=[{id:1,name:"Competition"},{id:2,name:"Format"},{id:3,name:"Matchdays"},{id:4,name:"Players"},{id:5,name:"Knockout"},{id:6,name:"Prize Pool"},{id:7,name:"Summary"}],VD=({isOpen:e,onClose:t,league:n,onCreate:r,addToast:a})=>{const[i,o]=h.useState(1),[l,c]=h.useState(!1),[d,u]=h.useState(null),{createPrivateLeagueGame:m}=he(),[f,p]=h.useState({player_count:8,selected_matchdays:10,include_third_place:!1,tie_advantage:"higher_seed",honorary_title:!0,auto_rest_week:!1,pairing_rule:"1vs4_2vs3",isPaid:!1,entryFee:1});if(!e)return null;const y=b=>{p(w=>({...w,...b}))},v=()=>{i===4&&f.format_type==="championship"?o(b=>b+2):o(b=>Math.min(b+1,Og.length))},j=()=>{i===6&&f.format_type==="championship"?o(b=>b-2):o(b=>Math.max(b-1,1))},x=()=>{if(f.competition_id&&f.format_type&&f.player_count&&f.selected_matchdays){c(!0);const b={competition_id:f.competition_id,format_type:f.format_type,player_count:f.player_count,selected_matchdays:f.selected_matchdays,knockout_type:f.knockout_type||null,include_third_place:f.include_third_place||!1,tie_advantage:"higher_seed",honorary_title:!0,auto_rest_week:f.auto_rest_week||!1,pairing_rule:"1vs4_2vs3",isPaid:f.isPaid,entryFee:f.entryFee},w=m(n.id,b);w.success?(a("Private game created successfully!","success"),t()):w.error==="active_limit"||w.error==="monthly_limit"?u(w.error):a(w.error||"Failed to create game.","error"),c(!1)}},g=()=>{switch(i){case 1:return s.jsx(SD,{state:f,updateState:y,next:v});case 2:return s.jsx(_D,{state:f,updateState:y,next:v,prev:j});case 3:return s.jsx(CD,{state:f,updateState:y,next:v,prev:j});case 4:return s.jsx(TD,{state:f,updateState:y,next:v,prev:j});case 5:return s.jsx(DD,{state:f,updateState:y,next:v,prev:j});case 6:return s.jsx(OD,{state:f,updateState:y,next:v,prev:j});case 7:return s.jsx(zD,{state:f,prev:j,create:x,loading:l});default:return null}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-deep-navy/80 backdrop-blur-lg flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base w-full max-w-md h-auto max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-disabled",children:[s.jsx("h2",{className:"text-lg font-bold text-text-primary",children:"Create Private Game"}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:20})})]}),s.jsx("div",{className:"p-4",children:s.jsx(FD,{steps:Og,currentStep:i})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx($e,{mode:"wait",children:s.jsx(ye.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.2},children:g()},i)})})]})}),s.jsx(BD,{isOpen:!!d,onClose:()=>u(null),limitType:d})]})},$D=({isOpen:e,onClose:t,onCreate:n,matches:r})=>{const[a,i]=h.useState("prediction");return e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full h-[80vh] flex flex-col p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-2xl font-bold text-text-primary flex items-center gap-2",children:[s.jsx(zl,{})," Create Live Game"]}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsxs("div",{className:"bg-deep-navy/50 p-2 rounded-xl grid grid-cols-3 gap-2",children:[s.jsxs("button",{onClick:()=>i("prediction"),className:`flex items-center justify-center gap-2 p-2 rounded-lg font-semibold transition-all ${a==="prediction"?"bg-electric-blue text-white":"text-text-secondary"}`,children:[s.jsx(pn,{size:16})," Prediction"]}),s.jsxs("button",{onClick:()=>i("betting"),className:`flex items-center justify-center gap-2 p-2 rounded-lg font-semibold transition-all ${a==="betting"?"bg-electric-blue text-white":"text-text-secondary"}`,children:[s.jsx(of,{size:16})," Betting"]}),s.jsxs("button",{onClick:()=>i("fantasy-live"),className:`flex items-center justify-center gap-2 p-2 rounded-lg font-semibold transition-all ${a==="fantasy-live"?"bg-electric-blue text-white":"text-text-secondary"}`,children:[s.jsx(Vs,{size:16})," Fantasy"]})]}),s.jsx("p",{className:"text-sm text-text-secondary",children:"Select an upcoming match to create a live game for your league."}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:r.length>0?r.map(o=>s.jsxs("button",{onClick:()=>n(o,a),className:"w-full flex items-center gap-3 p-3 text-left rounded-xl transition-colors bg-navy-accent/50 hover:bg-navy-accent",children:[s.jsx("div",{className:"text-2xl",children:o.teamA.emoji}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-bold text-text-primary",children:[o.teamA.name," vs ",o.teamB.name]}),s.jsx("p",{className:"text-xs text-text-disabled",children:o.kickoffTime})]}),s.jsx("div",{className:"text-2xl",children:o.teamB.emoji})]},o.id)):s.jsx("div",{className:"text-center text-text-disabled py-10",children:"No upcoming matches available to create a game."})})]})}):null},UD=({game:e,onView:t})=>{const n={Upcoming:"bg-electric-blue/20 text-electric-blue",Ongoing:"bg-hot-red/20 text-hot-red animate-pulse",Finished:"bg-disabled text-text-disabled"};return s.jsxs("div",{className:"card-base p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("h3",{className:"text-md font-bold text-text-primary pr-2",children:[e.match_details.teamA.name," vs ",e.match_details.teamB.name]}),s.jsx("span",{className:`text-xs font-bold px-2.5 py-1 rounded-full whitespace-nowrap ${n[e.status]}`,children:e.status==="Ongoing"?"LIVE":e.status})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-text-secondary border-t border-white/10 pt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zl,{size:14}),s.jsx("span",{children:"Live Game"})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(rt,{size:14}),s.jsxs("span",{children:[e.players.length," players"]})]})]}),s.jsx("div",{className:"flex items-center justify-end border-t border-white/10 pt-3",children:s.jsxs("button",{onClick:t,className:"primary-button text-sm py-2 px-4 flex items-center gap-2",children:[e.status==="Upcoming"?"Predict":e.status==="Ongoing"?"View Live":"View Results",s.jsx(Jr,{size:16})]})})]})},zg=["#FFBA08","#1E90FF","#4AF626","#FF3355","#A78BFA"],GD=()=>{const e=Math.random()*100,t=-10-Math.random()*20,n=Math.random()*360,r=zg[Math.floor(Math.random()*zg.length)];return s.jsx(ye.div,{style:{position:"absolute",left:`${e}vw`,top:`${t}vh`,width:"8px",height:"16px",backgroundColor:r,rotate:n},animate:{y:"120vh",x:e+(Math.random()-.5)*400,rotate:n+(Math.random()-.5)*720},transition:{duration:3+Math.random()*2,ease:"linear"}})},WD=()=>{const e=Array.from({length:100}).map((t,n)=>s.jsx(GD,{},n));return s.jsx(s.Fragment,{children:e})},YD=({isOpen:e,onClose:t,tournament:n})=>{var u;const[r,a]=h.useState(!0),[i,o]=h.useState(!1),{distributePrizes:l,currentUserId:c}=he(),d=(u=n==null?void 0:n.finalRanking.find(m=>m.id===c))==null?void 0:u.rank;return h.useEffect(()=>{e&&n&&!i?(a(!0),setTimeout(()=>{l({tournamentId:n.id,players:n.finalRanking,prizePool:n.prizePool,rewardTier:n.rewardTier,participationBonus:n.participationBonus}),a(!1),o(!0)},2e3)):e||(a(!0),o(!1))},[e,n,i,l]),e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-6 relative overflow-hidden",children:[d&&d<=3&&i&&s.jsx(WD,{}),s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full z-10",children:s.jsx(Z,{size:24})}),s.jsx("div",{className:"text-center",children:r?s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"inline-block p-4 rounded-full mb-3 bg-navy-accent",children:s.jsx(we,{className:"w-10 h-10 text-text-disabled"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Distributing Rewards..."}),s.jsx("p",{className:"text-text-secondary mt-2",children:"Prizes are on their way to the winners!"}),s.jsx(vt,{className:"w-8 h-8 text-electric-blue mx-auto mt-4 animate-spin"})]}):s.jsxs("div",{className:"animate-scale-in",children:[s.jsx("div",{className:"inline-block p-4 rounded-full mb-3 bg-lime-glow/10",children:s.jsx(fn,{className:"w-10 h-10 text-lime-glow"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Rewards Distributed!"}),s.jsx("p",{className:"text-text-secondary mt-2",children:"All rewards have been delivered. Check your profile to view your coins and spins."}),s.jsx("button",{onClick:t,className:"w-full primary-button mt-6",children:"Awesome!"})]})})]})}):null},qo=({icon:e,label:t,isActive:n,onClick:r})=>s.jsxs("button",{onClick:r,className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-lg font-semibold transition-all ${n?"bg-electric-blue text-white shadow":"text-text-secondary"}`,children:[e," ",t]}),HD=e=>{const{league:t,members:n,memberRoles:r,currentUserRole:a,currentUserId:i,onBack:o,onUpdateDetails:l,onRemoveMember:c,onResetInviteCode:d,onLeave:u,onDelete:m,onViewGame:f,onViewLiveGame:p,onLinkGame:y,leagueGames:v,allGames:j,linkableGames:x,addToast:g}=e,{unlinkGameFromLeague:b,leagueFeed:w,toggleFeedPostLike:N,createPrivateLeagueGame:S,liveGames:k,createLiveGame:_,privateLeagueGames:O}=he(),[T,C]=h.useState("live"),[D,P]=h.useState(!1),[B,I]=h.useState(!1),[V,z]=h.useState(!1),[R,F]=h.useState(!1),[E,Y]=h.useState(!1),[H,Q]=h.useState(null),[X,le]=h.useState(!1),[K,oe]=h.useState(null),[ne,je]=h.useState(null),de=n.find(U=>U.id===t.created_by),{activeLinkedGames:Xt,finishedLinkedGames:Le}=h.useMemo(()=>{const U=v.filter(ie=>ie.league_id===t.id).map(ie=>{let ue;return ie.type==="Private"?(ue=O.find(He=>He.id===ie.game_id),{...ie,status:"Upcoming",config:ue==null?void 0:ue.config}):(ue=j.find(He=>He.id===ie.game_id),{...ie,status:(ue==null?void 0:ue.status)||"Finished"})});return{activeLinkedGames:U.filter(ie=>ie.status!=="Finished"),finishedLinkedGames:U.filter(ie=>ie.status==="Finished")}},[v,t.id,j,O]),zt=h.useMemo(()=>k.filter(U=>U.league_id===t.id),[k,t.id]),bt=()=>{H&&(b(H.game_id,t.id),g(`"${H.game_name}" unlinked from ${t.name}`,"success"),Q(null))},Tt=h.useMemo(()=>w.filter(U=>U.league_id===t.id),[w,t.id]),Ft=h.useMemo(()=>{if(K)return n.find(U=>U.id===K.created_by)},[K,n]),ls=(U,ie)=>{S(U,ie),g("Private game created in your league!","success"),F(!1)},J=(U,ie)=>{_(t.id,U,ie),Y(!1),g("Live Game created successfully!","success")},ae=U=>{if(!U.config)return;const{entryFee:ie=1,playerCount:ue=4}=U.config,{prizePool:He,getInAppRewards:cs,getParticipationCoins:Sa}=require("../leagues/wizard/Step6_PrizePool"),_a=n.map((Tn,hn)=>({id:Tn.id,rank:hn+1}));je({id:U.game_id,finalRanking:_a,prizePool:He(ie,ue).prizePool,rewardTier:cs(ie),participationBonus:Sa(ie)})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to Leagues"]}),s.jsxs("div",{className:"card-base p-4 flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-deep-navy rounded-lg flex-shrink-0 flex items-center justify-center border-2 border-neon-cyan/20",children:t.image_url?s.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-cover rounded-lg"}):s.jsx(rt,{className:"w-8 h-8 text-neon-cyan/50"})}),s.jsxs("div",{className:"flex-grow min-w-0",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary truncate",children:t.name}),t.description&&s.jsx("p",{className:"text-sm text-text-secondary truncate",children:t.description}),s.jsxs("p",{className:"text-xs text-text-disabled mt-1",children:["Created by ",(de==null?void 0:de.username)||"..."]})]}),s.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[s.jsx("button",{onClick:()=>P(!0),className:"p-2 bg-deep-navy rounded-lg text-text-secondary hover:bg-white/10",title:"Invite",children:s.jsx(Ru,{size:18})}),a==="admin"&&s.jsx("button",{onClick:()=>I(!0),className:"p-2 bg-deep-navy rounded-lg text-text-secondary hover:bg-white/10",title:"Manage",children:s.jsx(vc,{size:18})})]})]}),s.jsxs("div",{className:"flex bg-navy-accent rounded-xl p-1 gap-1",children:[s.jsx(qo,{label:"Feed",icon:s.jsx(lv,{size:16}),isActive:T==="feed",onClick:()=>C("feed")}),s.jsx(qo,{label:"Games",icon:s.jsx(pn,{size:16}),isActive:T==="games",onClick:()=>C("games")}),s.jsx(qo,{label:"Live",icon:s.jsx(zl,{size:16}),isActive:T==="live",onClick:()=>C("live")}),s.jsx(qo,{label:"Members",icon:s.jsx(rt,{size:16}),isActive:T==="members",onClick:()=>C("members")})]}),s.jsxs("div",{className:"animate-scale-in",children:[T==="feed"&&s.jsx(jD,{posts:Tt,members:n,currentUserId:i,onViewSnapshot:oe,onToggleLike:U=>N(U,i)}),T==="members"&&s.jsxs("div",{className:"card-base p-5",children:[s.jsxs("h3",{className:"font-bold text-text-secondary mb-4",children:["Members (",n.length,")"]}),s.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-4",children:n.map(U=>{var ie;return s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("img",{src:U.profile_picture_url||`https://api.dicebear.com/8.x/bottts/svg?seed=${U.id}`,alt:U.username||"user",className:"w-12 h-12 rounded-full object-cover bg-deep-navy"}),s.jsx("p",{className:"text-xs font-semibold text-text-primary mt-1 truncate w-full",children:U.username}),((ie=r.find(ue=>ue.user_id===U.id))==null?void 0:ie.role)==="admin"&&s.jsx("p",{className:"text-[10px] font-bold text-electric-blue",children:"Admin"})]},U.id)})})]}),T==="games"&&s.jsxs("div",{className:"space-y-4",children:[a==="admin"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>z(!0),className:"w-full flex items-center justify-center gap-2 text-sm font-semibold bg-lime-glow/20 text-lime-glow px-4 py-3 rounded-lg hover:bg-lime-glow/30 transition-colors border-2 border-dashed border-lime-glow/30",children:[s.jsx(Ru,{size:16})," Link Game"]}),s.jsxs("button",{onClick:()=>F(!0),className:"w-full flex items-center justify-center gap-2 text-sm font-semibold bg-electric-blue/20 text-electric-blue px-4 py-3 rounded-lg hover:bg-electric-blue/30 transition-colors border-2 border-dashed border-electric-blue/30",children:[s.jsx(Ne,{size:16})," Create Game"]})]}),Xt.length>0?Xt.map(U=>s.jsxs("div",{className:"relative",children:[s.jsx(Ig,{game:U,onView:()=>U.type==="Private"?g("Viewing private games is coming soon!","info"):f(U.game_id,U.type),isAdmin:a==="admin",onUnlink:()=>Q(U)}),U.type==="Private"&&a==="admin"&&s.jsx("button",{onClick:()=>ae(U),className:"absolute bottom-6 right-28 text-xs font-bold bg-hot-red/80 text-white px-2 py-1 rounded-md hover:bg-hot-red",children:"End Tournament"})]},U.id)):s.jsxs("div",{className:"card-base p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"👾"}),s.jsx("p",{className:"text-text-secondary font-medium",children:"No active games linked."}),a==="admin"&&s.jsx("p",{className:"text-sm text-text-disabled mt-2",children:"Link an official game or create a private one!"})]}),Le.length>0&&s.jsxs("div",{className:"card-base p-4",children:[s.jsxs("button",{onClick:()=>le(!X),className:"w-full flex justify-between items-center text-left",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[X?s.jsx(SN,{size:18,className:"text-warm-yellow"}):s.jsx(_N,{size:18,className:"text-text-disabled"}),s.jsx("h3",{className:"text-lg font-bold text-text-secondary",children:"Finished Games"}),s.jsx("span",{className:"bg-disabled text-text-disabled text-xs font-bold px-2.5 py-1 rounded-full",children:Le.length})]}),s.jsx(mn,{className:`w-6 h-6 text-text-disabled transition-transform duration-300 ${X?"rotate-180":""}`})]}),s.jsx($e,{children:X&&s.jsx(ye.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:s.jsx("div",{className:"mt-4 space-y-4 border-t border-white/10 pt-4",children:Le.map(U=>s.jsx(Ig,{game:U,onView:()=>U.type==="Private"?g("Viewing private games is coming soon!","info"):f(U.game_id,U.type),isAdmin:!1},U.id))})})})]})]}),T==="live"&&s.jsxs("div",{className:"space-y-4",children:[a==="admin"&&s.jsxs("button",{onClick:()=>Y(!0),className:"w-full flex items-center justify-center gap-2 text-sm font-semibold bg-hot-red/20 text-hot-red px-4 py-3 rounded-lg hover:bg-hot-red/30 transition-colors border-2 border-dashed border-hot-red/30",children:[s.jsx(zl,{size:16})," Create Live Game"]}),zt.length>0?zt.map(U=>s.jsx(UD,{game:U,onView:()=>p(U.id,U.status)},U.id)):s.jsxs("div",{className:"card-base p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"📡"}),s.jsx("p",{className:"text-text-secondary font-medium",children:"No live games here."}),a==="admin"&&s.jsx("p",{className:"text-sm text-text-disabled mt-2",children:"Create one to start the fun!"})]})]})]}),s.jsx(VD,{isOpen:R,onClose:()=>F(!1),league:t,onCreate:ls,addToast:g}),s.jsx($D,{isOpen:E,onClose:()=>Y(!1),onCreate:J,matches:lf.filter(U=>U.status==="upcoming")}),s.jsx(hD,{isOpen:D,onClose:()=>P(!1),inviteCode:t.invite_code,isAdmin:a==="admin",onReset:()=>d(t.id)}),K&&s.jsx(kD,{isOpen:!!K,onClose:()=>oe(null),snapshot:K,author:Ft}),a==="admin"&&s.jsxs(s.Fragment,{children:[s.jsx(xD,{isOpen:B,onClose:()=>I(!1),league:t,members:n.filter(U=>U.id!==i),onUpdateDetails:l,onRemoveMember:c,onLeave:u,onDelete:m}),s.jsx(vD,{isOpen:V,onClose:()=>z(!1),onLinkGame:U=>y(t.id,U),linkableGames:x,alreadyLinkedGameIds:v.filter(U=>U.league_id===t.id).map(U=>U.game_id)}),s.jsx(q1,{isOpen:!!H,onClose:()=>Q(null),onConfirm:bt,title:"Unlink Game",message:`Are you sure you want to unlink "${H==null?void 0:H.game_name}" from your league?`,confirmText:"Unlink",isDestructive:!0})]}),s.jsx(YD,{isOpen:!!ne,onClose:()=>je(null),tournament:ne})]})},qD=({league:e,isMember:t,onJoin:n,onGoToLeague:r,onCancel:a})=>s.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-100 via-blue-50 to-pink-100 flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-md mx-auto p-8 bg-white rounded-3xl shadow-2xl space-y-6 animate-scale-in text-center",children:e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full mx-auto flex items-center justify-center",children:e.image_url?s.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover rounded-full"}):s.jsx(rt,{className:"w-12 h-12 text-gray-400"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"You're invited to join"}),s.jsx("p",{className:"text-3xl font-extrabold text-purple-700",children:e.name}),e.description&&s.jsx("p",{className:"text-gray-500",children:e.description}),t?s.jsxs("div",{className:"space-y-3 pt-4",children:[s.jsxs("p",{className:"text-sm font-semibold text-green-600 flex items-center justify-center gap-2",children:[s.jsx(fn,{size:16})," You are already a member."]}),s.jsxs("button",{onClick:r,className:"w-full py-3.5 bg-purple-600 text-white font-bold rounded-xl shadow-lg hover:bg-purple-700 transition-all flex items-center justify-center gap-2",children:["Go to League ",s.jsx(Jr,{size:18})]})]}):s.jsxs("div",{className:"space-y-3 pt-4",children:[s.jsx("button",{onClick:n,className:"w-full py-3.5 bg-purple-600 text-white font-bold rounded-xl shadow-lg hover:bg-purple-700 transition-all",children:"Join League"}),s.jsx("button",{onClick:a,className:"w-full py-3 text-sm font-semibold text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:"Not Now"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-6xl mb-4",children:"☹️"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invalid Invite Link"}),s.jsx("p",{className:"text-gray-500",children:"This league link is invalid or has expired. Please ask for a new link."}),s.jsx("button",{onClick:a,className:"w-full mt-4 py-3 text-sm font-semibold text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:"Go Back"})]})})}),KD=({isOpen:e,onClose:t,onCreate:n})=>{const[r,a]=h.useState(""),[i,o]=h.useState("");if(!e)return null;const l=c=>{c.preventDefault(),r.trim()&&n(r,i,null)};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full p-6 space-y-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-500 hover:bg-gray-100 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block bg-purple-100 p-3 rounded-full mb-3",children:s.jsx(rt,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create a New League"})]}),s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"League Name"}),s.jsx("input",{type:"text",value:r,onChange:c=>a(c.target.value),className:"w-full p-3 bg-gray-100 border-2 border-gray-200 rounded-xl",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),s.jsx("textarea",{value:i,onChange:c=>o(c.target.value),className:"w-full p-3 bg-gray-100 border-2 border-gray-200 rounded-xl h-24"})]}),s.jsx("button",{type:"submit",className:"w-full py-3.5 bg-purple-600 text-white font-bold rounded-xl shadow-lg hover:bg-purple-700 transition-all",children:"Create League"})]})]})})},XD=({isOpen:e,onClose:t,onCreateLeague:n})=>e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block bg-electric-blue/10 p-3 rounded-full mb-3",children:s.jsx(rt,{className:"w-8 h-8 text-electric-blue"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Link this Game with Friends"}),s.jsx("p",{className:"text-text-secondary mt-2",children:"By linking this game to a private league, you can compare your scores only with your friends. You don’t have a league yet — create one now or do it later."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:n,className:"w-full primary-button",children:"Create My League"}),s.jsx("button",{onClick:t,className:"w-full py-3 text-sm font-semibold text-text-secondary hover:bg-white/10 rounded-xl",children:"Maybe Later"})]})]})}):null,QD=({isOpen:e,onClose:t,onCreate:n,loading:r})=>{const[a,i]=h.useState(""),[o,l]=h.useState("");if(!e)return null;const c=d=>{d.preventDefault(),a.trim()&&n(a,o)};return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-6 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block bg-electric-blue/10 p-3 rounded-full mb-3",children:s.jsx(rt,{className:"w-8 h-8 text-electric-blue"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Create Your League"})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"League Name"}),s.jsx("input",{type:"text",value:a,onChange:d=>i(d.target.value),className:"input-base",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Description (Optional)"}),s.jsx("textarea",{value:o,onChange:d=>l(d.target.value),className:"input-base h-24"})]}),s.jsx("button",{type:"submit",disabled:!a.trim()||r,className:"w-full primary-button",children:r?s.jsx(vt,{className:"animate-spin mx-auto"}):"Create & Link Game"})]})]})})},JD=({isOpen:e,onClose:t,onLink:n,adminLeagues:r,alreadyLinkedLeagueIds:a,loading:i})=>{const[o,l]=h.useState(new Set),c=h.useMemo(()=>r.filter(m=>!a.includes(m.id)),[r,a]);if(!e)return null;const d=m=>{l(f=>{const p=new Set(f);return p.has(m)?p.delete(m):p.add(m),p})},u=()=>{n(Array.from(o))};return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full h-auto max-h-[80vh] flex flex-col p-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Select Leagues to Link"}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:c.length>0?c.map(m=>s.jsxs("button",{onClick:()=>d(m.id),className:`w-full flex items-center gap-3 p-3 text-left rounded-xl transition-colors ${o.has(m.id)?"bg-electric-blue/20":"bg-deep-navy hover:bg-navy-accent"}`,children:[s.jsx("div",{className:`w-5 h-5 flex-shrink-0 rounded-md border-2 transition-all ${o.has(m.id)?"bg-electric-blue border-electric-blue":"border-disabled"}`}),s.jsx("div",{className:"w-8 h-8 bg-black/20 rounded-md flex items-center justify-center",children:m.image_url?s.jsx("img",{src:m.image_url,alt:m.name,className:"w-full h-full object-cover rounded-md"}):s.jsx(rt,{size:18,className:"text-text-disabled"})}),s.jsx("span",{className:"font-semibold text-text-primary",children:m.name})]},m.id)):s.jsx("p",{className:"text-center text-text-disabled py-8",children:"No unlinked admin leagues available."})}),s.jsx("button",{onClick:u,disabled:o.size===0||i,className:"w-full primary-button",children:i?s.jsx(vt,{className:"animate-spin mx-auto"}):`Link Game (${o.size})`})]})})},ZD=({questions:e,answers:t,onAnswerChange:n,disabled:r})=>{const a=(i,o)=>{n({...t,[i]:o})};return s.jsxs("div",{className:"card-base p-4 space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-text-primary text-center",children:"Bonus Questions (40 pts)"}),e.map(i=>{var o;return s.jsxs("div",{className:"bg-deep-navy/50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-text-secondary mb-2",children:i.question}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:(o=i.options)==null?void 0:o.map(l=>s.jsx("button",{onClick:()=>a(i.id,l),disabled:r,className:`p-2 rounded-lg text-sm font-semibold transition-colors ${t[i.id]===l?"bg-gradient-to-r from-electric-blue to-neon-cyan text-white":"bg-deep-navy text-text-secondary hover:bg-navy-accent"}`,children:l},l))})]},i.id)})]})},eL=({game:e,playerEntry:t,onBack:n,onSubmit:r})=>{var y,v,j;const[a,i]=h.useState(((y=t==null?void 0:t.predicted_score)==null?void 0:y.home)??""),[o,l]=h.useState(((v=t==null?void 0:t.predicted_score)==null?void 0:v.away)??""),[c,d]=h.useState(((j=t==null?void 0:t.bonus_answers)==null?void 0:j.reduce((x,g)=>({...x,[g.question_id]:g.choice}),{}))||{}),u=!!t,m=h.useMemo(()=>{if(u)return e.bonus_questions;const x={home:Number(a),away:Number(o)};return Iv(x)},[a,o,u,e.bonus_questions]),f=a===""||o===""||Object.keys(c).length<m.length,p=()=>{if(f||u)return;const x={predicted_score:{home:Number(a),away:Number(o)},bonus_answers:Object.entries(c).map(([g,b])=>({question_id:g,choice:b})),midtime_edit:!1};r(e.id,"user-1",x)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to League"]}),s.jsxs("div",{className:"card-base p-4 flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl",children:e.match_details.teamA.emoji}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsxs("h2",{className:"text-lg font-bold text-text-primary",children:[e.match_details.teamA.name," vs ",e.match_details.teamB.name]}),s.jsx("p",{className:"text-sm text-text-secondary",children:e.match_details.kickoffTime})]}),s.jsx("div",{className:"text-4xl",children:e.match_details.teamB.emoji})]}),s.jsxs("div",{className:"card-base p-4 space-y-4",children:[s.jsx("h3",{className:"text-lg font-bold text-text-primary text-center",children:"Your Final Score Prediction"}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("input",{type:"number",value:a,onChange:x=>i(Number(x.target.value)),disabled:u,className:"input-base text-4xl font-bold w-24 text-center",min:"0"}),s.jsx("span",{className:"text-4xl font-bold text-text-disabled",children:":"}),s.jsx("input",{type:"number",value:o,onChange:x=>l(Number(x.target.value)),disabled:u,className:"input-base text-4xl font-bold w-24 text-center",min:"0"})]})]}),s.jsx(ZD,{questions:m,answers:c,onAnswerChange:d,disabled:u}),u?s.jsxs("div",{className:"bg-lime-glow/10 border border-lime-glow/20 text-lime-glow p-3 rounded-xl flex items-center justify-center gap-3",children:[s.jsx(Vn,{size:20}),s.jsx("p",{className:"text-sm font-medium",children:"Your predictions have been submitted!"})]}):s.jsxs("div",{className:"bg-warm-yellow/10 border border-warm-yellow/20 text-warm-yellow p-3 rounded-xl flex items-center gap-3",children:[s.jsx(Xi,{size:20}),s.jsxs("p",{className:"text-sm font-medium",children:["Predictions lock at kickoff: ",e.match_details.kickoffTime]})]}),!u&&s.jsx("button",{onClick:p,disabled:f,className:"w-full primary-button",children:"Confirm My Predictions"})]})},tL=({game:e,playerEntry:t,onBack:n,onEdit:r,onTick:a})=>{var p,y,v,j,x,g;const[i,o]=h.useState(!1),[l,c]=h.useState(((p=t==null?void 0:t.predicted_score)==null?void 0:p.home)??""),[d,u]=h.useState(((y=t==null?void 0:t.predicted_score)==null?void 0:y.away)??"");h.useEffect(()=>{if(e.status!=="Ongoing")return;const b=setInterval(()=>{a(e.id)},15e3);return()=>clearInterval(b)},[e.id,e.status,a]);const m=()=>{l!==""&&d!==""&&(r(e.id,"user-1",{home:Number(l),away:Number(d)}),o(!1))},f=[...e.players].sort((b,w)=>(w.total_points??0)!==(b.total_points??0)?(w.total_points??0)-(b.total_points??0):(b.goal_diff_error??99)!==(w.goal_diff_error??99)?(b.goal_diff_error??99)-(w.goal_diff_error??99):new Date(b.submitted_at).getTime()-new Date(w.submitted_at).getTime());return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to League"]}),s.jsxs("div",{className:"card-base p-4 flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl",children:e.match_details.teamA.emoji}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsxs("p",{className:"text-sm text-hot-red font-bold animate-pulse",children:["LIVE - ",e.simulated_minute,"'"]}),s.jsxs("h2",{className:"text-3xl font-bold text-text-primary",children:[((v=e.match_details.score)==null?void 0:v.teamA)??0," - ",((j=e.match_details.score)==null?void 0:j.teamB)??0]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:[e.match_details.teamA.name," vs ",e.match_details.teamB.name]})]}),s.jsx("div",{className:"text-4xl",children:e.match_details.teamB.emoji})]}),t&&s.jsxs("div",{className:"card-base p-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[s.jsx(to,{size:18})," Your Prediction"]}),!t.midtime_edit&&e.simulated_minute>=45&&e.simulated_minute<60&&s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1.5 text-xs font-bold text-warm-yellow bg-warm-yellow/10 px-3 py-1.5 rounded-lg",children:[s.jsx(la,{size:14})," Edit"]})]}),i?s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("p",{className:"text-xs text-hot-red text-center bg-hot-red/10 p-2 rounded-lg",children:"Warning: Halftime edits apply a -40% malus to your final score points."}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("input",{type:"number",value:l,onChange:b=>c(Number(b.target.value)),className:"input-base text-2xl font-bold w-20 text-center"}),s.jsx("span",{className:"text-2xl font-bold text-text-disabled",children:":"}),s.jsx("input",{type:"number",value:d,onChange:b=>u(Number(b.target.value)),className:"input-base text-2xl font-bold w-20 text-center"})]}),s.jsx("button",{onClick:m,className:"w-full primary-button mt-2",children:"Confirm Edit"})]}):s.jsxs("p",{className:"text-center text-4xl font-bold text-electric-blue mt-2",children:[(x=t.predicted_score)==null?void 0:x.home," - ",(g=t.predicted_score)==null?void 0:g.away]})]}),s.jsxs("div",{className:"card-base p-4 space-y-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[s.jsx(Ne,{size:18})," Live Leaderboard"]}),s.jsx("div",{className:"space-y-2",children:f.map((b,w)=>s.jsxs("div",{className:`flex items-center p-2 rounded-lg ${b.user_id==="user-1"?"bg-electric-blue/10":"bg-deep-navy"}`,children:[s.jsx("span",{className:"w-6 font-bold text-text-secondary text-sm",children:w+1}),s.jsx("span",{className:"flex-1 font-semibold text-text-primary",children:b.user_id==="user-1"?"You":`Player ${b.user_id.substring(0,4)}`}),s.jsxs("span",{className:"font-bold text-warm-yellow",children:[b.total_points||0," pts"]})]},b.user_id))})]})]})},nL=({game:e,playerEntry:t,onBack:n,currentUserId:r,leagueMembers:a})=>{var p,y;const{celebrateWinners:i}=he(),[o,l]=h.useState(!1),[c,d]=h.useState(!1),u=[...e.players].sort((v,j)=>(j.total_points??0)!==(v.total_points??0)?(j.total_points??0)-(v.total_points??0):(v.goal_diff_error??99)!==(j.goal_diff_error??99)?(v.goal_diff_error??99)-(j.goal_diff_error??99):new Date(v.submitted_at).getTime()-new Date(j.submitted_at).getTime()).map((v,j)=>({...v,rank:j+1})),m=h.useMemo(()=>{const v=a.find(j=>j.league_id===e.league_id&&j.user_id===r);return(v==null?void 0:v.role)==="admin"},[a,e.league_id,r]),f=v=>{d(!0);const j=u.map(g=>({rank:g.rank,username:g.user_id===r?"You":`Player ${g.user_id.substring(0,4)}`,points:g.total_points||0,userId:g.user_id,finalCoins:0})),x={start_type:"custom",end_type:"custom",start_date:e.match_details.status==="played"?e.match_details.kickoffTime:new Date().toISOString(),end_date:e.match_details.status==="played"?e.match_details.kickoffTime:new Date().toISOString()};i(e.league_id,e,j,x,v,r),d(!1),l(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to League"]}),s.jsxs("div",{className:"card-base p-4 flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl",children:e.match_details.teamA.emoji}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("p",{className:"text-sm text-lime-glow font-bold",children:"FINAL"}),s.jsxs("h2",{className:"text-3xl font-bold text-text-primary",children:[((p=e.match_details.score)==null?void 0:p.teamA)??0," - ",((y=e.match_details.score)==null?void 0:y.teamB)??0]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:[e.match_details.teamA.name," vs ",e.match_details.teamB.name]})]}),s.jsx("div",{className:"text-4xl",children:e.match_details.teamB.emoji})]}),s.jsxs("div",{className:"card-base p-4 space-y-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[s.jsx(Ne,{size:18})," Final Leaderboard"]}),s.jsx("div",{className:"space-y-2",children:u.map(v=>{var j,x;return s.jsxs("div",{className:`flex items-center p-3 rounded-lg ${v.user_id===r?"bg-electric-blue/10":"bg-deep-navy"}`,children:[s.jsx("span",{className:"w-6 font-bold text-text-secondary text-sm",children:v.rank}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-text-primary",children:v.user_id===r?"You":`Player ${v.user_id.substring(0,4)}`}),s.jsxs("p",{className:"text-xs text-text-disabled",children:["Prediction: ",(j=v.predicted_score)==null?void 0:j.home,"-",(x=v.predicted_score)==null?void 0:x.away]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-warm-yellow",children:[v.total_points||0," pts"]}),s.jsxs("p",{className:"text-xs text-text-disabled",children:["Score: ",v.score_final," / Bonus: ",v.bonus_total]})]})]},v.user_id)})})]}),m&&s.jsx("div",{className:"pt-4",children:s.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-center gap-2 py-3 bg-warm-yellow/20 text-warm-yellow rounded-xl font-semibold hover:bg-warm-yellow/30 transition-colors",children:[s.jsx(Ne,{size:16})," Celebrate the Winners"]})})]}),s.jsx(mo,{isOpen:o,onClose:()=>l(!1),onConfirm:f,leaderboard:u.map(v=>({...v,username:v.user_id===r?"You":`Player ${v.user_id.substring(0,4)}`,points:v.total_points||0,finalCoins:0})),period:{start_date:e.match_details.kickoffTime,end_date:e.match_details.kickoffTime,start_type:"custom",end_type:"custom"},loading:c})]})},X1=({market:e,onPlaceBet:t,playerBalance:n,placedBet:r,phase:a})=>{const[i,o]=h.useState(100),[l,c]=h.useState(0);h.useEffect(()=>{const u=new Date(e.expires_at).getTime(),m=()=>{const p=new Date().getTime(),y=Math.max(0,Math.floor((u-p)/1e3));c(y)};m();const f=setInterval(m,1e3);return()=>clearInterval(f)},[e.expires_at]);const d=[100,250,500];return r?s.jsxs("div",{className:"card-base p-4 opacity-80",children:[s.jsx("p",{className:"text-sm font-semibold text-text-secondary",children:e.title}),s.jsxs("div",{className:"flex items-center justify-center gap-3 text-center bg-deep-navy p-3 rounded-lg mt-2",children:[s.jsx(fn,{size:20,className:"text-lime-glow"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-text-primary",children:["You bet ",s.jsxs("b",{className:"text-warm-yellow",children:[r.amount," coins"]})," on"]}),s.jsx("p",{className:"font-bold text-electric-blue text-lg",children:r.option})]})]})]}):s.jsxs("div",{className:"card-base p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm font-semibold text-text-secondary",children:e.title}),s.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-hot-red bg-hot-red/10 px-2 py-1 rounded-full",children:[s.jsx(RN,{size:14})," ",l,"s"]})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.odds.map(({option:u,adjusted:m})=>s.jsxs("button",{onClick:()=>t(u,i,m),disabled:i>n,className:"p-3 rounded-lg text-center bg-deep-navy hover:bg-navy-accent disabled:opacity-50",children:[s.jsx("p",{className:"font-bold text-text-primary",children:u}),s.jsxs("p",{className:"text-sm font-semibold text-electric-blue",children:["@",m.toFixed(2)]})]},u))}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(_t,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-warm-yellow"}),s.jsx("input",{type:"range",min:"50",max:n,step:"50",value:i,onChange:u=>o(Number(u.target.value)),className:"w-full h-2 bg-disabled rounded-lg appearance-none cursor-pointer accent-electric-blue"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"flex gap-2",children:d.map(u=>s.jsx("button",{onClick:()=>o(u),className:"text-xs font-semibold bg-deep-navy px-3 py-1 rounded-md text-text-secondary hover:text-electric-blue",children:u},u))}),s.jsx("span",{className:"text-lg font-bold text-warm-yellow",children:i})]})]})]})},Q1=({playerEntry:e})=>{var a,i,o;const t=((a=e==null?void 0:e.betting_state)==null?void 0:a.pre_match_balance)??1e3,n=((i=e==null?void 0:e.betting_state)==null?void 0:i.live_balance)??1e3,r=((o=e==null?void 0:e.betting_state)==null?void 0:o.total_gain)??0;return s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"card-base p-2",children:[s.jsx("p",{className:"text-xs font-semibold text-text-disabled",children:"Pre-Match"}),s.jsxs("div",{className:"flex items-center justify-center gap-1 font-bold text-text-primary",children:[s.jsx(_t,{size:14,className:"text-warm-yellow"})," ",t]})]}),s.jsxs("div",{className:"card-base p-2",children:[s.jsx("p",{className:"text-xs font-semibold text-text-disabled",children:"Live"}),s.jsxs("div",{className:"flex items-center justify-center gap-1 font-bold text-text-primary",children:[s.jsx(_t,{size:14,className:"text-warm-yellow"})," ",n]})]}),s.jsxs("div",{className:"card-base p-2",children:[s.jsx("p",{className:"text-xs font-semibold text-text-disabled",children:"Total Gain"}),s.jsx("p",{className:`font-bold ${r>=0?"text-lime-glow":"text-hot-red"}`,children:r>=0?`+${r}`:r})]})]})},sL=({game:e,playerEntry:t,onBack:n,onPlaceBet:r})=>{const a=e.markets.filter(i=>i.minute===0);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to League"]}),s.jsxs("div",{className:"card-base p-4 flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl",children:e.match_details.teamA.emoji}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsxs("h2",{className:"text-lg font-bold text-text-primary",children:[e.match_details.teamA.name," vs ",e.match_details.teamB.name]}),s.jsx("p",{className:"text-sm text-text-secondary",children:e.match_details.kickoffTime})]}),s.jsx("div",{className:"text-4xl",children:e.match_details.teamB.emoji})]}),s.jsx(Q1,{playerEntry:t}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-bold text-text-primary text-center",children:"Pre-Match Markets"}),a.map(i=>{var o,l;return s.jsx(X1,{market:i,onPlaceBet:(c,d,u)=>r(e.id,"user-1",i.id,c,d,u),playerBalance:((o=t==null?void 0:t.betting_state)==null?void 0:o.pre_match_balance)??1e3,placedBet:(l=t==null?void 0:t.betting_state)==null?void 0:l.bets.find(c=>c.market_id===i.id),phase:"pre-match"},i.id)})]})]})},rL=({game:e,playerEntry:t,onBack:n,onPlaceBet:r,onTick:a})=>{var c,d,u,m;const{allUsers:i}=he();h.useEffect(()=>{const f=setInterval(()=>{a(e.id)},5e3);return()=>clearInterval(f)},[e.id,a]);const o=e.markets.find(f=>f.status==="open"&&f.minute>0),l=h.useMemo(()=>e.players.map(f=>{var y;const p=i.find(v=>v.id===f.user_id);return{userId:f.user_id,username:(p==null?void 0:p.username)||`Player ${f.user_id.slice(0,4)}`,gain:((y=f.betting_state)==null?void 0:y.total_gain)||0}}).sort((f,p)=>p.gain-f.gain).map((f,p)=>({...f,rank:p+1})),[e.players,i]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to League"]}),s.jsxs("div",{className:"card-base p-4 flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl",children:e.match_details.teamA.emoji}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsxs("p",{className:"text-sm text-hot-red font-bold animate-pulse",children:["LIVE - ",e.simulated_minute,"'"]}),s.jsxs("h2",{className:"text-3xl font-bold text-text-primary",children:[((c=e.match_details.score)==null?void 0:c.teamA)??0," - ",((d=e.match_details.score)==null?void 0:d.teamB)??0]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:[e.match_details.teamA.name," vs ",e.match_details.teamB.name]})]}),s.jsx("div",{className:"text-4xl",children:e.match_details.teamB.emoji})]}),s.jsx(Q1,{playerEntry:t}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-bold text-text-primary text-center",children:"Live Market"}),o?s.jsx(X1,{market:o,onPlaceBet:(f,p,y)=>r(e.id,"user-1",o.id,f,p,y),playerBalance:((u=t==null?void 0:t.betting_state)==null?void 0:u.live_balance)??1e3,placedBet:(m=t==null?void 0:t.betting_state)==null?void 0:m.bets.find(f=>f.market_id===o.id),phase:"live"}):s.jsx("div",{className:"card-base p-8 text-center",children:s.jsx("p",{className:"text-text-secondary",children:"Waiting for the next market..."})})]}),s.jsxs("div",{className:"card-base p-4 space-y-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[s.jsx(Ne,{size:18})," Live Leaderboard"]}),s.jsx("div",{className:"space-y-2",children:l.map(f=>s.jsxs("div",{className:`flex items-center p-2 rounded-lg ${f.userId==="user-1"?"bg-electric-blue/10":"bg-deep-navy"}`,children:[s.jsx("span",{className:"w-6 font-bold text-text-secondary text-sm",children:f.rank}),s.jsx("span",{className:"flex-1 font-semibold text-text-primary",children:f.userId==="user-1"?"You":f.username}),s.jsxs("span",{className:"font-bold text-warm-yellow",children:[f.gain>=0?`+${f.gain}`:f.gain," coins"]})]},f.userId))})]})]})},aL=({game:e,playerEntry:t,onBack:n,currentUserId:r,leagueMembers:a})=>{var y,v,j;const{allUsers:i,celebrateWinners:o}=he(),[l,c]=h.useState(!1),[d,u]=h.useState(!1),m=h.useMemo(()=>e.players.map(x=>{var b,w;const g=i.find(N=>N.id===x.user_id);return{userId:x.user_id,username:(g==null?void 0:g.username)||`Player ${x.user_id.slice(0,4)}`,gain:((b=x.betting_state)==null?void 0:b.total_gain)||0,last_gain_time:(w=x.betting_state)==null?void 0:w.last_gain_time}}).sort((x,g)=>g.gain!==x.gain?g.gain-x.gain:x.last_gain_time&&g.last_gain_time?new Date(x.last_gain_time).getTime()-new Date(g.last_gain_time).getTime():x.last_gain_time?-1:g.last_gain_time?1:x.username.localeCompare(g.username)).map((x,g)=>({...x,rank:g+1})),[e.players,i]),f=h.useMemo(()=>{const x=a.find(g=>g.league_id===e.league_id&&g.user_id===r);return(x==null?void 0:x.role)==="admin"},[a,e.league_id,r]),p=x=>{u(!0);const g=m.map(w=>({rank:w.rank,username:w.username,points:w.gain,userId:w.userId,finalCoins:w.gain})),b={start_type:"custom",end_type:"custom",start_date:e.match_details.kickoffTime,end_date:e.match_details.kickoffTime};o(e.league_id,e,g,b,x,r),u(!1),c(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to League"]}),s.jsxs("div",{className:"card-base p-4 flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl",children:e.match_details.teamA.emoji}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("p",{className:"text-sm text-lime-glow font-bold",children:"FINAL"}),s.jsxs("h2",{className:"text-3xl font-bold text-text-primary",children:[((y=e.match_details.score)==null?void 0:y.teamA)??0," - ",((v=e.match_details.score)==null?void 0:v.teamB)??0]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:[e.match_details.teamA.name," vs ",e.match_details.teamB.name]})]}),s.jsx("div",{className:"text-4xl",children:e.match_details.teamB.emoji})]}),s.jsxs("div",{className:"card-base p-4 space-y-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-primary flex items-center gap-2",children:[s.jsx(Ne,{size:18})," Final Leaderboard"]}),s.jsx("div",{className:"space-y-2",children:m.map(x=>s.jsxs("div",{className:`flex items-center p-3 rounded-lg ${x.userId===r?"bg-electric-blue/10":"bg-deep-navy"}`,children:[s.jsx("span",{className:"w-6 font-bold text-text-secondary text-sm",children:x.rank}),s.jsx("span",{className:"flex-1 font-semibold text-text-primary",children:x.userId===r?"You":x.username}),s.jsxs("span",{className:`font-bold ${x.gain>=0?"text-lime-glow":"text-hot-red"}`,children:[x.gain>=0?`+${x.gain}`:x.gain," coins"]})]},x.userId))})]}),((j=t==null?void 0:t.betting_state)==null?void 0:j.bets)&&s.jsxs("div",{className:"card-base p-4 space-y-3",children:[s.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"Your Bets"}),t.betting_state.bets.map(x=>{const g=e.markets.find(b=>b.id===x.market_id);return s.jsxs("div",{className:"bg-deep-navy p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-text-disabled",children:g==null?void 0:g.title}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{className:"text-sm font-semibold text-text-primary",children:["Your pick: ",s.jsx("span",{className:"text-electric-blue",children:x.option})]}),s.jsxs("div",{className:`flex items-center gap-1 text-sm font-bold ${x.status==="won"?"text-lime-glow":"text-hot-red"}`,children:[x.status==="won"?s.jsx(fn,{size:14}):s.jsx(yr,{size:14}),x.gain>=0?`+${x.gain}`:x.gain]})]})]},x.market_id)})]}),f&&s.jsx("div",{className:"pt-4",children:s.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-center gap-2 py-3 bg-warm-yellow/20 text-warm-yellow rounded-xl font-semibold hover:bg-warm-yellow/30 transition-colors",children:[s.jsx(Ne,{size:16})," Celebrate the Winners"]})})]}),s.jsx(mo,{isOpen:l,onClose:()=>c(!1),onConfirm:p,leaderboard:m.map(x=>({...x,points:x.gain,finalCoins:x.gain})),period:{start_date:e.match_details.kickoffTime,end_date:e.match_details.kickoffTime,start_type:"custom",end_type:"custom"},loading:d})]})};function iL(e,t){return t.total_points!==e.total_points?t.total_points-e.total_points:t.nb_correct_picks!==e.nb_correct_picks?t.nb_correct_picks-e.nb_correct_picks:e.first_submission_ts!==t.first_submission_ts?e.first_submission_ts-t.first_submission_ts:e.player_name.localeCompare(t.player_name)}const oL=e=>e===1?s.jsx(Ne,{size:20,className:"text-yellow-500"}):e===2?s.jsx(Qi,{size:20,className:"text-gray-400"}):e===3?s.jsx(Un,{size:20,className:"text-orange-400"}):s.jsx("span",{className:"font-bold text-text-secondary w-5 text-center",children:e}),lL=({challenge:e,onBack:t,allUsers:n,userSwipeEntries:r,swipeMatchDays:a,currentUserId:i})=>{const o=h.useMemo(()=>{const l=a.filter(u=>e.matchDayIds.includes(u.id));return n.map(u=>{let m=0,f=0,p=1/0;const y={};return l.forEach(v=>{const j=r.find(x=>x.user_id===u.id&&x.matchDayId===v.id);if(j){let x=0,g=0;if(j.predictions.forEach(b=>{const w=v.matches.find(N=>N.id===b.matchId);w!=null&&w.result&&w.result===b.prediction&&(x+=w.odds[b.prediction]*100,g++)}),m+=Math.round(x),f+=g,y[v.id]=Math.round(x),j.submitted_at){const b=new Date(j.submitted_at).getTime();b<p&&(p=b)}}}),{userId:u.id,player_name:u.username||`User ${u.id.slice(0,4)}`,total_points:m,nb_correct_picks:f,first_submission_ts:p===1/0?Date.now():p,breakdownByDay:y}}).sort(iL).map((u,m)=>({...u,rank:m+1}))},[e,n,r,a]);return s.jsxs("div",{className:"animate-scale-in space-y-4",children:[s.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back"]}),s.jsxs("div",{className:"card-base p-5 space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-electric-blue",children:e.title}),e.season&&s.jsx("p",{className:"text-sm font-semibold text-text-secondary",children:e.season})]}),s.jsx("div",{className:"space-y-2",children:o.map(l=>s.jsxs("div",{className:`flex items-center p-3 rounded-xl ${l.userId===i?"bg-electric-blue/10 border-2 border-electric-blue/50":"bg-deep-navy"}`,children:[s.jsx("div",{className:"w-8 flex justify-center",children:oL(l.rank)}),s.jsx("p",{className:"flex-1 font-semibold text-text-primary ml-2",children:l.userId===i?"You":l.player_name}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-warm-yellow",children:[l.total_points.toLocaleString()," pts"]}),s.jsxs("p",{className:"text-xs text-text-disabled",children:[l.nb_correct_picks," correct"]})]})]},l.userId))})]})]})},cL=({game:e,onBack:t})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to League"]}),s.jsxs("div",{className:"card-base p-8 text-center",children:[s.jsxs("h2",{className:"text-xl font-bold text-text-primary",children:["Team Selection for ",e.match_details.teamA.name," vs ",e.match_details.teamB.name]}),s.jsx("p",{className:"text-text-secondary mt-4",children:"Fantasy Live Team Selection Page - Coming Soon!"})]})]}),dL=({game:e,onBack:t})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:20})," Back to League"]}),s.jsxs("div",{className:"card-base p-8 text-center",children:[s.jsxs("h2",{className:"text-xl font-bold text-text-primary",children:["Live Game: ",e.match_details.teamA.name," vs ",e.match_details.teamB.name]}),s.jsx("p",{className:"text-text-secondary mt-4",children:"Fantasy Live Game Page - Coming Soon!"})]})]}),Ko=[{slide_number:1,title:"Play Smart. No Risk.",subtitle:"Play with Sport Coins, not cash. Feel the thrill without losing a cent. Only your strategy matters.",visual_description:"A user interacts with a sleek, dark-mode match screen in Carbon Gray. Animated Sport Coins (Coin Yellow) are placed on an outcome, while a '0% Risk — 100% Thrill' badge glows in Electric Blue. The background has subtle stadium light effects.",cta_text:"Next",emotion:"Excitement",progress_visual:"Five dots at the bottom of the screen. The first dot is highlighted in Electric Blue, the rest are Carbon Gray. A smooth animation transitions the highlight on swipe."},{slide_number:2,title:"Exclusive Games. Unique Rules.",subtitle:"Our fantasy games are different. Manage fatigue, trigger live boosters, and prove your skill. Every move can win real prizes.",visual_description:"A dynamic, split-screen animation. The left side shows a fantasy player's card with a decreasing fatigue bar. The right side shows a 'Double Impact' booster icon activating with a flash of Coin Yellow. The background is a blurred-out fantasy pitch.",cta_text:"Next",emotion:"Strategy",progress_visual:"Five dots at the bottom. The first two dots are highlighted in Electric Blue."},{slide_number:3,title:"Win. Earn. Unlock.",subtitle:"Earn coins in every challenge. Exchange them for real-life rewards. Every match brings you closer to something tangible.",visual_description:"A 3D animated vault, styled in Carbon Gray with Electric Blue accents, clicks open. It reveals glowing items like football jerseys, event tickets, and gift vouchers. Particles of Coin Yellow float out.",cta_text:"Next",emotion:"Reward",progress_visual:"Five dots at the bottom. The first three dots are highlighted in Electric Blue."},{slide_number:4,title:"Create. Compete. Connect.",subtitle:"Create your own leagues, invite friends, and climb the leaderboard. Play together — win together.",visual_description:"An animation shows a user tapping 'Create League'. Friend avatars pop into a list. The view transitions to a live leaderboard where the user's name is climbing the ranks, highlighted in Electric Blue.",cta_text:"Next",emotion:"Community",progress_visual:"Five dots at the bottom. The first four dots are highlighted in Electric Blue."},{slide_number:5,title:"Ready to Play?",subtitle:"Join now to earn rewards and save your progress, or explore as a guest and feel the game first.",visual_description:"A clean, split-screen layout. The left side has a prominent primary CTA button against a dark, focused background. The right side has a lighter, secondary CTA button. The background is a cinematic shot of a stadium at night under floodlights.",cta_text:{primary:"Create My Account",secondary:"Explore as Guest"},emotion:"Empowerment",progress_visual:"Five dots at the bottom. All five dots are highlighted in Electric Blue, indicating completion."}],uL={enter:e=>({x:e>0?"100%":"-100%",opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?"100%":"-100%",opacity:0})},mL=({isOpen:e,onClose:t})=>{const[[n,r],a]=h.useState([0,0]),i=d=>{a([n+d,d])},o=()=>{n<Ko.length-1&&i(1)},l=()=>{n>0&&i(-1)},c=Ko[n];return e?s.jsxs("div",{className:"fixed inset-0 bg-deep-navy z-[100] flex flex-col items-center justify-center p-4",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full z-20",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"relative w-full max-w-md h-[80vh] overflow-hidden flex flex-col justify-between",children:[s.jsx($e,{initial:!1,custom:r,children:s.jsxs(ye.div,{custom:r,variants:uL,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"absolute w-full h-full flex flex-col justify-center items-center text-center p-6",children:[s.jsx("div",{className:"w-48 h-48 bg-navy-accent rounded-full flex items-center justify-center mb-8 border-4 border-electric-blue/50",children:s.jsx("p",{className:"text-text-secondary text-sm p-4",children:c.visual_description})}),s.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:c.title}),s.jsx("p",{className:"text-text-secondary max-w-xs mx-auto",children:c.subtitle})]},n)}),s.jsxs("div",{className:"relative z-10 w-full px-6 pb-6",children:[s.jsx("div",{className:"flex justify-center items-center gap-2 mb-8",children:Ko.map((d,u)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${u===n?"bg-electric-blue scale-125":"bg-disabled"}`},u))}),n<Ko.length-1?s.jsxs("div",{className:"flex items-center gap-4",children:[n>0&&s.jsx("button",{onClick:l,className:"p-3 text-text-secondary hover:bg-white/10 rounded-xl",children:s.jsx(Ve,{size:20})}),s.jsx("button",{onClick:o,className:"primary-button flex-1",children:c.cta_text})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:t,className:"primary-button w-full",children:typeof c.cta_text!="string"&&c.cta_text.primary}),s.jsx("button",{onClick:t,className:"w-full py-3 text-sm font-semibold text-text-secondary hover:bg-white/10 rounded-xl",children:typeof c.cta_text!="string"&&c.cta_text.secondary}),s.jsxs("button",{onClick:l,className:"w-full py-3 text-sm font-semibold text-text-disabled hover:text-text-secondary rounded-xl flex items-center justify-center gap-2",children:[s.jsx(Ve,{size:16}),"Go Back"]})]})]})]})]}):null},fL={rookie:{label:"Rookie",color:"border-lime-glow",iconColor:"text-lime-glow"},pro:{label:"Pro",color:"border-warm-yellow",iconColor:"text-warm-yellow"},elite:{label:"Elite",color:"border-hot-red",iconColor:"text-hot-red"}},pL=({isOpen:e,onClose:t,tickets:n})=>{if(!e)return null;const r=new Date,a=n.filter(c=>!c.is_used&&kn(r,se(c.expires_at))),i=n.filter(c=>!c.is_used&&!kn(r,se(c.expires_at))),o=c=>a.filter(d=>d.type===c),l=({tier:c})=>{const d=fL[c],u=o(c),m=u.length>0?u.sort((f,p)=>new Date(f.expires_at).getTime()-new Date(p.expires_at).getTime())[0]:null;return s.jsxs("div",{className:`bg-deep-navy p-4 rounded-xl border-2 ${d.color}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{size:20,className:d.iconColor}),s.jsx("h3",{className:`text-lg font-bold ${d.iconColor}`,children:d.label})]}),s.jsxs("span",{className:"font-bold text-text-primary",children:[u.length," ",s.jsxs("span",{className:"text-sm text-text-disabled",children:["/ ",c==="rookie"?5:c==="pro"?3:2]})]})]}),m&&s.jsxs("p",{className:"text-xs text-text-disabled mt-1",children:["Oldest expires in ",kv(se(m.expires_at))]})]})};return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full h-auto max-h-[80vh] flex flex-col p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-text-primary flex items-center gap-2",children:[s.jsx(pr,{className:"text-lime-glow"})," My Tickets"]}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-text-secondary uppercase",children:"Active Tickets"}),a.length>0?s.jsxs(s.Fragment,{children:[s.jsx(l,{tier:"rookie"}),s.jsx(l,{tier:"pro"}),s.jsx(l,{tier:"elite"})]}):s.jsx("p",{className:"text-center text-text-disabled py-4",children:"You have no active tickets. Win them in tournaments!"}),i.length>0&&s.jsxs("div",{className:"pt-4 mt-4 border-t border-disabled",children:[s.jsx("h4",{className:"text-sm font-semibold text-text-disabled uppercase mb-2",children:"Expired Tickets"}),s.jsx("div",{className:"space-y-2",children:i.map(c=>s.jsxs("div",{className:"bg-disabled/50 p-3 rounded-lg opacity-60",children:[s.jsxs("p",{className:"font-semibold text-text-disabled capitalize",children:[c.type," Ticket"]}),s.jsxs("p",{className:"text-xs text-text-disabled",children:["Expired on ",De(se(c.expires_at),"MMM d, yyyy")]})]},c.id))})]})]})]})})},hL={rookie:"from-lime-glow/50 to-green-400/50",pro:"from-warm-yellow/50 to-orange-400/50",elite:"from-hot-red/50 to-red-500/50"},xL={rookie:"border-lime-glow",pro:"border-warm-yellow",elite:"border-hot-red"},gL={ticket_rookie:s.jsx(we,{}),ticket_pro:s.jsx(we,{}),ticket_elite:s.jsx(we,{}),extra_spin:s.jsx(we,{}),masterpass_rookie:s.jsx(we,{}),masterpass_pro:s.jsx(we,{}),masterpass_elite:s.jsx(we,{}),boost_50:s.jsx(we,{}),boost_100:s.jsx(we,{}),boost_200:s.jsx(we,{}),boost_400:s.jsx(we,{}),boost_800:s.jsx(we,{}),boost_1200:s.jsx(we,{}),premium_3d:s.jsx(we,{}),premium_7d:s.jsx(we,{}),gift_card:s.jsx(we,{})},yL=({isOpen:e,onClose:t,tier:n,userId:r})=>{const{performSpin:a}=Oi(),i=Oi(j=>j.userSpinStates[r]),o=h.useMemo(()=>i||Ev(r),[i,r]),[l,c]=h.useState(!1),[d,u]=h.useState(0),[m,f]=h.useState(null),p=pf[n],y=360/p.length;h.useEffect(()=>{e||(c(!1),u(0),f(null))},[e]);const v=()=>{if(l||o.availableSpins[n]<=0)return;c(!0),f(null);const j=a(r,n);if(!j){c(!1);return}const x=p.find(k=>k.id===j.rewardId);if(!x){c(!1);return}const g=p.findIndex(k=>k.id===x.id),b=360*5,w=g*y+y/2,N=Math.random()*(y*.8)-y*.4,S=b-w-N;u(S),setTimeout(()=>{c(!1),f(x)},4e3)};return e?s.jsxs("div",{className:"fixed inset-0 bg-deep-navy/80 backdrop-blur-xl flex flex-col items-center justify-center z-[60] animate-scale-in",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full z-10",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"relative w-[95vw] h-[95vw] max-w-lg max-h-lg flex items-center justify-center",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-2 z-10",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.5))"},children:s.jsx("div",{className:"w-0 h-0 border-l-8 border-r-8 border-b-16 border-l-transparent border-r-transparent border-b-warm-yellow"})}),s.jsxs(ye.div,{className:"relative w-full h-full rounded-full",style:{backgroundImage:`conic-gradient(from 0deg, ${p.map((j,x)=>`var(--tw-gradient-from) ${x*y}deg, var(--tw-gradient-to) ${(x+1)*y}deg`).join(", ")})`},animate:{rotate:d},transition:{duration:4,ease:"easeOut"},children:[s.jsx("div",{className:`absolute inset-0 rounded-full bg-gradient-radial ${hL[n]}`}),p.map((j,x)=>{const g=x*y;return s.jsxs(Qe.Fragment,{children:[s.jsx("div",{className:"absolute w-full h-full",style:{transform:`rotate(${g+y/2}deg)`},children:s.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-48 text-center flex flex-col items-center gap-1",children:[s.jsx("div",{className:"text-white text-2xl",children:gL[j.id]}),s.jsx("p",{className:"text-xs font-bold text-white uppercase tracking-wider",style:{textShadow:"0 1px 3px rgba(0,0,0,0.5)"},children:j.label})]})}),x>0&&s.jsx("div",{className:"absolute top-0 left-1/2 w-px h-1/2 bg-white/20",style:{transform:`rotate(${g}deg)`,transformOrigin:"bottom"}})]},j.id)})]}),s.jsx("div",{className:"absolute w-1/3 h-1/3",children:s.jsxs("button",{onClick:v,disabled:l||o.availableSpins[n]<=0,className:`w-full h-full rounded-full bg-deep-navy border-4 ${xL[n]} flex flex-col items-center justify-center shadow-2xl transition-transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed`,children:[s.jsx("span",{className:"font-extrabold text-2xl tracking-wider text-white",children:"SPIN"}),s.jsxs("span",{className:"text-xs font-semibold text-text-disabled",children:[o.availableSpins[n]," left"]})]})})]}),s.jsx($e,{children:m&&s.jsx(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute bottom-10 text-center",children:s.jsxs("div",{className:"bg-navy-accent/80 backdrop-blur-md p-4 rounded-xl shadow-lg",children:[s.jsx("p",{className:"text-sm text-text-secondary",children:"You won..."}),s.jsx("p",{className:"text-2xl font-bold text-warm-yellow",children:m.label})]})})})]}):null},vL=({isOpen:e,onClose:t,matchName:n,onStartLiveGame:r,onJoinGame:a,addToast:i})=>e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Play Game"}),n&&s.jsx("p",{className:"text-text-secondary text-sm mt-1",children:n})]}),s.jsxs("div",{className:"space-y-3 pt-4",children:[s.jsxs("button",{onClick:()=>i("Coming soon: Fun Zone!","info"),className:"w-full secondary-button flex items-center justify-center gap-3 text-lg bg-navy-accent border-disabled text-text-secondary hover:border-electric-blue hover:text-electric-blue",children:[s.jsx(Gn,{size:20})," Fun Zone"]}),s.jsxs("button",{onClick:r,className:"w-full primary-button flex items-center justify-center gap-3 text-lg",children:[s.jsx(Rs,{size:20})," Live Game"]}),s.jsxs("button",{onClick:a,className:"w-full secondary-button flex items-center justify-center gap-3 text-lg",children:[s.jsx(af,{size:20})," Join Game"]})]}),s.jsx("p",{className:"text-xs text-text-disabled text-center pt-2",children:"Codes expire once the game ends."})]})}):null,bL=[{id:"lg_type_1",name:"Prediction Duel",description:"Predict live match outcomes against a friend."},{id:"lg_type_2",name:"Fantasy Duel",description:"Pick your best 6 players for this match."},{id:"lg_type_3",name:"Head-to-Head",description:"Challenge a friend in a direct betting competition."}],jL=({isOpen:e,onClose:t,matchId:n,matchName:r})=>{const[a,i]=h.useState("select_type"),[o,l]=h.useState(null),[c,d]=h.useState("none"),[u,m]=h.useState(null),[f,p]=h.useState(!1),{userLeagues:y,createLiveSession:v}=he();h.useEffect(()=>{e&&(i("select_type"),l(null),d("none"),m(null),p(!1))},[e]);const j=k=>{l(k),i("link")},x=()=>{if(!n||!o)return;const _=v(n,o,c==="none"?void 0:c);m(_),i("confirm")},g=()=>{if(!u||!u.pin)return;const k=`${window.location.origin}/live/${u.id}?pin=${u.pin}`;navigator.clipboard.writeText(k),p(!0),setTimeout(()=>p(!1),2e3)},b=()=>s.jsx("div",{className:"space-y-3",children:bL.map(k=>s.jsxs("button",{onClick:()=>j(k.id),className:"w-full text-left p-4 rounded-xl bg-deep-navy hover:bg-navy-accent border-2 border-disabled hover:border-electric-blue/50 transition-all",children:[s.jsx("h4",{className:"font-bold text-text-primary",children:k.name}),s.jsx("p",{className:"text-sm text-text-secondary",children:k.description})]},k.id))}),w=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>i("select_type"),className:"flex items-center gap-2 text-sm text-text-secondary font-semibold hover:text-electric-blue",children:[s.jsx(Ve,{size:16})," Back"]}),s.jsxs("select",{value:c,onChange:k=>d(k.target.value),className:"input-base",children:[s.jsx("option",{value:"none",children:"Start without linking (PIN)"}),y.map(k=>s.jsxs("option",{value:k.id,children:["Link to: ",k.name]},k.id))]}),s.jsx("button",{onClick:x,className:"w-full primary-button",children:"Start Game"})]}),N=()=>s.jsxs("div",{className:"space-y-4 text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-lime-glow",children:"✅ Game Created!"}),u!=null&&u.pin?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-text-secondary",children:"Share this code with your friends:"}),s.jsx("p",{className:"text-5xl font-bold tracking-widest text-warm-yellow",style:{fontVariantNumeric:"tabular-nums"},children:u.pin}),s.jsxs("div",{className:"bg-deep-navy p-2 rounded-xl flex items-center gap-2",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/live/${u.id}?pin=${u.pin}`,readOnly:!0,className:"flex-1 bg-transparent text-xs text-text-disabled truncate"}),s.jsx("button",{onClick:g,className:"p-2 bg-electric-blue text-white rounded-lg hover:bg-electric-blue/80",children:f?s.jsx(Vn,{size:16}):s.jsx(rf,{size:16})})]})]}):s.jsx("p",{className:"text-text-secondary",children:"The game has been linked to your league. Members can join from the league page."}),s.jsx("button",{onClick:t,className:"w-full primary-button mt-4",children:"Done"})]}),S={select_type:"Choose Live Game Type",link:"Link to a League",confirm:"Session Created"};return e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:S[a]}),r&&s.jsx("p",{className:"text-text-secondary text-sm mt-1",children:r})]}),s.jsx($e,{mode:"wait",children:s.jsxs(ye.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.2},children:[a==="select_type"&&b(),a==="link"&&w(),a==="confirm"&&N()]},a)})]})}):null},wL=({isOpen:e,onClose:t})=>{const{joinLiveSession:n}=he(),{addToast:r}=B1(),[a,i]=h.useState(""),[o,l]=h.useState(!1),c=d=>{d.preventDefault(),a.length===5&&(l(!0),setTimeout(()=>{const u=n(a);u?(r("Joined game! Redirecting...","success"),console.log("Joined session:",u),t()):r("Game not found or expired.","error"),l(!1),i("")},500))};return e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Join Game"}),s.jsx("p",{className:"text-text-secondary mt-1",children:"Enter the 5-digit PIN to join."})]}),s.jsxs("form",{onSubmit:c,className:"space-y-4 pt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-disabled mb-1",htmlFor:"pin-input",children:"Game PIN"}),s.jsxs("div",{className:"relative",children:[s.jsx(af,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-warm-yellow"}),s.jsx("input",{id:"pin-input",type:"text",value:a,onChange:d=>i(d.target.value.replace(/\D/g,"").slice(0,5)),className:"w-full pl-12 pr-4 py-3 bg-deep-navy border-2 border-disabled rounded-xl text-center text-2xl tracking-[0.5em] font-bold",required:!0,placeholder:"_ _ _ _ _",maxLength:5})]})]}),s.jsx("button",{type:"submit",disabled:o||a.length!==5,className:"w-full primary-button flex items-center justify-center gap-3 text-lg",children:o?s.jsx(vt,{className:"animate-spin"}):"Join Game"})]})]})}):null},NL={gameplay:s.jsx(pn,{size:16}),league:s.jsx(rt,{size:16}),squad:s.jsx(Gn,{size:16}),premium:s.jsx(Un,{size:16}),reminder:s.jsx(nf,{size:16}),system:s.jsx(vc,{size:16})},kL={gameplay:"text-lime-glow",league:"text-electric-blue",squad:"text-warm-yellow",premium:"text-purple-400",reminder:"text-hot-red",system:"text-text-disabled"},SL=({notification:e,onMarkAsRead:t})=>s.jsx("div",{onClick:e.isRead?void 0:t,className:`p-4 border-b border-disabled cursor-pointer transition-colors ${e.isRead?"bg-deep-navy":"bg-navy-accent hover:bg-navy-accent/50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[!e.isRead&&s.jsx("div",{className:"w-2 h-2 mt-1.5 bg-electric-blue rounded-full flex-shrink-0"}),s.jsx("div",{className:`mt-1 ${kL[e.type]}`,children:NL[e.type]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("h4",{className:"font-bold text-text-primary",children:e.title}),s.jsx("p",{className:"text-xs text-text-disabled",children:mf(new Date(e.timestamp),{addSuffix:!0})})]}),s.jsx("p",{className:"text-sm text-text-secondary",children:e.message}),e.action&&s.jsx("button",{className:"text-sm font-bold text-electric-blue mt-2 hover:underline",children:e.action.label})]})]})}),_L=({isOpen:e,onClose:t,notifications:n,onMarkAsRead:r,onMarkAllAsRead:a})=>{const i=n.filter(o=>!o.isRead).length;return s.jsx($e,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-50"}),s.jsxs(ye.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 bottom-0 w-full max-w-md bg-deep-navy border-l border-disabled shadow-2xl flex flex-col z-50",children:[s.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-disabled flex-shrink-0",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Notifications"}),s.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&s.jsx("button",{onClick:a,className:"text-xs font-semibold text-electric-blue hover:underline",children:"Mark all as read"}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:20})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length>0?n.map(o=>s.jsx(SL,{notification:o,onMarkAsRead:()=>r(o.id)},o.id)):s.jsxs("div",{className:"text-center p-8 text-text-disabled",children:[s.jsx(yN,{size:48,className:"mx-auto mb-4"}),s.jsx("p",{className:"font-semibold",children:"All caught up!"}),s.jsx("p",{className:"text-sm",children:"You have no new notifications."})]})})]})]})})},CL=({currentWins:e})=>{const t=wd[wd.length-1].wins,n=e/t*100,[r,a]=h.useState(null);return s.jsxs("div",{className:"card-base p-5 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("h3",{className:"text-lg font-bold text-text-secondary",children:"Win Progression"}),s.jsxs("p",{className:"font-bold text-warm-yellow",children:[e," / ",t," Wins"]})]}),s.jsxs("div",{className:"w-full bg-disabled rounded-full h-4 relative",children:[s.jsx("div",{className:"bg-gradient-to-r from-electric-blue to-neon-cyan h-4 rounded-full",style:{width:`${n}%`}}),wd.map(i=>{const o=e>=i.wins,l=i.wins/t*100;return s.jsxs("div",{className:"absolute top-1/2 -translate-x-1/2 -translate-y-1/2",style:{left:`${l}%`},children:[s.jsx("button",{onMouseEnter:()=>a(i.wins),onMouseLeave:()=>a(null),className:`w-5 h-5 rounded-full border-2 transition-all ${o?"bg-lime-glow border-white":"bg-disabled border-deep-navy"}`}),s.jsx($e,{children:r===i.wins&&s.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max p-2 bg-deep-navy border border-disabled rounded-lg shadow-xl z-10",children:[s.jsxs("p",{className:"text-xs font-bold text-text-primary",children:[i.wins," Wins Reward:"]}),s.jsx("ul",{className:"text-xs text-text-secondary",children:i.rewards.map((c,d)=>s.jsxs("li",{children:["- ",c.type==="spin"?`${c.value} spin`:`${c.value} ${c.type}`]},d))})]})})]},i.wins)})]})]})},ML={free:{title:"Free Spin",description:"Spin once daily!",color:"from-lime-glow/20 to-lime-glow/5",borderColor:"border-lime-glow"},rookie:{title:"Rookie Spin",description:"Requires Rookie Ticket",color:"from-lime-glow/40 to-lime-glow/10",borderColor:"border-lime-glow"},pro:{title:"Pro Spin",description:"Requires Pro Ticket",color:"from-warm-yellow/40 to-warm-yellow/10",borderColor:"border-warm-yellow"},elite:{title:"Elite Spin",description:"Requires Elite Ticket",color:"from-hot-red/40 to-hot-red/10",borderColor:"border-hot-red"},premium:{title:"Premium Spin",description:"Subscriber Exclusive",color:"from-electric-blue/40 to-neon-cyan/20",borderColor:"border-neon-cyan"}},Wa=({tier:e,onClick:t,isAvailable:n})=>{const r=ML[e];return s.jsxs("div",{onClick:t,className:`card-base p-3 flex flex-col justify-between space-y-2 text-center transition-all duration-300 cursor-pointer 
                 ${n?"opacity-100 hover:shadow-lg hover:border-neon-cyan/50":"opacity-60 hover:opacity-80"}`,children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:`w-12 h-12 rounded-full mx-auto bg-gradient-to-br ${r.color} flex items-center justify-center`,children:s.jsx(pr,{className:"w-6 h-6 text-white/50"})}),s.jsx("h4",{className:"font-bold text-text-primary text-sm",children:r.title}),s.jsx("p",{className:"text-xs text-text-disabled truncate",children:r.description})]}),s.jsxs("div",{className:"space-y-1",children:[e==="free"&&s.jsxs("div",{className:`flex items-center justify-center gap-1 text-[10px] font-semibold ${n?"text-lime-glow":"text-text-disabled"}`,children:[n?s.jsx(fn,{size:12}):null,n?"Available":"Spun"]}),e!=="free"&&!n&&s.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] font-semibold text-text-disabled",children:[s.jsx(DN,{size:12}),s.jsx("span",{children:"Locked"})]}),s.jsx("button",{onClick:t,className:`w-full py-1.5 text-xs font-bold rounded-lg transition-colors ${n?"primary-button":"bg-navy-accent border-2 border-disabled text-text-secondary hover:border-electric-blue/50"}`,children:n?"Spin":"Rewards"})]})]})},TL=({game:e})=>s.jsxs("div",{className:"card-base p-4 space-y-3 opacity-70",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-text-primary",children:e.name}),s.jsx("p",{className:"text-sm text-text-secondary",children:e.description})]}),s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-full bg-warm-yellow/20 text-warm-yellow",children:"Coming Soon"})]}),s.jsxs("button",{disabled:!0,className:"w-full primary-button py-2 text-sm flex items-center justify-center gap-2",children:[s.jsx(pn,{size:16})," Play"]})]}),PL=({isOpen:e,onClose:t,userId:n,addToast:r})=>{const{performFreeSpin:a}=he(),[i,o]=h.useState(!1),[l,c]=h.useState(0),[d,u]=h.useState(null),m=360/Ss.length,f=()=>{if(i)return;o(!0),u(null);const p=a(n);if(!p){r("You've already had your free spin today!","info"),o(!1),t();return}const y=Ss.findIndex(b=>b.label===p.label),v=360*5,j=y*m+m/2,x=Math.random()*(m*.8)-m*.4,g=v-j-x;c(g),setTimeout(()=>{o(!1),u(p.label),r(`You won: ${p.label}`,"success")},4e3)};return e?s.jsxs("div",{className:"fixed inset-0 bg-deep-navy/80 backdrop-blur-xl flex flex-col items-center justify-center z-[60] animate-scale-in",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full z-10",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"relative w-[95vw] h-[95vw] max-w-lg max-h-lg flex items-center justify-center",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-2 z-10",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.5))"},children:s.jsx("div",{className:"w-0 h-0 border-l-8 border-r-8 border-b-16 border-l-transparent border-r-transparent border-b-warm-yellow"})}),s.jsxs(ye.div,{className:"relative w-full h-full rounded-full",style:{backgroundImage:`conic-gradient(from 0deg, ${Ss.map((p,y)=>`var(--tw-gradient-from) ${y*m}deg, var(--tw-gradient-to) ${(y+1)*m}deg`).join(", ")})`},animate:{rotate:l},transition:{duration:4,ease:"easeOut"},children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-radial from-lime-glow/20 to-lime-glow/5"}),Ss.map((p,y)=>{const v=y*m;return s.jsxs(Qe.Fragment,{children:[s.jsx("div",{className:"absolute w-full h-full",style:{transform:`rotate(${v+m/2}deg)`},children:s.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 w-48 text-center flex flex-col items-center gap-1",children:s.jsx("p",{className:"text-xs font-bold text-white uppercase tracking-wider",style:{textShadow:"0 1px 3px rgba(0,0,0,0.5)"},children:p.label})})}),y>0&&s.jsx("div",{className:"absolute top-0 left-1/2 w-px h-1/2 bg-white/20",style:{transform:`rotate(${v}deg)`,transformOrigin:"bottom"}})]},p.label)})]}),s.jsx("div",{className:"absolute w-1/3 h-1/3",children:s.jsx("button",{onClick:f,disabled:i,className:"w-full h-full rounded-full bg-deep-navy border-4 border-lime-glow flex flex-col items-center justify-center shadow-2xl transition-transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed",children:s.jsx("span",{className:"font-extrabold text-2xl tracking-wider text-white",children:"SPIN"})})})]}),d&&s.jsx(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"absolute bottom-10 text-center",children:s.jsxs("div",{className:"bg-navy-accent/80 backdrop-blur-md p-4 rounded-xl shadow-lg flex items-center gap-2",children:[s.jsx(we,{size:20,className:"text-warm-yellow"}),s.jsx("p",{className:"text-lg font-bold text-warm-yellow",children:d})]})})]}):null},DL={free:{title:"Free Spin"},rookie:{title:"Rookie Spin"},pro:{title:"Pro Spin"},elite:{title:"Elite Spin"},premium:{title:"Premium Spin"}},LL=({isOpen:e,onClose:t,tier:n})=>{if(!e)return null;const r=n==="free"?Ss.map(i=>({...i,id:i.label,baseChance:i.probability,category:i.type})):pf[n]||[],a=DL[n];return s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-[70] animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"inline-block bg-warm-yellow/10 p-4 rounded-full mb-2",children:s.jsx(we,{size:32,className:"text-warm-yellow"})}),s.jsxs("h2",{className:"text-2xl font-bold text-text-primary",children:[a.title," Rewards"]}),s.jsxs("p",{className:"text-sm text-text-secondary",children:["Unlock this wheel with a ",n," ticket to win bigger rewards!"]})]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:r.map(i=>s.jsx("div",{className:"bg-deep-navy p-3 rounded-lg",children:s.jsx("p",{className:"font-semibold text-text-primary capitalize",children:i.label})},i.id))}),s.jsx("button",{onClick:()=>alert("Ticket acquisition info coming soon!"),className:"w-full primary-button mt-4",children:"How to Get Tickets"})]})})},AL=({profile:e,onOpenSpinWheel:t,addToast:n})=>{const{funzone:r,userTickets:a}=he(),[i,o]=h.useState(!1),[l,c]=h.useState(null),d=!r.dailySpinLastUsed||ll(new Date,new Date(r.dailySpinLastUsed))>=24,u=f=>{f==="free"?d?o(!0):n("You can only spin the free wheel once a day.","info"):c(f)},m=f=>f==="free"?d:!1;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:"FunZone 🎮"}),s.jsx("p",{className:"text-text-secondary mt-1",children:"Play, progress, and spin your way to rewards!"})]}),s.jsx(CL,{currentWins:r.userProgress}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Spinwheels"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx(Wa,{tier:"free",onClick:()=>u("free"),isAvailable:m("free")}),s.jsx(Wa,{tier:"rookie",onClick:()=>u("rookie"),isAvailable:m("rookie")}),s.jsx(Wa,{tier:"pro",onClick:()=>u("pro"),isAvailable:m("pro")}),s.jsx(Wa,{tier:"elite",onClick:()=>u("elite"),isAvailable:m("elite")}),s.jsx(Wa,{tier:"premium",onClick:()=>u("premium"),isAvailable:m("premium")})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Casual Games"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.availableGames.map(f=>s.jsx(TL,{game:f},f.id))})]})]}),e&&s.jsx(PL,{isOpen:i,onClose:()=>o(!1),userId:e.id,addToast:n}),s.jsx(LL,{isOpen:!!l,onClose:()=>c(null),tier:l})]})},EL=[{icon:"💰",title:"5,000 Welcome Coins",description:"Get a one-time bonus of 5,000 coins instantly upon subscribing."},{icon:"🎟️",title:"Double Daily Tickets",description:"Receive two free tickets every day to enter exclusive tournaments."},{icon:"⚡",title:"2x XP Gain",description:"Level up twice as fast with a permanent experience point booster on all activities."},{icon:"💎",title:"Exclusive Tournaments",description:"Access premium-only tournaments with bigger prize pools and unique rewards."},{icon:"✨",title:"Cosmetic Badge",description:"Show off your premium status with an exclusive badge on your profile."},{icon:"🤫",title:"Ad-Free Experience",description:"Enjoy Sportime completely uninterrupted, with no ads."}],IL=({isOpen:e,onClose:t,onSubscribe:n})=>e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/80 backdrop-blur-lg flex items-center justify-center p-4 z-[100] animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-md w-full p-6 space-y-6 relative border-2 border-warm-yellow/50",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:24})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-warm-yellow",children:"💎 Go Premium"}),s.jsx("p",{className:"text-text-secondary mt-1",children:"Unlock the ultimate Sportime experience."})]}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:EL.map(r=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-xl mt-0.5",children:r.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-text-primary",children:r.title}),s.jsx("p",{className:"text-xs text-text-disabled",children:r.description})]})]},r.title))}),s.jsx("div",{className:"bg-deep-navy/50 p-3 rounded-lg text-center",children:s.jsx("p",{className:"text-sm font-semibold text-lime-glow",children:"One-time welcome bonus: +5,000 Coins! ✨"})}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsx("button",{onClick:()=>n("monthly"),className:"w-full primary-button",children:"Subscribe – €7.99/month"}),s.jsx("button",{onClick:()=>n("seasonal"),className:"w-full secondary-button",children:"Subscribe – €39.99 / 6 months"})]})]})}):null,RL=({name:e,coins:t,price:n,bonus:r,isBestValue:a,onClick:i})=>s.jsxs("div",{className:`card-base p-3 flex flex-col justify-between text-center relative overflow-hidden transition-all duration-300 ${a?"border-warm-yellow":"hover:border-electric-blue/50"}`,children:[a&&s.jsxs("div",{className:"absolute top-0 right-0 bg-warm-yellow text-deep-navy text-[10px] font-bold px-2 py-0.5 rounded-bl-lg flex items-center gap-1",children:[s.jsx(yc,{size:10})," Best Value"]}),s.jsxs("div",{className:"space-y-1 my-2",children:[s.jsx("h3",{className:"text-md font-bold text-text-primary",children:e}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(_t,{size:20,className:"text-warm-yellow"}),s.jsx("p",{className:"text-3xl font-bold text-warm-yellow",children:t.toLocaleString()})]}),r>0&&s.jsxs("p",{className:"text-xs font-semibold text-lime-glow",children:["+",r,"% Bonus"]})]}),s.jsxs("button",{onClick:i,className:"w-full primary-button py-2 text-sm",children:["Buy for ",n.toFixed(2)," €"]})]}),OL=({isOpen:e,onClose:t,onConfirm:n,pack:r})=>e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full transition-colors",children:s.jsx(Z,{className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"inline-block bg-warm-yellow/10 p-3 rounded-full mb-2",children:s.jsx(_t,{size:32,className:"text-warm-yellow"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Confirm Purchase"}),s.jsxs("p",{className:"text-text-secondary",children:["You are about to purchase the ",s.jsx("b",{className:"text-text-primary",children:r.name}),"."]})]}),s.jsxs("div",{className:"bg-deep-navy border border-disabled rounded-xl p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center text-lg",children:[s.jsx("span",{className:"font-semibold text-text-secondary",children:"Coins"}),s.jsx("span",{className:"font-bold text-warm-yellow",children:r.coins.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"font-semibold text-text-secondary",children:"Bonus"}),s.jsxs("span",{className:"font-bold text-lime-glow",children:["+",r.bonus,"%"]})]}),s.jsxs("div",{className:"flex justify-between items-center text-xl font-bold pt-2 border-t border-disabled",children:[s.jsx("span",{className:"text-text-primary",children:"Total"}),s.jsxs("span",{className:"text-electric-blue",children:[r.priceEUR.toFixed(2)," €"]})]})]}),s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("button",{onClick:n,className:"w-full primary-button flex items-center justify-center gap-2",children:[s.jsx(fn,{size:18})," Confirm & Pay"]}),s.jsx("button",{onClick:t,className:"w-full py-3 text-sm font-semibold text-text-secondary hover:bg-white/10 rounded-xl",children:"Cancel"})]})]})}):null,zL=({onClick:e})=>s.jsxs("div",{className:"card-base p-4 border-dashed border-warm-yellow/50 text-center space-y-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-warm-yellow flex items-center justify-center gap-2",children:[s.jsx(yc,{size:20})," Go Premium"]}),s.jsx("p",{className:"text-sm text-text-secondary",children:"Get 5,000 coins, XP boost, and free entries every month."}),s.jsx("button",{onClick:e,className:"font-semibold text-sm text-deep-navy bg-warm-yellow px-4 py-2 rounded-lg hover:opacity-90",children:"See Premium Benefits"})]}),FL=({isOpen:e,onClose:t,profile:n,addToast:r,onOpenPremiumModal:a,onTriggerSignUp:i})=>{const[o,l]=h.useState(null),{purchaseCoinPack:c}=he();if(!e)return null;const d=p=>{l(p)},u=()=>{if(n&&o){c(o,n.id);const p=cl.find(y=>y.id===o);p&&r(`+${p.coins.toLocaleString()} coins added!`,"success"),l(null)}},m=()=>{if(!n||n.is_guest){i(),t();return}const p=`https://sportime.app/invite?ref=${n.referralCode||n.id}`;navigator.clipboard.writeText(p),r("✅ Invite link copied! You’ll each earn 1,000 coins once your friend joins and bets.","success")},f=cl.find(p=>p.id===o);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-md w-full h-auto max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-disabled",children:[s.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Coin Shop"}),s.jsx("button",{onClick:t,className:"p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:20})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.jsx("p",{className:"text-center text-sm text-text-secondary",children:"Stock up on coins to join more games and win big!"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[cl.map(p=>s.jsx(RL,{name:p.name,coins:p.coins,price:p.priceEUR,bonus:p.bonus,isBestValue:p.isBestValue,onClick:()=>d(p.id)},p.id)),s.jsxs("div",{className:"card-base p-3 flex flex-col justify-between text-center relative overflow-hidden",children:[s.jsxs("div",{className:"space-y-1 my-2",children:[s.jsx("h3",{className:"text-md font-bold text-text-primary",children:"🎉 Invite & Earn!"}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("p",{className:"text-3xl font-bold text-warm-yellow",children:"+1,000"}),s.jsx(_t,{size:20,className:"text-warm-yellow"})]}),s.jsx("p",{className:"text-xs text-text-secondary h-10",children:"Invite friends & you both get coins when they place their first bet."})]}),s.jsxs("button",{onClick:m,className:"w-full primary-button py-2 text-sm flex items-center justify-center gap-2",children:[s.jsx(rf,{size:14})," Copy Invite Link"]})]})]}),s.jsx("div",{className:"pt-4",children:n&&!n.is_subscriber?s.jsx(zL,{onClick:a}):n&&n.subscription_expires_at?s.jsx(G1,{expiryDate:n.subscription_expires_at}):null})]})]})}),f&&s.jsx(OL,{isOpen:!!o,onClose:()=>l(null),onConfirm:u,pack:f})]})},BL=({isOpen:e,onClaim:t,streakDay:n})=>e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/80 backdrop-blur-lg flex items-center justify-center p-4 z-[100] animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-8 space-y-6 text-center border-2 border-warm-yellow/50",children:[s.jsx("div",{className:"inline-block bg-warm-yellow/10 p-4 rounded-full",children:s.jsx(Gn,{className:"w-12 h-12 text-warm-yellow"})}),s.jsxs("h2",{className:"text-3xl font-bold text-text-primary",children:["Day ",n," Streak!"]}),s.jsx("p",{className:"text-text-secondary",children:"Your daily reward is ready. Keep the fire going!"}),s.jsx("button",{onClick:t,className:"w-full primary-button text-lg",children:"Claim Reward"})]})}):null,VL=({isOpen:e,onClose:t,onConfirm:n,title:r,message:a})=>e?s.jsx("div",{className:"fixed inset-0 bg-deep-navy/60 backdrop-blur-sm flex items-center justify-center p-4 z-[90] animate-scale-in",children:s.jsxs("div",{className:"modal-base max-w-sm w-full p-6 space-y-5 relative",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-text-secondary hover:bg-white/10 rounded-full",children:s.jsx(Z,{size:20})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"inline-block bg-warm-yellow/10 p-3 rounded-full mb-2",children:s.jsx(yc,{size:28,className:"text-warm-yellow"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:r}),s.jsx("p",{className:"text-text-secondary",children:a})]}),s.jsxs("div",{className:"flex gap-3 pt-3",children:[s.jsx("button",{onClick:t,className:"flex-1 py-2.5 bg-disabled text-text-secondary rounded-lg font-semibold",children:"Maybe Later"}),s.jsx("button",{onClick:n,className:"flex-1 primary-button py-2.5",children:"Go Premium"})]})]})}):null;function $L(){const[e,t]=h.useState(!0),{toasts:n,addToast:r,removeToast:a}=B1(),[i,o]=h.useState("guest"),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[m,f]=h.useState({isOpen:!1,tier:null}),[p,y]=h.useState(!1),[v,j]=h.useState(!1),[x,g]=h.useState(!1),[b,w]=h.useState({isOpen:!1,streakDay:0}),[N,S]=h.useState(null),[k,_]=h.useState("challenges"),[O,T]=h.useState(lf),[C,D]=h.useState([]),[P,B]=h.useState({isOpen:!1,match:null,prediction:null,odds:0}),[I,V]=h.useState({isOpen:!1,matchId:null,matchName:null}),[z,R]=h.useState({isOpen:!1,matchId:null,matchName:null}),[F,E]=h.useState({isOpen:!1}),{currentUserId:Y,setCurrentUserId:H,allUsers:Q,updateUser:X,ensureUserExists:le,games:K,userLeagues:oe,leagueMembers:ne,leagueGames:je,liveGames:de,predictionChallenges:Xt,userTickets:Le,userStreaks:zt,createLeague:bt,linkGameToLeagues:Tt,createLeagueAndLink:Ft,createLiveGame:ls,submitLiveGamePrediction:J,editLiveGamePrediction:ae,placeLiveBet:U,tickLiveGame:ie,joinChallenge:ue,joinSwipeGame:He,notifications:cs,markNotificationAsRead:Sa,markAllNotificationsAsRead:_a,subscribeToPremium:Tn,checkDailyStreak:hn,claimDailyStreak:Us}=he(),A=h.useMemo(()=>Q.find(M=>M.id===Y),[Q,Y]),{initializeUserSpinState:xn}=Oi(),{userChallengeEntries:Wn,userSwipeEntries:Qt,userFantasyTeams:jr}=he(M=>({userChallengeEntries:M.userChallengeEntries,userSwipeEntries:M.userSwipeEntries,userFantasyTeams:M.userFantasyTeams})),[Ca,fo]=h.useState([]),[Ic,po]=h.useState([]),[Rc,op]=h.useState(u_),[ho,Te]=h.useState(null),[Ze,We]=h.useState(null),[Pn,dt]=h.useState(!1),[ze,Pt]=h.useState(null),[Jt,Ae]=h.useState(null),[Zt,jt]=h.useState(null),[ut,Dn]=h.useState(null),[Yn,Bt]=h.useState(null),[ds,us]=h.useState(null),[gn,Ln]=h.useState(null),[lp,J1]=h.useState({x2:!1,x3:!1}),[xo,Oc]=h.useState(null),[Ma,zc]=h.useState({isOpen:!1,game:null}),[Z1,cp]=h.useState(!1),[ej,Gs]=h.useState("swiping"),[wr,Fc]=h.useState(null),[dp,up]=h.useState(null),[Nr,mp]=h.useState(null),[fp,go]=h.useState(!1),[tj,Bc]=h.useState(!1),[nj,pp]=h.useState(!1),[sj,hp]=h.useState(!1);h.useEffect(()=>{(async()=>{fo(Xs),po(ff)})()},[]),h.useEffect(()=>{const L=window.location.pathname.match(/\/join\/([a-zA-Z0-9]+)/);L&&L[1]&&(We(L[1]),window.history.replaceState({},document.title,"/"))},[]),h.useEffect(()=>{(()=>{const L=$l.find(G=>G.id==="user-1");if(L){const G=L,xe=G.id;localStorage.setItem("sportime_user",JSON.stringify(G)),le(G),H(xe)}else{const G=`guest-${te()}`,xe={id:G,username:"Guest",coins_balance:1e3,created_at:new Date().toISOString(),is_guest:!0,verified:!1,email:null};le(xe),H(G)}})()},[le,H]);const rj=()=>{if(!A)return;const{reward:M,streakDay:L}=Us(A.id);let G="";M.coins&&(G=`You earned +${M.coins} coins!`),M.ticket&&(G=`You earned a ${M.ticket} Ticket!`),r(`Day ${L} streak claimed! ${G}`,"success"),w({isOpen:!1,streakDay:0})};h.useEffect(()=>{if(A){if(o(A.is_guest?"guest":"authenticated"),xn(A.id),!A.is_guest){const{isAvailable:L,streakDay:G}=hn(A.id);L&&w({isOpen:!0,streakDay:G})}localStorage.getItem("sportime_seen_swipe_tutorial")&&cp(!0),t(!1)}else t(!0)},[A,xn,hn]);const ms=(A==null?void 0:A.coins_balance)??0,Ta=M=>{A&&he.getState().setCoinBalance(A.id,M)},Hn=()=>{A!=null&&A.is_guest&&c(!0)},aj=()=>{c(!1),o("signing_up")},ij=()=>{o(A!=null&&A.is_guest?"guest":"authenticated")},oj=M=>{const L=()=>{const G={id:te(),email:M,username:`user_${te().slice(0,4)}`,coins_balance:1e3,created_at:new Date().toISOString(),is_guest:!1,verified:!0};le(G),H(G.id),o("onboarding")};he.getState().isTestMode?(r("Test Mode: Skipping verification...","info"),L()):(r("Simulating Magic Link verification...","info"),setTimeout(()=>{L(),r("Verification successful! Please set up your profile.","success")},1500))},lj=async()=>{localStorage.removeItem("sportime_user");const L={id:`guest-${te()}`,username:"Guest",coins_balance:1e3,created_at:new Date().toISOString(),is_guest:!0,verified:!1,email:null};le(L),H(L.id),_("challenges"),r("You have been signed out.","info")},cj=async M=>{if(!A||A.is_guest)return;t(!0),r("Updating profile...","info");let L=A.profile_picture_url;M.newProfilePic&&(L=URL.createObjectURL(M.newProfilePic));const G={username:M.username,display_name:M.displayName,profile_picture_url:L,favorite_club:M.favoriteClub===null?void 0:M.favoriteClub||A.favorite_club,favorite_national_team:M.favoriteNationalTeam===null?void 0:M.favoriteNationalTeam||A.favorite_national_team};G.sports_preferences={...A.sports_preferences,football:{club:G.favorite_club,national_team:G.favorite_national_team}},X(A.id,G),localStorage.setItem("sportime_user",JSON.stringify({...A,...G})),r("Profile updated successfully!","success"),t(!1)},dj=async M=>{},uj=async()=>{},mj=M=>{if(!A)return;const L={...A,...M,verified:!0};X(A.id,L),localStorage.setItem("sportime_user",JSON.stringify(L)),r(`Welcome to Sportime, ${L.display_name||L.username}!`,"success")},fj=(M,L,G)=>{B({isOpen:!0,match:M,prediction:L,odds:G})},pj=(M,L,G)=>{if(P.match){const xe={prediction:L,amount:M,odds:G},_e=C.findIndex(wt=>wt.matchId===P.match.id);if(_e!==-1){const wt=C[_e],Ws=[...C];Ws[_e]={...wt,...xe},D(Ws),Ta(ms+wt.amount-M)}else{const wt={matchId:P.match.id,...xe,status:"pending"};D([...C,wt]),Ta(ms-M)}}},hj=M=>{const L=C.find(G=>G.matchId===M);L&&(Ta(ms+L.amount),D(G=>G.filter(xe=>xe.matchId!==M)))},xj=async(M,L,G)=>{console.log("Updating daily bets (UI event):",{challengeId:M,day:L,newBets:G})},gj=async(M,L,G)=>{console.log("Setting daily booster (UI event):",{challengeId:M,day:L,booster:G})},yj=M=>{const L={...lp,[M]:!0};J1(L),r(`Preference saved. This dialog will not show again for ${M.toUpperCase()}.`,"info")},xp=M=>{if(A!=null&&A.is_guest){Hn();return}const L=K.find(G=>G.id===M);L&&zc({isOpen:!0,game:L})},vj=async()=>{const{game:M}=Ma;if(!(!M||!A||A.is_guest))if(ms>=M.entry_cost){Ta(ms-M.entry_cost);const L=He(M.id,A.id);L.success?(zc({isOpen:!1,game:null}),r(`Successfully joined "${M.name}"!`,"success"),Gs("swiping"),Dn(M.id)):(r(L.message,"error"),Ta(ms))}else r("Insufficient funds to join this game.","error")},Vc=M=>{var xe;const L=K.find(_e=>_e.id===M&&_e.game_type==="prediction"),G=Qt.find(_e=>_e.user_id===(A==null?void 0:A.id)&&_e.matchDayId===M);if(L&&G){const _e=G.predictions.length>=(((xe=L.matches)==null?void 0:xe.length)||0),wt=L.status==="Upcoming";Gs(wt&&!_e?"swiping":"recap")}else Gs("swiping");Dn(M)},bj=(M,L,G)=>{var wt;if(A!=null&&A.is_guest){Hn();return}he.getState().handleSwipePrediction(M,A.id,L,G);const xe=K.find(Ws=>Ws.id===M),_e=Qt.find(Ws=>Ws.user_id===(A==null?void 0:A.id)&&Ws.matchDayId===M);xe&&_e&&_e.predictions.length+1>=(((wt=xe.matches)==null?void 0:wt.length)||0)&&setTimeout(()=>Gs("recap"),350)},jj=(M,L,G)=>{he.getState().updateSwipePrediction(M,A.id,L,G),r("Prediction updated!","info")},wj=()=>{ut&&Gs("swiping")},Nj=()=>{Gs("recap")},kj=M=>{M&&localStorage.setItem("sportime_seen_swipe_tutorial","true"),cp(!0)},gp=M=>{us(M)},Sj=(M,L,G)=>{if(!A||A.is_guest){Hn();return}const xe=bt(M,L,A);return r(`League "${M}" created!`,"success"),dt(!1),Te(xe.id),xe},_j=M=>{if(!A||A.is_guest){Hn();return}he.getState().joinLeague(M,A.id,L=>{L?(r(`Welcome to ${L.name}!`,"success"),Te(L.id),We(null)):(r("Invalid invite code.","error"),We(null))})},Cj=M=>{},Mj=M=>{},Tj=(M,L,G,xe)=>{Fc({leagueId:G,leagueName:xe,fromLeague:!0}),L==="betting"?jt(M):L==="prediction"?Bt(M):L==="fantasy"&&us(M)},Pj=(M,L)=>{Ln({id:M,status:L})},yp=h.useMemo(()=>{if(!A)return[];const M=new Set(ne.filter(L=>L.user_id===A.id&&L.role==="admin").map(L=>L.league_id));return oe.filter(L=>M.has(L.id))},[A,ne,oe]),$c=M=>{if(A!=null&&A.is_guest){Hn();return}mp(M),yp.length===0?Bc(!0):pp(!0)},Pa=()=>{mp(null),Bc(!1),pp(!1),hp(!1)},Dj=async(M,L)=>{!A||A.is_guest||!Nr||(go(!0),Ft(M,L,Nr,A),r(`League "${M}" created and linked successfully! 🎉`,"success"),Pa(),go(!1))},Lj=M=>{if(!Nr||!A)return;go(!0);const{linkedLeagueNames:L}=Tt(Nr,M);L.length>0&&r(`Game linked to ${L.join(", ")} ✅`,"success"),Pa(),go(!1)},Uc=(M,L)=>{if(!A)return;const G=ue(M,A.id,L);G.success?(r(G.message,"success"),Ae(M)):r(G.message,"error"),Oc(null)},vp=M=>{if(!A||A.is_guest){Hn();return}const L=Le.find(xe=>xe.user_id===A.id&&xe.type===M.tier&&!xe.is_used&&kn(new Date,se(xe.expires_at))),G=A.coins_balance>=M.entry_cost;L&&G?Oc(M):L?Uc(M.id,"ticket"):G?Uc(M.id,"coins"):r("You don't have enough coins or a valid ticket to join.","error")},bp=M=>{if((M==="profile"||M==="leagues"||M==="funzone")&&(A!=null&&A.is_guest)){Hn();return}_(M),Ae(null),jt(null),Dn(null),Bt(null),us(null),Te(null),We(null),Fc(null),Ln(null),up(null)},yo=()=>{const M=wr==null?void 0:wr.leagueId;jt(null),Bt(null),us(null),Fc(null),up(null),M&&Te(M)},jp=M=>{f({isOpen:!0,tier:M})},wp=h.useMemo(()=>{if(!A||A.is_guest)return 0;const M=new Set([...Wn.map(L=>L.challengeId),...Qt.map(L=>L.matchDayId),...jr.map(L=>L.gameId)]);return K.filter(L=>M.has(L.id)&&(L.status==="Upcoming"||L.status==="Ongoing")).length},[A,K,Wn,Qt,jr]),Aj=h.useMemo(()=>K.filter(M=>M.is_linkable),[K]),kr=h.useMemo(()=>{if(!A)return[];const M=ne.filter(L=>L.user_id===A.id).map(L=>L.league_id);return oe.filter(L=>M.includes(L.id))},[A,ne,oe]),Ej=h.useMemo(()=>A?Le.filter(M=>M.user_id===A.id&&!M.is_used&&kn(new Date,se(M.expires_at))).length:0,[Le,A]),Ij=(M,L)=>{V({isOpen:!0,matchId:M,matchName:L})},Rj=h.useMemo(()=>cs.filter(M=>!M.isRead).length,[cs]),Oj=M=>{A&&(Tn(A.id,M),r(`Subscribed to ${M} plan! Premium activated.`,"success"),j(!1))},zj=()=>{if(Ze){const M=oe.find(G=>G.invite_code===Ze),L=A?ne.some(G=>G.league_id===(M==null?void 0:M.id)&&G.user_id===A.id):!1;return s.jsx(qD,{league:M||null,isMember:L,onJoin:()=>_j(Ze),onGoToLeague:()=>{Te(M.id),We(null),_("leagues")},onCancel:()=>We(null)})}if(Zt){const M=K.find(L=>L.id===Zt&&L.game_type==="betting");if(M&&A){const L=Wn.find(G=>G.challengeId===Zt&&G.user_id===A.id);return s.jsx(c5,{challenge:M,matches:Ou,userEntry:L,onBack:yo,initialLeagueContext:wr,allUsers:Q,userLeagues:kr,leagueMembers:ne,leagueGames:je,currentUserId:A.id})}}if(Jt){const M=K.find(G=>G.id===Jt&&G.game_type==="betting"),L=Wn.find(G=>G.challengeId===Jt&&G.user_id===A.id);if(M&&L&&A)return s.jsx(i5,{challenge:M,matches:Ou.filter(G=>G.challengeId===Jt),userEntry:L,onUpdateDailyBets:xj,onSetDailyBooster:gj,onBack:()=>Ae(null),onViewLeaderboard:()=>jt(Jt),boosterInfoPreferences:lp,onUpdateBoosterPreferences:yj,onLinkGame:$c,profile:A,userLeagues:kr,leagueMembers:ne,leagueGames:je})}if(dp){const M=Xt.find(L=>L.id===dp);if(M&&A)return s.jsx(lL,{challenge:M,onBack:yo,allUsers:Q,userSwipeEntries:Qt,swipeMatchDays:K.filter(L=>L.game_type==="prediction"),currentUserId:A.id})}if(Yn){const M=K.find(L=>L.id===Yn&&L.game_type==="prediction");if(M&&A){const L=Qt.find(G=>G.user_id===A.id&&G.matchDayId===Yn);return s.jsx(j5,{matchDay:M,userEntry:L,onBack:yo,initialLeagueContext:wr,allUsers:Q,userLeagues:kr,leagueMembers:ne,leagueGames:je,currentUserId:A.id})}}if(ut){const M=K.find(G=>G.id===ut&&G.game_type==="prediction"),L=Qt.find(G=>G.user_id===(A==null?void 0:A.id)&&G.matchDayId===ut);if(M&&L&&A){const G=M.status==="Upcoming";return ej==="swiping"&&G?s.jsx(h5,{matchDay:M,userEntry:L,onSwipePrediction:bj,hasSeenSwipeTutorial:Z1,onDismissTutorial:kj,onExit:Nj}):s.jsx(g5,{allMatchDays:K.filter(xe=>xe.game_type==="prediction"&&Qt.some(_e=>_e.user_id===(A==null?void 0:A.id)&&_e.matchDayId===xe.id)),selectedMatchDayId:ut,userEntry:L,onBack:()=>Dn(null),onUpdatePrediction:G?jj:void 0,onViewLeaderboard:()=>Bt(ut),onSelectMatchDay:Vc,onEditPicks:G?wj:void 0,onLinkGame:$c,profile:A,userLeagues:kr,leagueMembers:ne,leagueGames:je})}}if(ds){const M=K.find(L=>L.id===ds&&L.game_type==="fantasy");if(M&&A)return s.jsx(lD,{game:M,allPlayers:ci,onBack:yo,initialLeagueContext:wr,allUsers:Q,userLeagues:kr,leagueMembers:ne,leagueGames:je,currentUserId:A.id,onLinkGame:$c,profile:A})}if(gn){const M=de.find(L=>L.id===gn.id);if(M&&A){const L=M.players.find(G=>G.user_id===A.id);if(M.mode==="prediction"){if(gn.status==="Upcoming")return s.jsx(eL,{game:M,onBack:()=>Ln(null),onSubmit:J,playerEntry:L});if(gn.status==="Ongoing")return s.jsx(tL,{game:M,onBack:()=>Ln(null),onEdit:ae,playerEntry:L,onTick:ie});if(gn.status==="Finished")return s.jsx(nL,{game:M,onBack:()=>Ln(null),playerEntry:L,currentUserId:A.id,leagueMembers:ne})}else if(M.mode==="betting"){if(gn.status==="Upcoming")return s.jsx(sL,{game:M,onBack:()=>Ln(null),playerEntry:L,onPlaceBet:U});if(gn.status==="Ongoing")return s.jsx(rL,{game:M,onBack:()=>Ln(null),playerEntry:L,onPlaceBet:U,onTick:ie});if(gn.status==="Finished")return s.jsx(aL,{game:M,onBack:()=>Ln(null),playerEntry:L,currentUserId:A.id,leagueMembers:ne})}else if(M.mode==="fantasy-live"){if(gn.status==="Upcoming")return s.jsx(cL,{game:M,onBack:()=>Ln(null)});if(gn.status==="Ongoing"||gn.status==="Finished")return s.jsx(dL,{game:M,onBack:()=>Ln(null)})}}}if(ho){const M=oe.find(L=>L.id===ho);if(M&&A){const L=ne.filter(_e=>_e.league_id===M.id),G=L.map(_e=>Q.find(wt=>wt.id===_e.user_id)).filter(Boolean),xe=L.find(_e=>_e.user_id===A.id);return s.jsx(HD,{league:M,members:G,memberRoles:L,currentUserRole:(xe==null?void 0:xe.role)||"member",currentUserId:A.id,onBack:()=>Te(null),onUpdateDetails:()=>{},onRemoveMember:()=>{},onResetInviteCode:()=>{},onLeave:()=>Pt({type:"leave",leagueId:M.id}),onDelete:()=>Pt({type:"delete",leagueId:M.id}),onViewGame:(_e,wt)=>Tj(_e,wt,M.id,M.name),onViewLiveGame:Pj,addToast:r,leagueGames:je,allGames:K,linkableGames:Aj})}}switch(k){case"matches":return s.jsx(Q5,{matches:O,bets:C,onBet:fj,onPlayGame:Ij});case"challenges":return s.jsx(Sg,{games:K,userChallengeEntries:Wn,userSwipeEntries:Qt,userFantasyTeams:jr,onJoinChallenge:vp,onViewChallenge:Ae,onJoinSwipeGame:xp,onPlaySwipeGame:Vc,onViewFantasyGame:gp,myGamesCount:wp,profile:A,userTickets:Le});case"leagues":return s.jsx(pD,{leagues:kr,onCreate:()=>dt(!0),onViewLeague:Te});case"funzone":return s.jsx(AL,{profile:A,onOpenSpinWheel:jp,addToast:r});case"admin":return s.jsx(y3,{profile:A,addToast:r});case"profile":return A&&!A.is_guest?s.jsx(A5,{profile:A,levels:Ca,allBadges:Ic,userBadges:Rc,userStreaks:zt,onUpdateProfile:cj,onUpdateEmail:dj,onSignOut:lj,onDeleteAccount:uj,onOpenSpinWheel:jp,onOpenPremiumModal:()=>j(!0)}):null;default:return s.jsx(Sg,{games:K,userChallengeEntries:Wn,userSwipeEntries:Qt,userFantasyTeams:jr,onJoinChallenge:vp,onViewChallenge:Ae,onJoinSwipeGame:xp,onPlaySwipeGame:Vc,onViewFantasyGame:gp,myGamesCount:wp,profile:A,userTickets:Le})}},Fj=P.match?C.find(M=>M.matchId===P.match.id):void 0;return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-deep-navy",children:s.jsx("div",{className:"text-2xl font-semibold text-text-secondary",children:"Loading..."})}):i==="signing_up"||Ze&&(A!=null&&A.is_guest)?s.jsx(fD,{onMagicLinkSent:oj,onBack:ij}):i==="onboarding"&&A?s.jsx(uD,{profile:A,onComplete:mj}):s.jsxs("div",{className:"main-background",children:[s.jsx(N5,{toasts:n,removeToast:a}),s.jsxs("div",{className:"max-w-md mx-auto px-4 pt-4 pb-28 space-y-4",children:[s.jsx(VN,{profile:A,ticketCount:Ej,onViewProfile:()=>bp("profile"),onSignIn:Hn,onViewTickets:()=>u(!0),notificationCount:Rj,onViewNotifications:()=>y(!0),onGoToShop:()=>g(!0),onOpenPremiumModal:()=>j(!0)}),zj()]}),s.jsx(UN,{activePage:k,onPageChange:bp}),P.match&&P.prediction&&s.jsx($N,{isOpen:P.isOpen,onClose:()=>B({...P,isOpen:!1}),match:P.match,prediction:P.prediction,odds:P.odds,balance:ms,onConfirm:pj,userBet:Fj,onCancelBet:hj}),xo&&s.jsx(u5,{isOpen:!!xo,onClose:()=>Oc(null),onSelectMethod:M=>Uc(xo.id,M),challenge:xo}),Ma.isOpen&&Ma.game&&s.jsx(y5,{isOpen:Ma.isOpen,onClose:()=>zc({isOpen:!1,game:null}),onConfirm:vj,game:Ma.game,userBalance:ms}),s.jsx(mD,{isOpen:l,onConfirm:aj,onCancel:()=>c(!1)}),s.jsx(KD,{isOpen:Pn,onClose:()=>dt(!1),onCreate:Sj}),ze&&s.jsx(q1,{isOpen:!!ze,onClose:()=>Pt(null),onConfirm:()=>ze.type==="leave"?Cj(ze.leagueId):Mj(ze.leagueId),title:ze.type==="leave"?"Leave League":"Delete League",message:ze.type==="leave"?"Are you sure you want to leave this league?":"This action is irreversible and will delete the league for all members. Are you sure?",confirmText:ze.type==="leave"?"Leave":"Delete",isDestructive:!0}),s.jsx(XD,{isOpen:tj,onClose:Pa,onCreateLeague:()=>{Bc(!1),hp(!0)}}),s.jsx(QD,{isOpen:sj,onClose:Pa,onCreate:Dj,loading:fp}),s.jsx(JD,{isOpen:nj,onClose:Pa,onLink:Lj,adminLeagues:yp,alreadyLinkedLeagueIds:Nr?je.filter(M=>M.game_id===Nr.id).map(M=>M.league_id):[],loading:fp}),s.jsx(mL,{isOpen:he.getState().showOnboardingTest,onClose:()=>he.getState().closeOnboardingTest()}),s.jsx(pL,{isOpen:d,onClose:()=>u(!1),tickets:A?Le.filter(M=>M.user_id===A.id):[]}),m.isOpen&&m.tier&&A&&s.jsx(yL,{isOpen:m.isOpen,onClose:()=>f({isOpen:!1,tier:null}),tier:m.tier,userId:A.id}),s.jsx(vL,{isOpen:I.isOpen,onClose:()=>V({isOpen:!1,matchId:null,matchName:null}),matchId:I.matchId,matchName:I.matchName,onStartLiveGame:()=>{R({isOpen:!0,matchId:I.matchId,matchName:I.matchName}),V({isOpen:!1,matchId:null,matchName:null})},onJoinGame:()=>{E({isOpen:!0}),V({isOpen:!1,matchId:null,matchName:null})},addToast:r}),s.jsx(jL,{isOpen:z.isOpen,onClose:()=>R({isOpen:!1,matchId:null,matchName:null}),matchId:z.matchId,matchName:z.matchName}),s.jsx(wL,{isOpen:F.isOpen,onClose:()=>E({isOpen:!1})}),s.jsx(_L,{isOpen:p,onClose:()=>y(!1),notifications:cs,onMarkAsRead:Sa,onMarkAllAsRead:_a}),s.jsx(IL,{isOpen:v,onClose:()=>j(!1),onSubscribe:Oj}),s.jsx(FL,{isOpen:x,onClose:()=>g(!1),profile:A,addToast:r,onOpenPremiumModal:()=>{g(!1),j(!0)},onTriggerSignUp:Hn}),s.jsx(BL,{isOpen:b.isOpen,onClaim:rj,streakDay:b.streakDay}),N&&s.jsx(VL,{...N})]})}J0(document.getElementById("root")).render(s.jsx(h.StrictMode,{children:s.jsx($L,{})}));
